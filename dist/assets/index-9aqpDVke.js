function gm(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const l in s)if(l!=="default"&&!(l in e)){const a=Object.getOwnPropertyDescriptor(s,l);a&&Object.defineProperty(e,l,a.get?a:{enumerable:!0,get:()=>s[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerPolicy&&(a.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?a.credentials="include":l.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(l){if(l.ep)return;l.ep=!0;const a=n(l);fetch(l.href,a)}})();function mu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var pu={exports:{}},cl={},hu={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hr=Symbol.for("react.element"),ym=Symbol.for("react.portal"),vm=Symbol.for("react.fragment"),jm=Symbol.for("react.strict_mode"),bm=Symbol.for("react.profiler"),Nm=Symbol.for("react.provider"),wm=Symbol.for("react.context"),Sm=Symbol.for("react.forward_ref"),Cm=Symbol.for("react.suspense"),km=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),ki=Symbol.iterator;function Tm(e){return e===null||typeof e!="object"?null:(e=ki&&e[ki]||e["@@iterator"],typeof e=="function"?e:null)}var xu={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},gu=Object.assign,yu={};function Hn(e,t,n){this.props=e,this.context=t,this.refs=yu,this.updater=n||xu}Hn.prototype.isReactComponent={};Hn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Hn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function vu(){}vu.prototype=Hn.prototype;function bo(e,t,n){this.props=e,this.context=t,this.refs=yu,this.updater=n||xu}var No=bo.prototype=new vu;No.constructor=bo;gu(No,Hn.prototype);No.isPureReactComponent=!0;var Ei=Array.isArray,ju=Object.prototype.hasOwnProperty,wo={current:null},bu={key:!0,ref:!0,__self:!0,__source:!0};function Nu(e,t,n){var s,l={},a=null,o=null;if(t!=null)for(s in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(a=""+t.key),t)ju.call(t,s)&&!bu.hasOwnProperty(s)&&(l[s]=t[s]);var i=arguments.length-2;if(i===1)l.children=n;else if(1<i){for(var c=Array(i),u=0;u<i;u++)c[u]=arguments[u+2];l.children=c}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)l[s]===void 0&&(l[s]=i[s]);return{$$typeof:Hr,type:e,key:a,ref:o,props:l,_owner:wo.current}}function Rm(e,t){return{$$typeof:Hr,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function So(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hr}function Pm(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ti=/\/+/g;function Ml(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Pm(""+e.key):t.toString(36)}function js(e,t,n,s,l){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hr:case ym:o=!0}}if(o)return o=e,l=l(o),e=s===""?"."+Ml(o,0):s,Ei(l)?(n="",e!=null&&(n=e.replace(Ti,"$&/")+"/"),js(l,t,n,"",function(u){return u})):l!=null&&(So(l)&&(l=Rm(l,n+(!l.key||o&&o.key===l.key?"":(""+l.key).replace(Ti,"$&/")+"/")+e)),t.push(l)),1;if(o=0,s=s===""?".":s+":",Ei(e))for(var i=0;i<e.length;i++){a=e[i];var c=s+Ml(a,i);o+=js(a,t,n,c,l)}else if(c=Tm(e),typeof c=="function")for(e=c.call(e),i=0;!(a=e.next()).done;)a=a.value,c=s+Ml(a,i++),o+=js(a,t,n,c,l);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function ns(e,t,n){if(e==null)return e;var s=[],l=0;return js(e,s,"","",function(a){return t.call(n,a,l++)}),s}function Dm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ke={current:null},bs={transition:null},Lm={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:bs,ReactCurrentOwner:wo};function wu(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:ns,forEach:function(e,t,n){ns(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ns(e,function(){t++}),t},toArray:function(e){return ns(e,function(t){return t})||[]},only:function(e){if(!So(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};V.Component=Hn;V.Fragment=vm;V.Profiler=bm;V.PureComponent=bo;V.StrictMode=jm;V.Suspense=Cm;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lm;V.act=wu;V.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=gu({},e.props),l=e.key,a=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,o=wo.current),t.key!==void 0&&(l=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(c in t)ju.call(t,c)&&!bu.hasOwnProperty(c)&&(s[c]=t[c]===void 0&&i!==void 0?i[c]:t[c])}var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){i=Array(c);for(var u=0;u<c;u++)i[u]=arguments[u+2];s.children=i}return{$$typeof:Hr,type:e.type,key:l,ref:a,props:s,_owner:o}};V.createContext=function(e){return e={$$typeof:wm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Nm,_context:e},e.Consumer=e};V.createElement=Nu;V.createFactory=function(e){var t=Nu.bind(null,e);return t.type=e,t};V.createRef=function(){return{current:null}};V.forwardRef=function(e){return{$$typeof:Sm,render:e}};V.isValidElement=So;V.lazy=function(e){return{$$typeof:Em,_payload:{_status:-1,_result:e},_init:Dm}};V.memo=function(e,t){return{$$typeof:km,type:e,compare:t===void 0?null:t}};V.startTransition=function(e){var t=bs.transition;bs.transition={};try{e()}finally{bs.transition=t}};V.unstable_act=wu;V.useCallback=function(e,t){return ke.current.useCallback(e,t)};V.useContext=function(e){return ke.current.useContext(e)};V.useDebugValue=function(){};V.useDeferredValue=function(e){return ke.current.useDeferredValue(e)};V.useEffect=function(e,t){return ke.current.useEffect(e,t)};V.useId=function(){return ke.current.useId()};V.useImperativeHandle=function(e,t,n){return ke.current.useImperativeHandle(e,t,n)};V.useInsertionEffect=function(e,t){return ke.current.useInsertionEffect(e,t)};V.useLayoutEffect=function(e,t){return ke.current.useLayoutEffect(e,t)};V.useMemo=function(e,t){return ke.current.useMemo(e,t)};V.useReducer=function(e,t,n){return ke.current.useReducer(e,t,n)};V.useRef=function(e){return ke.current.useRef(e)};V.useState=function(e){return ke.current.useState(e)};V.useSyncExternalStore=function(e,t,n){return ke.current.useSyncExternalStore(e,t,n)};V.useTransition=function(){return ke.current.useTransition()};V.version="18.3.1";hu.exports=V;var w=hu.exports;const Co=mu(w),Am=gm({__proto__:null,default:Co},[w]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Im=w,_m=Symbol.for("react.element"),Om=Symbol.for("react.fragment"),Fm=Object.prototype.hasOwnProperty,Mm=Im.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Um={key:!0,ref:!0,__self:!0,__source:!0};function Su(e,t,n){var s,l={},a=null,o=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(o=t.ref);for(s in t)Fm.call(t,s)&&!Um.hasOwnProperty(s)&&(l[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)l[s]===void 0&&(l[s]=t[s]);return{$$typeof:_m,type:e,key:a,ref:o,props:l,_owner:Mm.current}}cl.Fragment=Om;cl.jsx=Su;cl.jsxs=Su;pu.exports=cl;var r=pu.exports,ya={},Cu={exports:{}},Ue={},ku={exports:{}},Eu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(L,F){var U=L.length;L.push(F);e:for(;0<U;){var W=U-1>>>1,K=L[W];if(0<l(K,F))L[W]=F,L[U]=K,U=W;else break e}}function n(L){return L.length===0?null:L[0]}function s(L){if(L.length===0)return null;var F=L[0],U=L.pop();if(U!==F){L[0]=U;e:for(var W=0,K=L.length,bt=K>>>1;W<bt;){var Be=2*(W+1)-1,fn=L[Be],Wt=Be+1,ts=L[Wt];if(0>l(fn,U))Wt<K&&0>l(ts,fn)?(L[W]=ts,L[Wt]=U,W=Wt):(L[W]=fn,L[Be]=U,W=Be);else if(Wt<K&&0>l(ts,U))L[W]=ts,L[Wt]=U,W=Wt;else break e}}return F}function l(L,F){var U=L.sortIndex-F.sortIndex;return U!==0?U:L.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,i=o.now();e.unstable_now=function(){return o.now()-i}}var c=[],u=[],h=1,m=null,y=3,b=!1,g=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function d(L){for(var F=n(u);F!==null;){if(F.callback===null)s(u);else if(F.startTime<=L)s(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=n(u)}}function j(L){if(v=!1,d(L),!g)if(n(c)!==null)g=!0,q(N);else{var F=n(u);F!==null&&X(j,F.startTime-L)}}function N(L,F){g=!1,v&&(v=!1,p(R),R=-1),b=!0;var U=y;try{for(d(F),m=n(c);m!==null&&(!(m.expirationTime>F)||L&&!I());){var W=m.callback;if(typeof W=="function"){m.callback=null,y=m.priorityLevel;var K=W(m.expirationTime<=F);F=e.unstable_now(),typeof K=="function"?m.callback=K:m===n(c)&&s(c),d(F)}else s(c);m=n(c)}if(m!==null)var bt=!0;else{var Be=n(u);Be!==null&&X(j,Be.startTime-F),bt=!1}return bt}finally{m=null,y=U,b=!1}}var k=!1,E=null,R=-1,D=5,S=-1;function I(){return!(e.unstable_now()-S<D)}function A(){if(E!==null){var L=e.unstable_now();S=L;var F=!0;try{F=E(!0,L)}finally{F?z():(k=!1,E=null)}}else k=!1}var z;if(typeof f=="function")z=function(){f(A)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,O=T.port2;T.port1.onmessage=A,z=function(){O.postMessage(null)}}else z=function(){x(A,0)};function q(L){E=L,k||(k=!0,z())}function X(L,F){R=x(function(){L(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){g||b||(g=!0,q(N))},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<L?Math.floor(1e3/L):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(L){switch(y){case 1:case 2:case 3:var F=3;break;default:F=y}var U=y;y=F;try{return L()}finally{y=U}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(L,F){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=y;y=L;try{return F()}finally{y=U}},e.unstable_scheduleCallback=function(L,F,U){var W=e.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=U+K,L={id:h++,callback:F,priorityLevel:L,startTime:U,expirationTime:K,sortIndex:-1},U>W?(L.sortIndex=U,t(u,L),n(c)===null&&L===n(u)&&(v?(p(R),R=-1):v=!0,X(j,U-W))):(L.sortIndex=K,t(c,L),g||b||(g=!0,q(N))),L},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(L){var F=y;return function(){var U=y;y=F;try{return L.apply(this,arguments)}finally{y=U}}}})(Eu);ku.exports=Eu;var zm=ku.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bm=w,Me=zm;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Tu=new Set,br={};function un(e,t){An(e,t),An(e+"Capture",t)}function An(e,t){for(br[e]=t,e=0;e<t.length;e++)Tu.add(t[e])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),va=Object.prototype.hasOwnProperty,$m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ri={},Pi={};function Vm(e){return va.call(Pi,e)?!0:va.call(Ri,e)?!1:$m.test(e)?Pi[e]=!0:(Ri[e]=!0,!1)}function Hm(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wm(e,t,n,s){if(t===null||typeof t>"u"||Hm(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ee(e,t,n,s,l,a,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ge[e]=new Ee(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ge[t]=new Ee(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ge[e]=new Ee(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ge[e]=new Ee(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ge[e]=new Ee(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ge[e]=new Ee(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ge[e]=new Ee(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ge[e]=new Ee(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ge[e]=new Ee(e,5,!1,e.toLowerCase(),null,!1,!1)});var ko=/[\-:]([a-z])/g;function Eo(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ko,Eo);ge[t]=new Ee(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ko,Eo);ge[t]=new Ee(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ko,Eo);ge[t]=new Ee(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ge[e]=new Ee(e,1,!1,e.toLowerCase(),null,!1,!1)});ge.xlinkHref=new Ee("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ge[e]=new Ee(e,1,!1,e.toLowerCase(),null,!0,!0)});function To(e,t,n,s){var l=ge.hasOwnProperty(t)?ge[t]:null;(l!==null?l.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wm(t,n,l,s)&&(n=null),s||l===null?Vm(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):l.mustUseProperty?e[l.propertyName]=n===null?l.type===3?!1:"":n:(t=l.attributeName,s=l.attributeNamespace,n===null?e.removeAttribute(t):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var vt=Bm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rs=Symbol.for("react.element"),pn=Symbol.for("react.portal"),hn=Symbol.for("react.fragment"),Ro=Symbol.for("react.strict_mode"),ja=Symbol.for("react.profiler"),Ru=Symbol.for("react.provider"),Pu=Symbol.for("react.context"),Po=Symbol.for("react.forward_ref"),ba=Symbol.for("react.suspense"),Na=Symbol.for("react.suspense_list"),Do=Symbol.for("react.memo"),wt=Symbol.for("react.lazy"),Du=Symbol.for("react.offscreen"),Di=Symbol.iterator;function Zn(e){return e===null||typeof e!="object"?null:(e=Di&&e[Di]||e["@@iterator"],typeof e=="function"?e:null)}var re=Object.assign,Ul;function ir(e){if(Ul===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ul=t&&t[1]||""}return`
`+Ul+e}var zl=!1;function Bl(e,t){if(!e||zl)return"";zl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var s=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){s=u}e.call(t.prototype)}else{try{throw Error()}catch(u){s=u}e()}}catch(u){if(u&&s&&typeof u.stack=="string"){for(var l=u.stack.split(`
`),a=s.stack.split(`
`),o=l.length-1,i=a.length-1;1<=o&&0<=i&&l[o]!==a[i];)i--;for(;1<=o&&0<=i;o--,i--)if(l[o]!==a[i]){if(o!==1||i!==1)do if(o--,i--,0>i||l[o]!==a[i]){var c=`
`+l[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=i);break}}}finally{zl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ir(e):""}function qm(e){switch(e.tag){case 5:return ir(e.type);case 16:return ir("Lazy");case 13:return ir("Suspense");case 19:return ir("SuspenseList");case 0:case 2:case 15:return e=Bl(e.type,!1),e;case 11:return e=Bl(e.type.render,!1),e;case 1:return e=Bl(e.type,!0),e;default:return""}}function wa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case hn:return"Fragment";case pn:return"Portal";case ja:return"Profiler";case Ro:return"StrictMode";case ba:return"Suspense";case Na:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pu:return(e.displayName||"Context")+".Consumer";case Ru:return(e._context.displayName||"Context")+".Provider";case Po:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Do:return t=e.displayName||null,t!==null?t:wa(e.type)||"Memo";case wt:t=e._payload,e=e._init;try{return wa(e(t))}catch{}}return null}function Gm(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wa(t);case 8:return t===Ro?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ut(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Lu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qm(e){var t=Lu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return l.call(this)},set:function(o){s=""+o,a.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(o){s=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ss(e){e._valueTracker||(e._valueTracker=Qm(e))}function Au(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Lu(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function _s(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Sa(e,t){var n=t.checked;return re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Li(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ut(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Iu(e,t){t=t.checked,t!=null&&To(e,"checked",t,!1)}function Ca(e,t){Iu(e,t);var n=Ut(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ka(e,t.type,n):t.hasOwnProperty("defaultValue")&&ka(e,t.type,Ut(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Ai(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ka(e,t,n){(t!=="number"||_s(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var cr=Array.isArray;function En(e,t,n,s){if(e=e.options,t){t={};for(var l=0;l<n.length;l++)t["$"+n[l]]=!0;for(n=0;n<e.length;n++)l=t.hasOwnProperty("$"+e[n].value),e[n].selected!==l&&(e[n].selected=l),l&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ut(n),t=null,l=0;l<e.length;l++){if(e[l].value===n){e[l].selected=!0,s&&(e[l].defaultSelected=!0);return}t!==null||e[l].disabled||(t=e[l])}t!==null&&(t.selected=!0)}}function Ea(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ii(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(cr(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ut(n)}}function _u(e,t){var n=Ut(t.value),s=Ut(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function _i(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ou(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ta(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ou(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ls,Fu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,l){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,l)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ls=ls||document.createElement("div"),ls.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ls.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Nr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var fr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Km=["Webkit","ms","Moz","O"];Object.keys(fr).forEach(function(e){Km.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fr[t]=fr[e]})});function Mu(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||fr.hasOwnProperty(e)&&fr[e]?(""+t).trim():t+"px"}function Uu(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,l=Mu(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,l):e[n]=l}}var Jm=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ra(e,t){if(t){if(Jm[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Pa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Da=null;function Lo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var La=null,Tn=null,Rn=null;function Oi(e){if(e=Gr(e)){if(typeof La!="function")throw Error(P(280));var t=e.stateNode;t&&(t=pl(t),La(e.stateNode,e.type,t))}}function zu(e){Tn?Rn?Rn.push(e):Rn=[e]:Tn=e}function Bu(){if(Tn){var e=Tn,t=Rn;if(Rn=Tn=null,Oi(e),t)for(e=0;e<t.length;e++)Oi(t[e])}}function $u(e,t){return e(t)}function Vu(){}var $l=!1;function Hu(e,t,n){if($l)return e(t,n);$l=!0;try{return $u(e,t,n)}finally{$l=!1,(Tn!==null||Rn!==null)&&(Vu(),Bu())}}function wr(e,t){var n=e.stateNode;if(n===null)return null;var s=pl(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Aa=!1;if(ht)try{var er={};Object.defineProperty(er,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",er,er),window.removeEventListener("test",er,er)}catch{Aa=!1}function Ym(e,t,n,s,l,a,o,i,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(h){this.onError(h)}}var mr=!1,Os=null,Fs=!1,Ia=null,Xm={onError:function(e){mr=!0,Os=e}};function Zm(e,t,n,s,l,a,o,i,c){mr=!1,Os=null,Ym.apply(Xm,arguments)}function ep(e,t,n,s,l,a,o,i,c){if(Zm.apply(this,arguments),mr){if(mr){var u=Os;mr=!1,Os=null}else throw Error(P(198));Fs||(Fs=!0,Ia=u)}}function dn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Wu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Fi(e){if(dn(e)!==e)throw Error(P(188))}function tp(e){var t=e.alternate;if(!t){if(t=dn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,s=t;;){var l=n.return;if(l===null)break;var a=l.alternate;if(a===null){if(s=l.return,s!==null){n=s;continue}break}if(l.child===a.child){for(a=l.child;a;){if(a===n)return Fi(l),e;if(a===s)return Fi(l),t;a=a.sibling}throw Error(P(188))}if(n.return!==s.return)n=l,s=a;else{for(var o=!1,i=l.child;i;){if(i===n){o=!0,n=l,s=a;break}if(i===s){o=!0,s=l,n=a;break}i=i.sibling}if(!o){for(i=a.child;i;){if(i===n){o=!0,n=a,s=l;break}if(i===s){o=!0,s=a,n=l;break}i=i.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==s)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function qu(e){return e=tp(e),e!==null?Gu(e):null}function Gu(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gu(e);if(t!==null)return t;e=e.sibling}return null}var Qu=Me.unstable_scheduleCallback,Mi=Me.unstable_cancelCallback,np=Me.unstable_shouldYield,rp=Me.unstable_requestPaint,oe=Me.unstable_now,sp=Me.unstable_getCurrentPriorityLevel,Ao=Me.unstable_ImmediatePriority,Ku=Me.unstable_UserBlockingPriority,Ms=Me.unstable_NormalPriority,lp=Me.unstable_LowPriority,Ju=Me.unstable_IdlePriority,ul=null,ot=null;function ap(e){if(ot&&typeof ot.onCommitFiberRoot=="function")try{ot.onCommitFiberRoot(ul,e,void 0,(e.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:cp,op=Math.log,ip=Math.LN2;function cp(e){return e>>>=0,e===0?32:31-(op(e)/ip|0)|0}var as=64,os=4194304;function ur(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Us(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,a=e.pingedLanes,o=n&268435455;if(o!==0){var i=o&~l;i!==0?s=ur(i):(a&=o,a!==0&&(s=ur(a)))}else o=n&~l,o!==0?s=ur(o):a!==0&&(s=ur(a));if(s===0)return 0;if(t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===16&&(a&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Xe(t),l=1<<n,s|=e[n],t&=~l;return s}function up(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dp(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,l=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-Xe(a),i=1<<o,c=l[o];c===-1?(!(i&n)||i&s)&&(l[o]=up(i,t)):c<=t&&(e.expiredLanes|=i),a&=~i}}function _a(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Yu(){var e=as;return as<<=1,!(as&4194240)&&(as=64),e}function Vl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wr(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Xe(t),e[t]=n}function fp(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var l=31-Xe(n),a=1<<l;t[l]=0,s[l]=-1,e[l]=-1,n&=~a}}function Io(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Xe(n),l=1<<s;l&t|e[s]&t&&(e[s]|=t),n&=~l}}var G=0;function Xu(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Zu,_o,ed,td,nd,Oa=!1,is=[],Pt=null,Dt=null,Lt=null,Sr=new Map,Cr=new Map,Ct=[],mp="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ui(e,t){switch(e){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cr.delete(t.pointerId)}}function tr(e,t,n,s,l,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:a,targetContainers:[l]},t!==null&&(t=Gr(t),t!==null&&_o(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),e)}function pp(e,t,n,s,l){switch(t){case"focusin":return Pt=tr(Pt,e,t,n,s,l),!0;case"dragenter":return Dt=tr(Dt,e,t,n,s,l),!0;case"mouseover":return Lt=tr(Lt,e,t,n,s,l),!0;case"pointerover":var a=l.pointerId;return Sr.set(a,tr(Sr.get(a)||null,e,t,n,s,l)),!0;case"gotpointercapture":return a=l.pointerId,Cr.set(a,tr(Cr.get(a)||null,e,t,n,s,l)),!0}return!1}function rd(e){var t=Kt(e.target);if(t!==null){var n=dn(t);if(n!==null){if(t=n.tag,t===13){if(t=Wu(n),t!==null){e.blockedOn=t,nd(e.priority,function(){ed(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ns(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Fa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);Da=s,n.target.dispatchEvent(s),Da=null}else return t=Gr(n),t!==null&&_o(t),e.blockedOn=n,!1;t.shift()}return!0}function zi(e,t,n){Ns(e)&&n.delete(t)}function hp(){Oa=!1,Pt!==null&&Ns(Pt)&&(Pt=null),Dt!==null&&Ns(Dt)&&(Dt=null),Lt!==null&&Ns(Lt)&&(Lt=null),Sr.forEach(zi),Cr.forEach(zi)}function nr(e,t){e.blockedOn===t&&(e.blockedOn=null,Oa||(Oa=!0,Me.unstable_scheduleCallback(Me.unstable_NormalPriority,hp)))}function kr(e){function t(l){return nr(l,e)}if(0<is.length){nr(is[0],e);for(var n=1;n<is.length;n++){var s=is[n];s.blockedOn===e&&(s.blockedOn=null)}}for(Pt!==null&&nr(Pt,e),Dt!==null&&nr(Dt,e),Lt!==null&&nr(Lt,e),Sr.forEach(t),Cr.forEach(t),n=0;n<Ct.length;n++)s=Ct[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<Ct.length&&(n=Ct[0],n.blockedOn===null);)rd(n),n.blockedOn===null&&Ct.shift()}var Pn=vt.ReactCurrentBatchConfig,zs=!0;function xp(e,t,n,s){var l=G,a=Pn.transition;Pn.transition=null;try{G=1,Oo(e,t,n,s)}finally{G=l,Pn.transition=a}}function gp(e,t,n,s){var l=G,a=Pn.transition;Pn.transition=null;try{G=4,Oo(e,t,n,s)}finally{G=l,Pn.transition=a}}function Oo(e,t,n,s){if(zs){var l=Fa(e,t,n,s);if(l===null)Zl(e,t,s,Bs,n),Ui(e,s);else if(pp(l,e,t,n,s))s.stopPropagation();else if(Ui(e,s),t&4&&-1<mp.indexOf(e)){for(;l!==null;){var a=Gr(l);if(a!==null&&Zu(a),a=Fa(e,t,n,s),a===null&&Zl(e,t,s,Bs,n),a===l)break;l=a}l!==null&&s.stopPropagation()}else Zl(e,t,s,null,n)}}var Bs=null;function Fa(e,t,n,s){if(Bs=null,e=Lo(s),e=Kt(e),e!==null)if(t=dn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Wu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Bs=e,null}function sd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sp()){case Ao:return 1;case Ku:return 4;case Ms:case lp:return 16;case Ju:return 536870912;default:return 16}default:return 16}}var Et=null,Fo=null,ws=null;function ld(){if(ws)return ws;var e,t=Fo,n=t.length,s,l="value"in Et?Et.value:Et.textContent,a=l.length;for(e=0;e<n&&t[e]===l[e];e++);var o=n-e;for(s=1;s<=o&&t[n-s]===l[a-s];s++);return ws=l.slice(e,1<s?1-s:void 0)}function Ss(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function cs(){return!0}function Bi(){return!1}function ze(e){function t(n,s,l,a,o){this._reactName=n,this._targetInst=l,this.type=s,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var i in e)e.hasOwnProperty(i)&&(n=e[i],this[i]=n?n(a):a[i]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?cs:Bi,this.isPropagationStopped=Bi,this}return re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=cs)},persist:function(){},isPersistent:cs}),t}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=ze(Wn),qr=re({},Wn,{view:0,detail:0}),yp=ze(qr),Hl,Wl,rr,dl=re({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==rr&&(rr&&e.type==="mousemove"?(Hl=e.screenX-rr.screenX,Wl=e.screenY-rr.screenY):Wl=Hl=0,rr=e),Hl)},movementY:function(e){return"movementY"in e?e.movementY:Wl}}),$i=ze(dl),vp=re({},dl,{dataTransfer:0}),jp=ze(vp),bp=re({},qr,{relatedTarget:0}),ql=ze(bp),Np=re({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=ze(Np),Sp=re({},Wn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Cp=ze(Sp),kp=re({},Wn,{data:0}),Vi=ze(kp),Ep={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Rp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Rp[e])?!!t[e]:!1}function Uo(){return Pp}var Dp=re({},qr,{key:function(e){if(e.key){var t=Ep[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ss(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Tp[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uo,charCode:function(e){return e.type==="keypress"?Ss(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ss(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Lp=ze(Dp),Ap=re({},dl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=ze(Ap),Ip=re({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uo}),_p=ze(Ip),Op=re({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fp=ze(Op),Mp=re({},dl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Up=ze(Mp),zp=[9,13,27,32],zo=ht&&"CompositionEvent"in window,pr=null;ht&&"documentMode"in document&&(pr=document.documentMode);var Bp=ht&&"TextEvent"in window&&!pr,ad=ht&&(!zo||pr&&8<pr&&11>=pr),Wi=" ",qi=!1;function od(e,t){switch(e){case"keyup":return zp.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function id(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var xn=!1;function $p(e,t){switch(e){case"compositionend":return id(t);case"keypress":return t.which!==32?null:(qi=!0,Wi);case"textInput":return e=t.data,e===Wi&&qi?null:e;default:return null}}function Vp(e,t){if(xn)return e==="compositionend"||!zo&&od(e,t)?(e=ld(),ws=Fo=Et=null,xn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ad&&t.locale!=="ko"?null:t.data;default:return null}}var Hp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Hp[e.type]:t==="textarea"}function cd(e,t,n,s){zu(s),t=$s(t,"onChange"),0<t.length&&(n=new Mo("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var hr=null,Er=null;function Wp(e){jd(e,0)}function fl(e){var t=vn(e);if(Au(t))return e}function qp(e,t){if(e==="change")return t}var ud=!1;if(ht){var Gl;if(ht){var Ql="oninput"in document;if(!Ql){var Qi=document.createElement("div");Qi.setAttribute("oninput","return;"),Ql=typeof Qi.oninput=="function"}Gl=Ql}else Gl=!1;ud=Gl&&(!document.documentMode||9<document.documentMode)}function Ki(){hr&&(hr.detachEvent("onpropertychange",dd),Er=hr=null)}function dd(e){if(e.propertyName==="value"&&fl(Er)){var t=[];cd(t,Er,e,Lo(e)),Hu(Wp,t)}}function Gp(e,t,n){e==="focusin"?(Ki(),hr=t,Er=n,hr.attachEvent("onpropertychange",dd)):e==="focusout"&&Ki()}function Qp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return fl(Er)}function Kp(e,t){if(e==="click")return fl(t)}function Jp(e,t){if(e==="input"||e==="change")return fl(t)}function Yp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var et=typeof Object.is=="function"?Object.is:Yp;function Tr(e,t){if(et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var l=n[s];if(!va.call(t,l)||!et(e[l],t[l]))return!1}return!0}function Ji(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yi(e,t){var n=Ji(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ji(n)}}function fd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?fd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function md(){for(var e=window,t=_s();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=_s(e.document)}return t}function Bo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Xp(e){var t=md(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fd(n.ownerDocument.documentElement,n)){if(s!==null&&Bo(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var l=n.textContent.length,a=Math.min(s.start,l);s=s.end===void 0?a:Math.min(s.end,l),!e.extend&&a>s&&(l=s,s=a,a=l),l=Yi(n,a);var o=Yi(n,s);l&&o&&(e.rangeCount!==1||e.anchorNode!==l.node||e.anchorOffset!==l.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),e.removeAllRanges(),a>s?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Zp=ht&&"documentMode"in document&&11>=document.documentMode,gn=null,Ma=null,xr=null,Ua=!1;function Xi(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ua||gn==null||gn!==_s(s)||(s=gn,"selectionStart"in s&&Bo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xr&&Tr(xr,s)||(xr=s,s=$s(Ma,"onSelect"),0<s.length&&(t=new Mo("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=gn)))}function us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var yn={animationend:us("Animation","AnimationEnd"),animationiteration:us("Animation","AnimationIteration"),animationstart:us("Animation","AnimationStart"),transitionend:us("Transition","TransitionEnd")},Kl={},pd={};ht&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete yn.animationend.animation,delete yn.animationiteration.animation,delete yn.animationstart.animation),"TransitionEvent"in window||delete yn.transitionend.transition);function ml(e){if(Kl[e])return Kl[e];if(!yn[e])return e;var t=yn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in pd)return Kl[e]=t[n];return e}var hd=ml("animationend"),xd=ml("animationiteration"),gd=ml("animationstart"),yd=ml("transitionend"),vd=new Map,Zi="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(e,t){vd.set(e,t),un(t,[e])}for(var Jl=0;Jl<Zi.length;Jl++){var Yl=Zi[Jl],eh=Yl.toLowerCase(),th=Yl[0].toUpperCase()+Yl.slice(1);Bt(eh,"on"+th)}Bt(hd,"onAnimationEnd");Bt(xd,"onAnimationIteration");Bt(gd,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(yd,"onTransitionEnd");An("onMouseEnter",["mouseout","mouseover"]);An("onMouseLeave",["mouseout","mouseover"]);An("onPointerEnter",["pointerout","pointerover"]);An("onPointerLeave",["pointerout","pointerover"]);un("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));un("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));un("onBeforeInput",["compositionend","keypress","textInput","paste"]);un("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));un("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));un("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nh=new Set("cancel close invalid load scroll toggle".split(" ").concat(dr));function ec(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,ep(s,t,void 0,e),e.currentTarget=null}function jd(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],l=s.event;s=s.listeners;e:{var a=void 0;if(t)for(var o=s.length-1;0<=o;o--){var i=s[o],c=i.instance,u=i.currentTarget;if(i=i.listener,c!==a&&l.isPropagationStopped())break e;ec(l,i,u),a=c}else for(o=0;o<s.length;o++){if(i=s[o],c=i.instance,u=i.currentTarget,i=i.listener,c!==a&&l.isPropagationStopped())break e;ec(l,i,u),a=c}}}if(Fs)throw e=Ia,Fs=!1,Ia=null,e}function J(e,t){var n=t[Ha];n===void 0&&(n=t[Ha]=new Set);var s=e+"__bubble";n.has(s)||(bd(t,e,2,!1),n.add(s))}function Xl(e,t,n){var s=0;t&&(s|=4),bd(n,e,s,t)}var ds="_reactListening"+Math.random().toString(36).slice(2);function Rr(e){if(!e[ds]){e[ds]=!0,Tu.forEach(function(n){n!=="selectionchange"&&(nh.has(n)||Xl(n,!1,e),Xl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ds]||(t[ds]=!0,Xl("selectionchange",!1,t))}}function bd(e,t,n,s){switch(sd(t)){case 1:var l=xp;break;case 4:l=gp;break;default:l=Oo}n=l.bind(null,t,n,e),l=void 0,!Aa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),s?l!==void 0?e.addEventListener(t,n,{capture:!0,passive:l}):e.addEventListener(t,n,!0):l!==void 0?e.addEventListener(t,n,{passive:l}):e.addEventListener(t,n,!1)}function Zl(e,t,n,s,l){var a=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var o=s.tag;if(o===3||o===4){var i=s.stateNode.containerInfo;if(i===l||i.nodeType===8&&i.parentNode===l)break;if(o===4)for(o=s.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===l||c.nodeType===8&&c.parentNode===l))return;o=o.return}for(;i!==null;){if(o=Kt(i),o===null)return;if(c=o.tag,c===5||c===6){s=a=o;continue e}i=i.parentNode}}s=s.return}Hu(function(){var u=a,h=Lo(n),m=[];e:{var y=vd.get(e);if(y!==void 0){var b=Mo,g=e;switch(e){case"keypress":if(Ss(n)===0)break e;case"keydown":case"keyup":b=Lp;break;case"focusin":g="focus",b=ql;break;case"focusout":g="blur",b=ql;break;case"beforeblur":case"afterblur":b=ql;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=$i;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=jp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=_p;break;case hd:case xd:case gd:b=wp;break;case yd:b=Fp;break;case"scroll":b=yp;break;case"wheel":b=Up;break;case"copy":case"cut":case"paste":b=Cp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Hi}var v=(t&4)!==0,x=!v&&e==="scroll",p=v?y!==null?y+"Capture":null:y;v=[];for(var f=u,d;f!==null;){d=f;var j=d.stateNode;if(d.tag===5&&j!==null&&(d=j,p!==null&&(j=wr(f,p),j!=null&&v.push(Pr(f,j,d)))),x)break;f=f.return}0<v.length&&(y=new b(y,g,null,n,h),m.push({event:y,listeners:v}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&n!==Da&&(g=n.relatedTarget||n.fromElement)&&(Kt(g)||g[xt]))break e;if((b||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,b?(g=n.relatedTarget||n.toElement,b=u,g=g?Kt(g):null,g!==null&&(x=dn(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(b=null,g=u),b!==g)){if(v=$i,j="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(v=Hi,j="onPointerLeave",p="onPointerEnter",f="pointer"),x=b==null?y:vn(b),d=g==null?y:vn(g),y=new v(j,f+"leave",b,n,h),y.target=x,y.relatedTarget=d,j=null,Kt(h)===u&&(v=new v(p,f+"enter",g,n,h),v.target=d,v.relatedTarget=x,j=v),x=j,b&&g)t:{for(v=b,p=g,f=0,d=v;d;d=mn(d))f++;for(d=0,j=p;j;j=mn(j))d++;for(;0<f-d;)v=mn(v),f--;for(;0<d-f;)p=mn(p),d--;for(;f--;){if(v===p||p!==null&&v===p.alternate)break t;v=mn(v),p=mn(p)}v=null}else v=null;b!==null&&tc(m,y,b,v,!1),g!==null&&x!==null&&tc(m,x,g,v,!0)}}e:{if(y=u?vn(u):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var N=qp;else if(Gi(y))if(ud)N=Jp;else{N=Qp;var k=Gp}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(N=Kp);if(N&&(N=N(e,u))){cd(m,N,n,h);break e}k&&k(e,y,u),e==="focusout"&&(k=y._wrapperState)&&k.controlled&&y.type==="number"&&ka(y,"number",y.value)}switch(k=u?vn(u):window,e){case"focusin":(Gi(k)||k.contentEditable==="true")&&(gn=k,Ma=u,xr=null);break;case"focusout":xr=Ma=gn=null;break;case"mousedown":Ua=!0;break;case"contextmenu":case"mouseup":case"dragend":Ua=!1,Xi(m,n,h);break;case"selectionchange":if(Zp)break;case"keydown":case"keyup":Xi(m,n,h)}var E;if(zo)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else xn?od(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(ad&&n.locale!=="ko"&&(xn||R!=="onCompositionStart"?R==="onCompositionEnd"&&xn&&(E=ld()):(Et=h,Fo="value"in Et?Et.value:Et.textContent,xn=!0)),k=$s(u,R),0<k.length&&(R=new Vi(R,e,null,n,h),m.push({event:R,listeners:k}),E?R.data=E:(E=id(n),E!==null&&(R.data=E)))),(E=Bp?$p(e,n):Vp(e,n))&&(u=$s(u,"onBeforeInput"),0<u.length&&(h=new Vi("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:u}),h.data=E))}jd(m,t)})}function Pr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $s(e,t){for(var n=t+"Capture",s=[];e!==null;){var l=e,a=l.stateNode;l.tag===5&&a!==null&&(l=a,a=wr(e,n),a!=null&&s.unshift(Pr(e,a,l)),a=wr(e,t),a!=null&&s.push(Pr(e,a,l))),e=e.return}return s}function mn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function tc(e,t,n,s,l){for(var a=t._reactName,o=[];n!==null&&n!==s;){var i=n,c=i.alternate,u=i.stateNode;if(c!==null&&c===s)break;i.tag===5&&u!==null&&(i=u,l?(c=wr(n,a),c!=null&&o.unshift(Pr(n,c,i))):l||(c=wr(n,a),c!=null&&o.push(Pr(n,c,i)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var rh=/\r\n?/g,sh=/\u0000|\uFFFD/g;function nc(e){return(typeof e=="string"?e:""+e).replace(rh,`
`).replace(sh,"")}function fs(e,t,n){if(t=nc(t),nc(e)!==t&&n)throw Error(P(425))}function Vs(){}var za=null,Ba=null;function $a(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Va=typeof setTimeout=="function"?setTimeout:void 0,lh=typeof clearTimeout=="function"?clearTimeout:void 0,rc=typeof Promise=="function"?Promise:void 0,ah=typeof queueMicrotask=="function"?queueMicrotask:typeof rc<"u"?function(e){return rc.resolve(null).then(e).catch(oh)}:Va;function oh(e){setTimeout(function(){throw e})}function ea(e,t){var n=t,s=0;do{var l=n.nextSibling;if(e.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(s===0){e.removeChild(l),kr(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=l}while(n);kr(t)}function At(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function sc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var qn=Math.random().toString(36).slice(2),at="__reactFiber$"+qn,Dr="__reactProps$"+qn,xt="__reactContainer$"+qn,Ha="__reactEvents$"+qn,ih="__reactListeners$"+qn,ch="__reactHandles$"+qn;function Kt(e){var t=e[at];if(t)return t;for(var n=e.parentNode;n;){if(t=n[xt]||n[at]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=sc(e);e!==null;){if(n=e[at])return n;e=sc(e)}return t}e=n,n=e.parentNode}return null}function Gr(e){return e=e[at]||e[xt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function pl(e){return e[Dr]||null}var Wa=[],jn=-1;function $t(e){return{current:e}}function Y(e){0>jn||(e.current=Wa[jn],Wa[jn]=null,jn--)}function Q(e,t){jn++,Wa[jn]=e.current,e.current=t}var zt={},Ne=$t(zt),Pe=$t(!1),nn=zt;function In(e,t){var n=e.type.contextTypes;if(!n)return zt;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var l={},a;for(a in n)l[a]=t[a];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function De(e){return e=e.childContextTypes,e!=null}function Hs(){Y(Pe),Y(Ne)}function lc(e,t,n){if(Ne.current!==zt)throw Error(P(168));Q(Ne,t),Q(Pe,n)}function Nd(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var l in s)if(!(l in t))throw Error(P(108,Gm(e)||"Unknown",l));return re({},n,s)}function Ws(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zt,nn=Ne.current,Q(Ne,e),Q(Pe,Pe.current),!0}function ac(e,t,n){var s=e.stateNode;if(!s)throw Error(P(169));n?(e=Nd(e,t,nn),s.__reactInternalMemoizedMergedChildContext=e,Y(Pe),Y(Ne),Q(Ne,e)):Y(Pe),Q(Pe,n)}var ut=null,hl=!1,ta=!1;function wd(e){ut===null?ut=[e]:ut.push(e)}function uh(e){hl=!0,wd(e)}function Vt(){if(!ta&&ut!==null){ta=!0;var e=0,t=G;try{var n=ut;for(G=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ut=null,hl=!1}catch(l){throw ut!==null&&(ut=ut.slice(e+1)),Qu(Ao,Vt),l}finally{G=t,ta=!1}}return null}var bn=[],Nn=0,qs=null,Gs=0,$e=[],Ve=0,rn=null,dt=1,ft="";function qt(e,t){bn[Nn++]=Gs,bn[Nn++]=qs,qs=e,Gs=t}function Sd(e,t,n){$e[Ve++]=dt,$e[Ve++]=ft,$e[Ve++]=rn,rn=e;var s=dt;e=ft;var l=32-Xe(s)-1;s&=~(1<<l),n+=1;var a=32-Xe(t)+l;if(30<a){var o=l-l%5;a=(s&(1<<o)-1).toString(32),s>>=o,l-=o,dt=1<<32-Xe(t)+l|n<<l|s,ft=a+e}else dt=1<<a|n<<l|s,ft=e}function $o(e){e.return!==null&&(qt(e,1),Sd(e,1,0))}function Vo(e){for(;e===qs;)qs=bn[--Nn],bn[Nn]=null,Gs=bn[--Nn],bn[Nn]=null;for(;e===rn;)rn=$e[--Ve],$e[Ve]=null,ft=$e[--Ve],$e[Ve]=null,dt=$e[--Ve],$e[Ve]=null}var Fe=null,Oe=null,Z=!1,Ye=null;function Cd(e,t){var n=He(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Fe=e,Oe=At(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Fe=e,Oe=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=rn!==null?{id:dt,overflow:ft}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=He(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Fe=e,Oe=null,!0):!1;default:return!1}}function qa(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ga(e){if(Z){var t=Oe;if(t){var n=t;if(!oc(e,t)){if(qa(e))throw Error(P(418));t=At(n.nextSibling);var s=Fe;t&&oc(e,t)?Cd(s,n):(e.flags=e.flags&-4097|2,Z=!1,Fe=e)}}else{if(qa(e))throw Error(P(418));e.flags=e.flags&-4097|2,Z=!1,Fe=e}}}function ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Fe=e}function ms(e){if(e!==Fe)return!1;if(!Z)return ic(e),Z=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!$a(e.type,e.memoizedProps)),t&&(t=Oe)){if(qa(e))throw kd(),Error(P(418));for(;t;)Cd(e,t),t=At(t.nextSibling)}if(ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Oe=At(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Oe=null}}else Oe=Fe?At(e.stateNode.nextSibling):null;return!0}function kd(){for(var e=Oe;e;)e=At(e.nextSibling)}function _n(){Oe=Fe=null,Z=!1}function Ho(e){Ye===null?Ye=[e]:Ye.push(e)}var dh=vt.ReactCurrentBatchConfig;function sr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var s=n.stateNode}if(!s)throw Error(P(147,e));var l=s,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(o){var i=l.refs;o===null?delete i[a]:i[a]=o},t._stringRef=a,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function ps(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function cc(e){var t=e._init;return t(e._payload)}function Ed(e){function t(p,f){if(e){var d=p.deletions;d===null?(p.deletions=[f],p.flags|=16):d.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function s(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function l(p,f){return p=Ft(p,f),p.index=0,p.sibling=null,p}function a(p,f,d){return p.index=d,e?(d=p.alternate,d!==null?(d=d.index,d<f?(p.flags|=2,f):d):(p.flags|=2,f)):(p.flags|=1048576,f)}function o(p){return e&&p.alternate===null&&(p.flags|=2),p}function i(p,f,d,j){return f===null||f.tag!==6?(f=ia(d,p.mode,j),f.return=p,f):(f=l(f,d),f.return=p,f)}function c(p,f,d,j){var N=d.type;return N===hn?h(p,f,d.props.children,j,d.key):f!==null&&(f.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wt&&cc(N)===f.type)?(j=l(f,d.props),j.ref=sr(p,f,d),j.return=p,j):(j=Ds(d.type,d.key,d.props,null,p.mode,j),j.ref=sr(p,f,d),j.return=p,j)}function u(p,f,d,j){return f===null||f.tag!==4||f.stateNode.containerInfo!==d.containerInfo||f.stateNode.implementation!==d.implementation?(f=ca(d,p.mode,j),f.return=p,f):(f=l(f,d.children||[]),f.return=p,f)}function h(p,f,d,j,N){return f===null||f.tag!==7?(f=en(d,p.mode,j,N),f.return=p,f):(f=l(f,d),f.return=p,f)}function m(p,f,d){if(typeof f=="string"&&f!==""||typeof f=="number")return f=ia(""+f,p.mode,d),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case rs:return d=Ds(f.type,f.key,f.props,null,p.mode,d),d.ref=sr(p,null,f),d.return=p,d;case pn:return f=ca(f,p.mode,d),f.return=p,f;case wt:var j=f._init;return m(p,j(f._payload),d)}if(cr(f)||Zn(f))return f=en(f,p.mode,d,null),f.return=p,f;ps(p,f)}return null}function y(p,f,d,j){var N=f!==null?f.key:null;if(typeof d=="string"&&d!==""||typeof d=="number")return N!==null?null:i(p,f,""+d,j);if(typeof d=="object"&&d!==null){switch(d.$$typeof){case rs:return d.key===N?c(p,f,d,j):null;case pn:return d.key===N?u(p,f,d,j):null;case wt:return N=d._init,y(p,f,N(d._payload),j)}if(cr(d)||Zn(d))return N!==null?null:h(p,f,d,j,null);ps(p,d)}return null}function b(p,f,d,j,N){if(typeof j=="string"&&j!==""||typeof j=="number")return p=p.get(d)||null,i(f,p,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case rs:return p=p.get(j.key===null?d:j.key)||null,c(f,p,j,N);case pn:return p=p.get(j.key===null?d:j.key)||null,u(f,p,j,N);case wt:var k=j._init;return b(p,f,d,k(j._payload),N)}if(cr(j)||Zn(j))return p=p.get(d)||null,h(f,p,j,N,null);ps(f,j)}return null}function g(p,f,d,j){for(var N=null,k=null,E=f,R=f=0,D=null;E!==null&&R<d.length;R++){E.index>R?(D=E,E=null):D=E.sibling;var S=y(p,E,d[R],j);if(S===null){E===null&&(E=D);break}e&&E&&S.alternate===null&&t(p,E),f=a(S,f,R),k===null?N=S:k.sibling=S,k=S,E=D}if(R===d.length)return n(p,E),Z&&qt(p,R),N;if(E===null){for(;R<d.length;R++)E=m(p,d[R],j),E!==null&&(f=a(E,f,R),k===null?N=E:k.sibling=E,k=E);return Z&&qt(p,R),N}for(E=s(p,E);R<d.length;R++)D=b(E,p,R,d[R],j),D!==null&&(e&&D.alternate!==null&&E.delete(D.key===null?R:D.key),f=a(D,f,R),k===null?N=D:k.sibling=D,k=D);return e&&E.forEach(function(I){return t(p,I)}),Z&&qt(p,R),N}function v(p,f,d,j){var N=Zn(d);if(typeof N!="function")throw Error(P(150));if(d=N.call(d),d==null)throw Error(P(151));for(var k=N=null,E=f,R=f=0,D=null,S=d.next();E!==null&&!S.done;R++,S=d.next()){E.index>R?(D=E,E=null):D=E.sibling;var I=y(p,E,S.value,j);if(I===null){E===null&&(E=D);break}e&&E&&I.alternate===null&&t(p,E),f=a(I,f,R),k===null?N=I:k.sibling=I,k=I,E=D}if(S.done)return n(p,E),Z&&qt(p,R),N;if(E===null){for(;!S.done;R++,S=d.next())S=m(p,S.value,j),S!==null&&(f=a(S,f,R),k===null?N=S:k.sibling=S,k=S);return Z&&qt(p,R),N}for(E=s(p,E);!S.done;R++,S=d.next())S=b(E,p,R,S.value,j),S!==null&&(e&&S.alternate!==null&&E.delete(S.key===null?R:S.key),f=a(S,f,R),k===null?N=S:k.sibling=S,k=S);return e&&E.forEach(function(A){return t(p,A)}),Z&&qt(p,R),N}function x(p,f,d,j){if(typeof d=="object"&&d!==null&&d.type===hn&&d.key===null&&(d=d.props.children),typeof d=="object"&&d!==null){switch(d.$$typeof){case rs:e:{for(var N=d.key,k=f;k!==null;){if(k.key===N){if(N=d.type,N===hn){if(k.tag===7){n(p,k.sibling),f=l(k,d.props.children),f.return=p,p=f;break e}}else if(k.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===wt&&cc(N)===k.type){n(p,k.sibling),f=l(k,d.props),f.ref=sr(p,k,d),f.return=p,p=f;break e}n(p,k);break}else t(p,k);k=k.sibling}d.type===hn?(f=en(d.props.children,p.mode,j,d.key),f.return=p,p=f):(j=Ds(d.type,d.key,d.props,null,p.mode,j),j.ref=sr(p,f,d),j.return=p,p=j)}return o(p);case pn:e:{for(k=d.key;f!==null;){if(f.key===k)if(f.tag===4&&f.stateNode.containerInfo===d.containerInfo&&f.stateNode.implementation===d.implementation){n(p,f.sibling),f=l(f,d.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=ca(d,p.mode,j),f.return=p,p=f}return o(p);case wt:return k=d._init,x(p,f,k(d._payload),j)}if(cr(d))return g(p,f,d,j);if(Zn(d))return v(p,f,d,j);ps(p,d)}return typeof d=="string"&&d!==""||typeof d=="number"?(d=""+d,f!==null&&f.tag===6?(n(p,f.sibling),f=l(f,d),f.return=p,p=f):(n(p,f),f=ia(d,p.mode,j),f.return=p,p=f),o(p)):n(p,f)}return x}var On=Ed(!0),Td=Ed(!1),Qs=$t(null),Ks=null,wn=null,Wo=null;function qo(){Wo=wn=Ks=null}function Go(e){var t=Qs.current;Y(Qs),e._currentValue=t}function Qa(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Dn(e,t){Ks=e,Wo=wn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Re=!0),e.firstContext=null)}function qe(e){var t=e._currentValue;if(Wo!==e)if(e={context:e,memoizedValue:t,next:null},wn===null){if(Ks===null)throw Error(P(308));wn=e,Ks.dependencies={lanes:0,firstContext:e}}else wn=wn.next=e;return t}var Jt=null;function Qo(e){Jt===null?Jt=[e]:Jt.push(e)}function Rd(e,t,n,s){var l=t.interleaved;return l===null?(n.next=n,Qo(t)):(n.next=l.next,l.next=n),t.interleaved=n,gt(e,s)}function gt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var St=!1;function Ko(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function It(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,H&2){var l=s.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),s.pending=t,gt(e,n)}return l=s.interleaved,l===null?(t.next=t,Qo(s)):(t.next=l.next,l.next=t),s.interleaved=t,gt(e,n)}function Cs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Io(e,n)}}function uc(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var l=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?l=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?l=a=t:a=a.next=t}else l=a=t;n={baseState:s.baseState,firstBaseUpdate:l,lastBaseUpdate:a,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Js(e,t,n,s){var l=e.updateQueue;St=!1;var a=l.firstBaseUpdate,o=l.lastBaseUpdate,i=l.shared.pending;if(i!==null){l.shared.pending=null;var c=i,u=c.next;c.next=null,o===null?a=u:o.next=u,o=c;var h=e.alternate;h!==null&&(h=h.updateQueue,i=h.lastBaseUpdate,i!==o&&(i===null?h.firstBaseUpdate=u:i.next=u,h.lastBaseUpdate=c))}if(a!==null){var m=l.baseState;o=0,h=u=c=null,i=a;do{var y=i.lane,b=i.eventTime;if((s&y)===y){h!==null&&(h=h.next={eventTime:b,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var g=e,v=i;switch(y=t,b=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){m=g.call(b,m,y);break e}m=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,y=typeof g=="function"?g.call(b,m,y):g,y==null)break e;m=re({},m,y);break e;case 2:St=!0}}i.callback!==null&&i.lane!==0&&(e.flags|=64,y=l.effects,y===null?l.effects=[i]:y.push(i))}else b={eventTime:b,lane:y,tag:i.tag,payload:i.payload,callback:i.callback,next:null},h===null?(u=h=b,c=m):h=h.next=b,o|=y;if(i=i.next,i===null){if(i=l.shared.pending,i===null)break;y=i,i=y.next,y.next=null,l.lastBaseUpdate=y,l.shared.pending=null}}while(!0);if(h===null&&(c=m),l.baseState=c,l.firstBaseUpdate=u,l.lastBaseUpdate=h,t=l.shared.interleaved,t!==null){l=t;do o|=l.lane,l=l.next;while(l!==t)}else a===null&&(l.shared.lanes=0);ln|=o,e.lanes=o,e.memoizedState=m}}function dc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],l=s.callback;if(l!==null){if(s.callback=null,s=n,typeof l!="function")throw Error(P(191,l));l.call(s)}}}var Qr={},it=$t(Qr),Lr=$t(Qr),Ar=$t(Qr);function Yt(e){if(e===Qr)throw Error(P(174));return e}function Jo(e,t){switch(Q(Ar,t),Q(Lr,e),Q(it,Qr),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ta(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ta(t,e)}Y(it),Q(it,t)}function Fn(){Y(it),Y(Lr),Y(Ar)}function Dd(e){Yt(Ar.current);var t=Yt(it.current),n=Ta(t,e.type);t!==n&&(Q(Lr,e),Q(it,n))}function Yo(e){Lr.current===e&&(Y(it),Y(Lr))}var te=$t(0);function Ys(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function Xo(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ks=vt.ReactCurrentDispatcher,ra=vt.ReactCurrentBatchConfig,sn=0,ne=null,ue=null,me=null,Xs=!1,gr=!1,Ir=0,fh=0;function ye(){throw Error(P(321))}function Zo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!et(e[n],t[n]))return!1;return!0}function ei(e,t,n,s,l,a){if(sn=a,ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ks.current=e===null||e.memoizedState===null?xh:gh,e=n(s,l),gr){a=0;do{if(gr=!1,Ir=0,25<=a)throw Error(P(301));a+=1,me=ue=null,t.updateQueue=null,ks.current=yh,e=n(s,l)}while(gr)}if(ks.current=Zs,t=ue!==null&&ue.next!==null,sn=0,me=ue=ne=null,Xs=!1,t)throw Error(P(300));return e}function ti(){var e=Ir!==0;return Ir=0,e}function lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?ne.memoizedState=me=e:me=me.next=e,me}function Ge(){if(ue===null){var e=ne.alternate;e=e!==null?e.memoizedState:null}else e=ue.next;var t=me===null?ne.memoizedState:me.next;if(t!==null)me=t,ue=e;else{if(e===null)throw Error(P(310));ue=e,e={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},me===null?ne.memoizedState=me=e:me=me.next=e}return me}function _r(e,t){return typeof t=="function"?t(e):t}function sa(e){var t=Ge(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var s=ue,l=s.baseQueue,a=n.pending;if(a!==null){if(l!==null){var o=l.next;l.next=a.next,a.next=o}s.baseQueue=l=a,n.pending=null}if(l!==null){a=l.next,s=s.baseState;var i=o=null,c=null,u=a;do{var h=u.lane;if((sn&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),s=u.hasEagerState?u.eagerState:e(s,u.action);else{var m={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(i=c=m,o=s):c=c.next=m,ne.lanes|=h,ln|=h}u=u.next}while(u!==null&&u!==a);c===null?o=s:c.next=i,et(s,t.memoizedState)||(Re=!0),t.memoizedState=s,t.baseState=o,t.baseQueue=c,n.lastRenderedState=s}if(e=n.interleaved,e!==null){l=e;do a=l.lane,ne.lanes|=a,ln|=a,l=l.next;while(l!==e)}else l===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function la(e){var t=Ge(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var s=n.dispatch,l=n.pending,a=t.memoizedState;if(l!==null){n.pending=null;var o=l=l.next;do a=e(a,o.action),o=o.next;while(o!==l);et(a,t.memoizedState)||(Re=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,s]}function Ld(){}function Ad(e,t){var n=ne,s=Ge(),l=t(),a=!et(s.memoizedState,l);if(a&&(s.memoizedState=l,Re=!0),s=s.queue,ni(Od.bind(null,n,s,e),[e]),s.getSnapshot!==t||a||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,Or(9,_d.bind(null,n,s,l,t),void 0,null),pe===null)throw Error(P(349));sn&30||Id(n,t,l)}return l}function Id(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _d(e,t,n,s){t.value=n,t.getSnapshot=s,Fd(t)&&Md(e)}function Od(e,t,n){return n(function(){Fd(t)&&Md(e)})}function Fd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!et(e,n)}catch{return!0}}function Md(e){var t=gt(e,1);t!==null&&Ze(t,e,1,-1)}function fc(e){var t=lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_r,lastRenderedState:e},t.queue=e,e=e.dispatch=hh.bind(null,ne,e),[t.memoizedState,e]}function Or(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=ne.updateQueue,t===null?(t={lastEffect:null,stores:null},ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function Ud(){return Ge().memoizedState}function Es(e,t,n,s){var l=lt();ne.flags|=e,l.memoizedState=Or(1|t,n,void 0,s===void 0?null:s)}function xl(e,t,n,s){var l=Ge();s=s===void 0?null:s;var a=void 0;if(ue!==null){var o=ue.memoizedState;if(a=o.destroy,s!==null&&Zo(s,o.deps)){l.memoizedState=Or(t,n,a,s);return}}ne.flags|=e,l.memoizedState=Or(1|t,n,a,s)}function mc(e,t){return Es(8390656,8,e,t)}function ni(e,t){return xl(2048,8,e,t)}function zd(e,t){return xl(4,2,e,t)}function Bd(e,t){return xl(4,4,e,t)}function $d(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vd(e,t,n){return n=n!=null?n.concat([e]):null,xl(4,4,$d.bind(null,t,e),n)}function ri(){}function Hd(e,t){var n=Ge();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Zo(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function Wd(e,t){var n=Ge();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&Zo(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function qd(e,t,n){return sn&21?(et(n,t)||(n=Yu(),ne.lanes|=n,ln|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Re=!0),e.memoizedState=n)}function mh(e,t){var n=G;G=n!==0&&4>n?n:4,e(!0);var s=ra.transition;ra.transition={};try{e(!1),t()}finally{G=n,ra.transition=s}}function Gd(){return Ge().memoizedState}function ph(e,t,n){var s=Ot(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},Qd(e))Kd(t,n);else if(n=Rd(e,t,n,s),n!==null){var l=Ce();Ze(n,e,s,l),Jd(n,t,s)}}function hh(e,t,n){var s=Ot(e),l={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qd(e))Kd(t,l);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,i=a(o,n);if(l.hasEagerState=!0,l.eagerState=i,et(i,o)){var c=t.interleaved;c===null?(l.next=l,Qo(t)):(l.next=c.next,c.next=l),t.interleaved=l;return}}catch{}finally{}n=Rd(e,t,l,s),n!==null&&(l=Ce(),Ze(n,e,s,l),Jd(n,t,s))}}function Qd(e){var t=e.alternate;return e===ne||t!==null&&t===ne}function Kd(e,t){gr=Xs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Jd(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Io(e,n)}}var Zs={readContext:qe,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useInsertionEffect:ye,useLayoutEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useMutableSource:ye,useSyncExternalStore:ye,useId:ye,unstable_isNewReconciler:!1},xh={readContext:qe,useCallback:function(e,t){return lt().memoizedState=[e,t===void 0?null:t],e},useContext:qe,useEffect:mc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Es(4194308,4,$d.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Es(4194308,4,e,t)},useInsertionEffect:function(e,t){return Es(4,2,e,t)},useMemo:function(e,t){var n=lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=lt();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=ph.bind(null,ne,e),[s.memoizedState,e]},useRef:function(e){var t=lt();return e={current:e},t.memoizedState=e},useState:fc,useDebugValue:ri,useDeferredValue:function(e){return lt().memoizedState=e},useTransition:function(){var e=fc(!1),t=e[0];return e=mh.bind(null,e[1]),lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=ne,l=lt();if(Z){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),pe===null)throw Error(P(349));sn&30||Id(s,t,n)}l.memoizedState=n;var a={value:n,getSnapshot:t};return l.queue=a,mc(Od.bind(null,s,a,e),[e]),s.flags|=2048,Or(9,_d.bind(null,s,a,n,t),void 0,null),n},useId:function(){var e=lt(),t=pe.identifierPrefix;if(Z){var n=ft,s=dt;n=(s&~(1<<32-Xe(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ir++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fh++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gh={readContext:qe,useCallback:Hd,useContext:qe,useEffect:ni,useImperativeHandle:Vd,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:Wd,useReducer:sa,useRef:Ud,useState:function(){return sa(_r)},useDebugValue:ri,useDeferredValue:function(e){var t=Ge();return qd(t,ue.memoizedState,e)},useTransition:function(){var e=sa(_r)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Ld,useSyncExternalStore:Ad,useId:Gd,unstable_isNewReconciler:!1},yh={readContext:qe,useCallback:Hd,useContext:qe,useEffect:ni,useImperativeHandle:Vd,useInsertionEffect:zd,useLayoutEffect:Bd,useMemo:Wd,useReducer:la,useRef:Ud,useState:function(){return la(_r)},useDebugValue:ri,useDeferredValue:function(e){var t=Ge();return ue===null?t.memoizedState=e:qd(t,ue.memoizedState,e)},useTransition:function(){var e=la(_r)[0],t=Ge().memoizedState;return[e,t]},useMutableSource:Ld,useSyncExternalStore:Ad,useId:Gd,unstable_isNewReconciler:!1};function Ke(e,t){if(e&&e.defaultProps){t=re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ka(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gl={isMounted:function(e){return(e=e._reactInternals)?dn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ce(),l=Ot(e),a=pt(s,l);a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(Ze(t,e,l,s),Cs(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ce(),l=Ot(e),a=pt(s,l);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=It(e,a,l),t!==null&&(Ze(t,e,l,s),Cs(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ce(),s=Ot(e),l=pt(n,s);l.tag=2,t!=null&&(l.callback=t),t=It(e,l,s),t!==null&&(Ze(t,e,s,n),Cs(t,e,s))}};function pc(e,t,n,s,l,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,a,o):t.prototype&&t.prototype.isPureReactComponent?!Tr(n,s)||!Tr(l,a):!0}function Yd(e,t,n){var s=!1,l=zt,a=t.contextType;return typeof a=="object"&&a!==null?a=qe(a):(l=De(t)?nn:Ne.current,s=t.contextTypes,a=(s=s!=null)?In(e,l):zt),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gl,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=l,e.__reactInternalMemoizedMaskedChildContext=a),t}function hc(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&gl.enqueueReplaceState(t,t.state,null)}function Ja(e,t,n,s){var l=e.stateNode;l.props=n,l.state=e.memoizedState,l.refs={},Ko(e);var a=t.contextType;typeof a=="object"&&a!==null?l.context=qe(a):(a=De(t)?nn:Ne.current,l.context=In(e,a)),l.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ka(e,t,a,n),l.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&gl.enqueueReplaceState(l,l.state,null),Js(e,n,l,s),l.state=e.memoizedState),typeof l.componentDidMount=="function"&&(e.flags|=4194308)}function Mn(e,t){try{var n="",s=t;do n+=qm(s),s=s.return;while(s);var l=n}catch(a){l=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:l,digest:null}}function aa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Ya(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var vh=typeof WeakMap=="function"?WeakMap:Map;function Xd(e,t,n){n=pt(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){tl||(tl=!0,oo=s),Ya(e,t)},n}function Zd(e,t,n){n=pt(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var l=t.value;n.payload=function(){return s(l)},n.callback=function(){Ya(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Ya(e,t),typeof s!="function"&&(_t===null?_t=new Set([this]):_t.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function xc(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new vh;var l=new Set;s.set(t,l)}else l=s.get(t),l===void 0&&(l=new Set,s.set(t,l));l.has(n)||(l.add(n),e=Ah.bind(null,e,t,n),t.then(e,e))}function gc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yc(e,t,n,s,l){return e.mode&1?(e.flags|=65536,e.lanes=l,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pt(-1,1),t.tag=2,It(n,t,1))),n.lanes|=1),e)}var jh=vt.ReactCurrentOwner,Re=!1;function Se(e,t,n,s){t.child=e===null?Td(t,null,n,s):On(t,e.child,n,s)}function vc(e,t,n,s,l){n=n.render;var a=t.ref;return Dn(t,l),s=ei(e,t,n,s,a,l),n=ti(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(Z&&n&&$o(t),t.flags|=1,Se(e,t,s,l),t.child)}function jc(e,t,n,s,l){if(e===null){var a=n.type;return typeof a=="function"&&!di(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,ef(e,t,a,s,l)):(e=Ds(n.type,null,s,t,t.mode,l),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&l)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Tr,n(o,s)&&e.ref===t.ref)return yt(e,t,l)}return t.flags|=1,e=Ft(a,s),e.ref=t.ref,e.return=t,t.child=e}function ef(e,t,n,s,l){if(e!==null){var a=e.memoizedProps;if(Tr(a,s)&&e.ref===t.ref)if(Re=!1,t.pendingProps=s=a,(e.lanes&l)!==0)e.flags&131072&&(Re=!0);else return t.lanes=e.lanes,yt(e,t,l)}return Xa(e,t,n,s,l)}function tf(e,t,n){var s=t.pendingProps,l=s.children,a=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(Cn,_e),_e|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Q(Cn,_e),_e|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=a!==null?a.baseLanes:n,Q(Cn,_e),_e|=s}else a!==null?(s=a.baseLanes|n,t.memoizedState=null):s=n,Q(Cn,_e),_e|=s;return Se(e,t,l,n),t.child}function nf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xa(e,t,n,s,l){var a=De(n)?nn:Ne.current;return a=In(t,a),Dn(t,l),n=ei(e,t,n,s,a,l),s=ti(),e!==null&&!Re?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l,yt(e,t,l)):(Z&&s&&$o(t),t.flags|=1,Se(e,t,n,l),t.child)}function bc(e,t,n,s,l){if(De(n)){var a=!0;Ws(t)}else a=!1;if(Dn(t,l),t.stateNode===null)Ts(e,t),Yd(t,n,s),Ja(t,n,s,l),s=!0;else if(e===null){var o=t.stateNode,i=t.memoizedProps;o.props=i;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=qe(u):(u=De(n)?nn:Ne.current,u=In(t,u));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==s||c!==u)&&hc(t,o,s,u),St=!1;var y=t.memoizedState;o.state=y,Js(t,s,o,l),c=t.memoizedState,i!==s||y!==c||Pe.current||St?(typeof h=="function"&&(Ka(t,n,h,s),c=t.memoizedState),(i=St||pc(t,n,i,s,y,c,u))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=c),o.props=s,o.state=c,o.context=u,s=i):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{o=t.stateNode,Pd(e,t),i=t.memoizedProps,u=t.type===t.elementType?i:Ke(t.type,i),o.props=u,m=t.pendingProps,y=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=qe(c):(c=De(n)?nn:Ne.current,c=In(t,c));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(i!==m||y!==c)&&hc(t,o,s,c),St=!1,y=t.memoizedState,o.state=y,Js(t,s,o,l);var g=t.memoizedState;i!==m||y!==g||Pe.current||St?(typeof b=="function"&&(Ka(t,n,b,s),g=t.memoizedState),(u=St||pc(t,n,u,s,y,g,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(s,g,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(s,g,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=g),o.props=s,o.state=g,o.context=c,s=u):(typeof o.componentDidUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),s=!1)}return Za(e,t,n,s,a,l)}function Za(e,t,n,s,l,a){nf(e,t);var o=(t.flags&128)!==0;if(!s&&!o)return l&&ac(t,n,!1),yt(e,t,a);s=t.stateNode,jh.current=t;var i=o&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&o?(t.child=On(t,e.child,null,a),t.child=On(t,null,i,a)):Se(e,t,i,a),t.memoizedState=s.state,l&&ac(t,n,!0),t.child}function rf(e){var t=e.stateNode;t.pendingContext?lc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&lc(e,t.context,!1),Jo(e,t.containerInfo)}function Nc(e,t,n,s,l){return _n(),Ho(l),t.flags|=256,Se(e,t,n,s),t.child}var eo={dehydrated:null,treeContext:null,retryLane:0};function to(e){return{baseLanes:e,cachePool:null,transitions:null}}function sf(e,t,n){var s=t.pendingProps,l=te.current,a=!1,o=(t.flags&128)!==0,i;if((i=o)||(i=e!==null&&e.memoizedState===null?!1:(l&2)!==0),i?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(l|=1),Q(te,l&1),e===null)return Ga(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=s.children,e=s.fallback,a?(s=t.mode,a=t.child,o={mode:"hidden",children:o},!(s&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=jl(o,s,0,null),e=en(e,s,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=to(n),t.memoizedState=eo,e):si(t,o));if(l=e.memoizedState,l!==null&&(i=l.dehydrated,i!==null))return bh(e,t,o,s,i,l,n);if(a){a=s.fallback,o=t.mode,l=e.child,i=l.sibling;var c={mode:"hidden",children:s.children};return!(o&1)&&t.child!==l?(s=t.child,s.childLanes=0,s.pendingProps=c,t.deletions=null):(s=Ft(l,c),s.subtreeFlags=l.subtreeFlags&14680064),i!==null?a=Ft(i,a):(a=en(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o=o===null?to(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=e.childLanes&~n,t.memoizedState=eo,s}return a=e.child,e=a.sibling,s=Ft(a,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function si(e,t){return t=jl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function hs(e,t,n,s){return s!==null&&Ho(s),On(t,e.child,null,n),e=si(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bh(e,t,n,s,l,a,o){if(n)return t.flags&256?(t.flags&=-257,s=aa(Error(P(422))),hs(e,t,o,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=s.fallback,l=t.mode,s=jl({mode:"visible",children:s.children},l,0,null),a=en(a,l,o,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,t.mode&1&&On(t,e.child,null,o),t.child.memoizedState=to(o),t.memoizedState=eo,a);if(!(t.mode&1))return hs(e,t,o,null);if(l.data==="$!"){if(s=l.nextSibling&&l.nextSibling.dataset,s)var i=s.dgst;return s=i,a=Error(P(419)),s=aa(a,s,void 0),hs(e,t,o,s)}if(i=(o&e.childLanes)!==0,Re||i){if(s=pe,s!==null){switch(o&-o){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(s.suspendedLanes|o)?0:l,l!==0&&l!==a.retryLane&&(a.retryLane=l,gt(e,l),Ze(s,e,l,-1))}return ui(),s=aa(Error(P(421))),hs(e,t,o,s)}return l.data==="$?"?(t.flags|=128,t.child=e.child,t=Ih.bind(null,e),l._reactRetry=t,null):(e=a.treeContext,Oe=At(l.nextSibling),Fe=t,Z=!0,Ye=null,e!==null&&($e[Ve++]=dt,$e[Ve++]=ft,$e[Ve++]=rn,dt=e.id,ft=e.overflow,rn=t),t=si(t,s.children),t.flags|=4096,t)}function wc(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),Qa(e.return,t,n)}function oa(e,t,n,s,l){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:l}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=s,a.tail=n,a.tailMode=l)}function lf(e,t,n){var s=t.pendingProps,l=s.revealOrder,a=s.tail;if(Se(e,t,s.children,n),s=te.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wc(e,n,t);else if(e.tag===19)wc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Q(te,s),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(n=t.child,l=null;n!==null;)e=n.alternate,e!==null&&Ys(e)===null&&(l=n),n=n.sibling;n=l,n===null?(l=t.child,t.child=null):(l=n.sibling,n.sibling=null),oa(t,!1,l,n,a);break;case"backwards":for(n=null,l=t.child,t.child=null;l!==null;){if(e=l.alternate,e!==null&&Ys(e)===null){t.child=l;break}e=l.sibling,l.sibling=n,n=l,l=e}oa(t,!0,n,null,a);break;case"together":oa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ts(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ln|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=Ft(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ft(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Nh(e,t,n){switch(t.tag){case 3:rf(t),_n();break;case 5:Dd(t);break;case 1:De(t.type)&&Ws(t);break;case 4:Jo(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,l=t.memoizedProps.value;Q(Qs,s._currentValue),s._currentValue=l;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Q(te,te.current&1),t.flags|=128,null):n&t.child.childLanes?sf(e,t,n):(Q(te,te.current&1),e=yt(e,t,n),e!==null?e.sibling:null);Q(te,te.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return lf(e,t,n);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Q(te,te.current),s)break;return null;case 22:case 23:return t.lanes=0,tf(e,t,n)}return yt(e,t,n)}var af,no,of,cf;af=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};no=function(){};of=function(e,t,n,s){var l=e.memoizedProps;if(l!==s){e=t.stateNode,Yt(it.current);var a=null;switch(n){case"input":l=Sa(e,l),s=Sa(e,s),a=[];break;case"select":l=re({},l,{value:void 0}),s=re({},s,{value:void 0}),a=[];break;case"textarea":l=Ea(e,l),s=Ea(e,s),a=[];break;default:typeof l.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=Vs)}Ra(n,s);var o;n=null;for(u in l)if(!s.hasOwnProperty(u)&&l.hasOwnProperty(u)&&l[u]!=null)if(u==="style"){var i=l[u];for(o in i)i.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(br.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in s){var c=s[u];if(i=l!=null?l[u]:void 0,s.hasOwnProperty(u)&&c!==i&&(c!=null||i!=null))if(u==="style")if(i){for(o in i)!i.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&i[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,i=i?i.__html:void 0,c!=null&&i!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(br.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&J("scroll",e),a||i===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};cf=function(e,t,n,s){n!==s&&(t.flags|=4)};function lr(e,t){if(!Z)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags&14680064,s|=l.flags&14680064,l.return=e,l=l.sibling;else for(l=e.child;l!==null;)n|=l.lanes|l.childLanes,s|=l.subtreeFlags,s|=l.flags,l.return=e,l=l.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function wh(e,t,n){var s=t.pendingProps;switch(Vo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(t),null;case 1:return De(t.type)&&Hs(),ve(t),null;case 3:return s=t.stateNode,Fn(),Y(Pe),Y(Ne),Xo(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ms(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ye!==null&&(uo(Ye),Ye=null))),no(e,t),ve(t),null;case 5:Yo(t);var l=Yt(Ar.current);if(n=t.type,e!==null&&t.stateNode!=null)of(e,t,n,s,l),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(P(166));return ve(t),null}if(e=Yt(it.current),ms(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[at]=t,s[Dr]=a,e=(t.mode&1)!==0,n){case"dialog":J("cancel",s),J("close",s);break;case"iframe":case"object":case"embed":J("load",s);break;case"video":case"audio":for(l=0;l<dr.length;l++)J(dr[l],s);break;case"source":J("error",s);break;case"img":case"image":case"link":J("error",s),J("load",s);break;case"details":J("toggle",s);break;case"input":Li(s,a),J("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},J("invalid",s);break;case"textarea":Ii(s,a),J("invalid",s)}Ra(n,a),l=null;for(var o in a)if(a.hasOwnProperty(o)){var i=a[o];o==="children"?typeof i=="string"?s.textContent!==i&&(a.suppressHydrationWarning!==!0&&fs(s.textContent,i,e),l=["children",i]):typeof i=="number"&&s.textContent!==""+i&&(a.suppressHydrationWarning!==!0&&fs(s.textContent,i,e),l=["children",""+i]):br.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&J("scroll",s)}switch(n){case"input":ss(s),Ai(s,a,!0);break;case"textarea":ss(s),_i(s);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(s.onclick=Vs)}s=l,t.updateQueue=s,s!==null&&(t.flags|=4)}else{o=l.nodeType===9?l:l.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ou(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=o.createElement(n,{is:s.is}):(e=o.createElement(n),n==="select"&&(o=e,s.multiple?o.multiple=!0:s.size&&(o.size=s.size))):e=o.createElementNS(e,n),e[at]=t,e[Dr]=s,af(e,t,!1,!1),t.stateNode=e;e:{switch(o=Pa(n,s),n){case"dialog":J("cancel",e),J("close",e),l=s;break;case"iframe":case"object":case"embed":J("load",e),l=s;break;case"video":case"audio":for(l=0;l<dr.length;l++)J(dr[l],e);l=s;break;case"source":J("error",e),l=s;break;case"img":case"image":case"link":J("error",e),J("load",e),l=s;break;case"details":J("toggle",e),l=s;break;case"input":Li(e,s),l=Sa(e,s),J("invalid",e);break;case"option":l=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},l=re({},s,{value:void 0}),J("invalid",e);break;case"textarea":Ii(e,s),l=Ea(e,s),J("invalid",e);break;default:l=s}Ra(n,l),i=l;for(a in i)if(i.hasOwnProperty(a)){var c=i[a];a==="style"?Uu(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Fu(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Nr(e,c):typeof c=="number"&&Nr(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(br.hasOwnProperty(a)?c!=null&&a==="onScroll"&&J("scroll",e):c!=null&&To(e,a,c,o))}switch(n){case"input":ss(e),Ai(e,s,!1);break;case"textarea":ss(e),_i(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ut(s.value));break;case"select":e.multiple=!!s.multiple,a=s.value,a!=null?En(e,!!s.multiple,a,!1):s.defaultValue!=null&&En(e,!!s.multiple,s.defaultValue,!0);break;default:typeof l.onClick=="function"&&(e.onclick=Vs)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ve(t),null;case 6:if(e&&t.stateNode!=null)cf(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(P(166));if(n=Yt(Ar.current),Yt(it.current),ms(t)){if(s=t.stateNode,n=t.memoizedProps,s[at]=t,(a=s.nodeValue!==n)&&(e=Fe,e!==null))switch(e.tag){case 3:fs(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&fs(s.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[at]=t,t.stateNode=s}return ve(t),null;case 13:if(Y(te),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Z&&Oe!==null&&t.mode&1&&!(t.flags&128))kd(),_n(),t.flags|=98560,a=!1;else if(a=ms(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(P(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(P(317));a[at]=t}else _n(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ve(t),a=!1}else Ye!==null&&(uo(Ye),Ye=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||te.current&1?de===0&&(de=3):ui())),t.updateQueue!==null&&(t.flags|=4),ve(t),null);case 4:return Fn(),no(e,t),e===null&&Rr(t.stateNode.containerInfo),ve(t),null;case 10:return Go(t.type._context),ve(t),null;case 17:return De(t.type)&&Hs(),ve(t),null;case 19:if(Y(te),a=t.memoizedState,a===null)return ve(t),null;if(s=(t.flags&128)!==0,o=a.rendering,o===null)if(s)lr(a,!1);else{if(de!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Ys(e),o!==null){for(t.flags|=128,lr(a,!1),s=o.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)a=n,e=s,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,e=o.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Q(te,te.current&1|2),t.child}e=e.sibling}a.tail!==null&&oe()>Un&&(t.flags|=128,s=!0,lr(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ys(o),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),lr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!Z)return ve(t),null}else 2*oe()-a.renderingStartTime>Un&&n!==1073741824&&(t.flags|=128,s=!0,lr(a,!1),t.lanes=4194304);a.isBackwards?(o.sibling=t.child,t.child=o):(n=a.last,n!==null?n.sibling=o:t.child=o,a.last=o)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=oe(),t.sibling=null,n=te.current,Q(te,s?n&1|2:n&1),t):(ve(t),null);case 22:case 23:return ci(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?_e&1073741824&&(ve(t),t.subtreeFlags&6&&(t.flags|=8192)):ve(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function Sh(e,t){switch(Vo(t),t.tag){case 1:return De(t.type)&&Hs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Fn(),Y(Pe),Y(Ne),Xo(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yo(t),null;case 13:if(Y(te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));_n()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Y(te),null;case 4:return Fn(),null;case 10:return Go(t.type._context),null;case 22:case 23:return ci(),null;case 24:return null;default:return null}}var xs=!1,je=!1,Ch=typeof WeakSet=="function"?WeakSet:Set,_=null;function Sn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){le(e,t,s)}else n.current=null}function ro(e,t,n){try{n()}catch(s){le(e,t,s)}}var Sc=!1;function kh(e,t){if(za=zs,e=md(),Bo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var l=s.anchorOffset,a=s.focusNode;s=s.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,i=-1,c=-1,u=0,h=0,m=e,y=null;t:for(;;){for(var b;m!==n||l!==0&&m.nodeType!==3||(i=o+l),m!==a||s!==0&&m.nodeType!==3||(c=o+s),m.nodeType===3&&(o+=m.nodeValue.length),(b=m.firstChild)!==null;)y=m,m=b;for(;;){if(m===e)break t;if(y===n&&++u===l&&(i=o),y===a&&++h===s&&(c=o),(b=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=b}n=i===-1||c===-1?null:{start:i,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ba={focusedElem:e,selectionRange:n},zs=!1,_=t;_!==null;)if(t=_,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,_=e;else for(;_!==null;){t=_;try{var g=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,x=g.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ke(t.type,v),x);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var d=t.stateNode.containerInfo;d.nodeType===1?d.textContent="":d.nodeType===9&&d.documentElement&&d.removeChild(d.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(j){le(t,t.return,j)}if(e=t.sibling,e!==null){e.return=t.return,_=e;break}_=t.return}return g=Sc,Sc=!1,g}function yr(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var l=s=s.next;do{if((l.tag&e)===e){var a=l.destroy;l.destroy=void 0,a!==void 0&&ro(t,n,a)}l=l.next}while(l!==s)}}function yl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function so(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function uf(e){var t=e.alternate;t!==null&&(e.alternate=null,uf(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[at],delete t[Dr],delete t[Ha],delete t[ih],delete t[ch])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function df(e){return e.tag===5||e.tag===3||e.tag===4}function Cc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||df(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lo(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Vs));else if(s!==4&&(e=e.child,e!==null))for(lo(e,t,n),e=e.sibling;e!==null;)lo(e,t,n),e=e.sibling}function ao(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(ao(e,t,n),e=e.sibling;e!==null;)ao(e,t,n),e=e.sibling}var he=null,Je=!1;function Nt(e,t,n){for(n=n.child;n!==null;)ff(e,t,n),n=n.sibling}function ff(e,t,n){if(ot&&typeof ot.onCommitFiberUnmount=="function")try{ot.onCommitFiberUnmount(ul,n)}catch{}switch(n.tag){case 5:je||Sn(n,t);case 6:var s=he,l=Je;he=null,Nt(e,t,n),he=s,Je=l,he!==null&&(Je?(e=he,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):he.removeChild(n.stateNode));break;case 18:he!==null&&(Je?(e=he,n=n.stateNode,e.nodeType===8?ea(e.parentNode,n):e.nodeType===1&&ea(e,n),kr(e)):ea(he,n.stateNode));break;case 4:s=he,l=Je,he=n.stateNode.containerInfo,Je=!0,Nt(e,t,n),he=s,Je=l;break;case 0:case 11:case 14:case 15:if(!je&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){l=s=s.next;do{var a=l,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&ro(n,t,o),l=l.next}while(l!==s)}Nt(e,t,n);break;case 1:if(!je&&(Sn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(i){le(n,t,i)}Nt(e,t,n);break;case 21:Nt(e,t,n);break;case 22:n.mode&1?(je=(s=je)||n.memoizedState!==null,Nt(e,t,n),je=s):Nt(e,t,n);break;default:Nt(e,t,n)}}function kc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ch),t.forEach(function(s){var l=_h.bind(null,e,s);n.has(s)||(n.add(s),s.then(l,l))})}}function Qe(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];try{var a=e,o=t,i=o;e:for(;i!==null;){switch(i.tag){case 5:he=i.stateNode,Je=!1;break e;case 3:he=i.stateNode.containerInfo,Je=!0;break e;case 4:he=i.stateNode.containerInfo,Je=!0;break e}i=i.return}if(he===null)throw Error(P(160));ff(a,o,l),he=null,Je=!1;var c=l.alternate;c!==null&&(c.return=null),l.return=null}catch(u){le(l,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)mf(t,e),t=t.sibling}function mf(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qe(t,e),rt(e),s&4){try{yr(3,e,e.return),yl(3,e)}catch(v){le(e,e.return,v)}try{yr(5,e,e.return)}catch(v){le(e,e.return,v)}}break;case 1:Qe(t,e),rt(e),s&512&&n!==null&&Sn(n,n.return);break;case 5:if(Qe(t,e),rt(e),s&512&&n!==null&&Sn(n,n.return),e.flags&32){var l=e.stateNode;try{Nr(l,"")}catch(v){le(e,e.return,v)}}if(s&4&&(l=e.stateNode,l!=null)){var a=e.memoizedProps,o=n!==null?n.memoizedProps:a,i=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{i==="input"&&a.type==="radio"&&a.name!=null&&Iu(l,a),Pa(i,o);var u=Pa(i,a);for(o=0;o<c.length;o+=2){var h=c[o],m=c[o+1];h==="style"?Uu(l,m):h==="dangerouslySetInnerHTML"?Fu(l,m):h==="children"?Nr(l,m):To(l,h,m,u)}switch(i){case"input":Ca(l,a);break;case"textarea":_u(l,a);break;case"select":var y=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!a.multiple;var b=a.value;b!=null?En(l,!!a.multiple,b,!1):y!==!!a.multiple&&(a.defaultValue!=null?En(l,!!a.multiple,a.defaultValue,!0):En(l,!!a.multiple,a.multiple?[]:"",!1))}l[Dr]=a}catch(v){le(e,e.return,v)}}break;case 6:if(Qe(t,e),rt(e),s&4){if(e.stateNode===null)throw Error(P(162));l=e.stateNode,a=e.memoizedProps;try{l.nodeValue=a}catch(v){le(e,e.return,v)}}break;case 3:if(Qe(t,e),rt(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{kr(t.containerInfo)}catch(v){le(e,e.return,v)}break;case 4:Qe(t,e),rt(e);break;case 13:Qe(t,e),rt(e),l=e.child,l.flags&8192&&(a=l.memoizedState!==null,l.stateNode.isHidden=a,!a||l.alternate!==null&&l.alternate.memoizedState!==null||(oi=oe())),s&4&&kc(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(je=(u=je)||h,Qe(t,e),je=u):Qe(t,e),rt(e),s&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!h&&e.mode&1)for(_=e,h=e.child;h!==null;){for(m=_=h;_!==null;){switch(y=_,b=y.child,y.tag){case 0:case 11:case 14:case 15:yr(4,y,y.return);break;case 1:Sn(y,y.return);var g=y.stateNode;if(typeof g.componentWillUnmount=="function"){s=y,n=y.return;try{t=s,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(v){le(s,n,v)}}break;case 5:Sn(y,y.return);break;case 22:if(y.memoizedState!==null){Tc(m);continue}}b!==null?(b.return=y,_=b):Tc(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{l=m.stateNode,u?(a=l.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(i=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,i.style.display=Mu("display",o))}catch(v){le(e,e.return,v)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(v){le(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qe(t,e),rt(e),s&4&&kc(e);break;case 21:break;default:Qe(t,e),rt(e)}}function rt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(df(n)){var s=n;break e}n=n.return}throw Error(P(160))}switch(s.tag){case 5:var l=s.stateNode;s.flags&32&&(Nr(l,""),s.flags&=-33);var a=Cc(e);ao(e,a,l);break;case 3:case 4:var o=s.stateNode.containerInfo,i=Cc(e);lo(e,i,o);break;default:throw Error(P(161))}}catch(c){le(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Eh(e,t,n){_=e,pf(e)}function pf(e,t,n){for(var s=(e.mode&1)!==0;_!==null;){var l=_,a=l.child;if(l.tag===22&&s){var o=l.memoizedState!==null||xs;if(!o){var i=l.alternate,c=i!==null&&i.memoizedState!==null||je;i=xs;var u=je;if(xs=o,(je=c)&&!u)for(_=l;_!==null;)o=_,c=o.child,o.tag===22&&o.memoizedState!==null?Rc(l):c!==null?(c.return=o,_=c):Rc(l);for(;a!==null;)_=a,pf(a),a=a.sibling;_=l,xs=i,je=u}Ec(e)}else l.subtreeFlags&8772&&a!==null?(a.return=l,_=a):Ec(e)}}function Ec(e){for(;_!==null;){var t=_;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:je||yl(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!je)if(n===null)s.componentDidMount();else{var l=t.elementType===t.type?n.memoizedProps:Ke(t.type,n.memoizedProps);s.componentDidUpdate(l,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&dc(t,a,s);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}dc(t,o,n)}break;case 5:var i=t.stateNode;if(n===null&&t.flags&4){n=i;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&kr(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}je||t.flags&512&&so(t)}catch(y){le(t,t.return,y)}}if(t===e){_=null;break}if(n=t.sibling,n!==null){n.return=t.return,_=n;break}_=t.return}}function Tc(e){for(;_!==null;){var t=_;if(t===e){_=null;break}var n=t.sibling;if(n!==null){n.return=t.return,_=n;break}_=t.return}}function Rc(e){for(;_!==null;){var t=_;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{yl(4,t)}catch(c){le(t,n,c)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var l=t.return;try{s.componentDidMount()}catch(c){le(t,l,c)}}var a=t.return;try{so(t)}catch(c){le(t,a,c)}break;case 5:var o=t.return;try{so(t)}catch(c){le(t,o,c)}}}catch(c){le(t,t.return,c)}if(t===e){_=null;break}var i=t.sibling;if(i!==null){i.return=t.return,_=i;break}_=t.return}}var Th=Math.ceil,el=vt.ReactCurrentDispatcher,li=vt.ReactCurrentOwner,We=vt.ReactCurrentBatchConfig,H=0,pe=null,ce=null,xe=0,_e=0,Cn=$t(0),de=0,Fr=null,ln=0,vl=0,ai=0,vr=null,Te=null,oi=0,Un=1/0,ct=null,tl=!1,oo=null,_t=null,gs=!1,Tt=null,nl=0,jr=0,io=null,Rs=-1,Ps=0;function Ce(){return H&6?oe():Rs!==-1?Rs:Rs=oe()}function Ot(e){return e.mode&1?H&2&&xe!==0?xe&-xe:dh.transition!==null?(Ps===0&&(Ps=Yu()),Ps):(e=G,e!==0||(e=window.event,e=e===void 0?16:sd(e.type)),e):1}function Ze(e,t,n,s){if(50<jr)throw jr=0,io=null,Error(P(185));Wr(e,n,s),(!(H&2)||e!==pe)&&(e===pe&&(!(H&2)&&(vl|=n),de===4&&kt(e,xe)),Le(e,s),n===1&&H===0&&!(t.mode&1)&&(Un=oe()+500,hl&&Vt()))}function Le(e,t){var n=e.callbackNode;dp(e,t);var s=Us(e,e===pe?xe:0);if(s===0)n!==null&&Mi(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&Mi(n),t===1)e.tag===0?uh(Pc.bind(null,e)):wd(Pc.bind(null,e)),ah(function(){!(H&6)&&Vt()}),n=null;else{switch(Xu(s)){case 1:n=Ao;break;case 4:n=Ku;break;case 16:n=Ms;break;case 536870912:n=Ju;break;default:n=Ms}n=Nf(n,hf.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hf(e,t){if(Rs=-1,Ps=0,H&6)throw Error(P(327));var n=e.callbackNode;if(Ln()&&e.callbackNode!==n)return null;var s=Us(e,e===pe?xe:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=rl(e,s);else{t=s;var l=H;H|=2;var a=gf();(pe!==e||xe!==t)&&(ct=null,Un=oe()+500,Zt(e,t));do try{Dh();break}catch(i){xf(e,i)}while(!0);qo(),el.current=a,H=l,ce!==null?t=0:(pe=null,xe=0,t=de)}if(t!==0){if(t===2&&(l=_a(e),l!==0&&(s=l,t=co(e,l))),t===1)throw n=Fr,Zt(e,0),kt(e,s),Le(e,oe()),n;if(t===6)kt(e,s);else{if(l=e.current.alternate,!(s&30)&&!Rh(l)&&(t=rl(e,s),t===2&&(a=_a(e),a!==0&&(s=a,t=co(e,a))),t===1))throw n=Fr,Zt(e,0),kt(e,s),Le(e,oe()),n;switch(e.finishedWork=l,e.finishedLanes=s,t){case 0:case 1:throw Error(P(345));case 2:Gt(e,Te,ct);break;case 3:if(kt(e,s),(s&130023424)===s&&(t=oi+500-oe(),10<t)){if(Us(e,0)!==0)break;if(l=e.suspendedLanes,(l&s)!==s){Ce(),e.pingedLanes|=e.suspendedLanes&l;break}e.timeoutHandle=Va(Gt.bind(null,e,Te,ct),t);break}Gt(e,Te,ct);break;case 4:if(kt(e,s),(s&4194240)===s)break;for(t=e.eventTimes,l=-1;0<s;){var o=31-Xe(s);a=1<<o,o=t[o],o>l&&(l=o),s&=~a}if(s=l,s=oe()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*Th(s/1960))-s,10<s){e.timeoutHandle=Va(Gt.bind(null,e,Te,ct),s);break}Gt(e,Te,ct);break;case 5:Gt(e,Te,ct);break;default:throw Error(P(329))}}}return Le(e,oe()),e.callbackNode===n?hf.bind(null,e):null}function co(e,t){var n=vr;return e.current.memoizedState.isDehydrated&&(Zt(e,t).flags|=256),e=rl(e,t),e!==2&&(t=Te,Te=n,t!==null&&uo(t)),e}function uo(e){Te===null?Te=e:Te.push.apply(Te,e)}function Rh(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var l=n[s],a=l.getSnapshot;l=l.value;try{if(!et(a(),l))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function kt(e,t){for(t&=~ai,t&=~vl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Xe(t),s=1<<n;e[n]=-1,t&=~s}}function Pc(e){if(H&6)throw Error(P(327));Ln();var t=Us(e,0);if(!(t&1))return Le(e,oe()),null;var n=rl(e,t);if(e.tag!==0&&n===2){var s=_a(e);s!==0&&(t=s,n=co(e,s))}if(n===1)throw n=Fr,Zt(e,0),kt(e,t),Le(e,oe()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Gt(e,Te,ct),Le(e,oe()),null}function ii(e,t){var n=H;H|=1;try{return e(t)}finally{H=n,H===0&&(Un=oe()+500,hl&&Vt())}}function an(e){Tt!==null&&Tt.tag===0&&!(H&6)&&Ln();var t=H;H|=1;var n=We.transition,s=G;try{if(We.transition=null,G=1,e)return e()}finally{G=s,We.transition=n,H=t,!(H&6)&&Vt()}}function ci(){_e=Cn.current,Y(Cn)}function Zt(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,lh(n)),ce!==null)for(n=ce.return;n!==null;){var s=n;switch(Vo(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&Hs();break;case 3:Fn(),Y(Pe),Y(Ne),Xo();break;case 5:Yo(s);break;case 4:Fn();break;case 13:Y(te);break;case 19:Y(te);break;case 10:Go(s.type._context);break;case 22:case 23:ci()}n=n.return}if(pe=e,ce=e=Ft(e.current,null),xe=_e=t,de=0,Fr=null,ai=vl=ln=0,Te=vr=null,Jt!==null){for(t=0;t<Jt.length;t++)if(n=Jt[t],s=n.interleaved,s!==null){n.interleaved=null;var l=s.next,a=n.pending;if(a!==null){var o=a.next;a.next=l,s.next=o}n.pending=s}Jt=null}return e}function xf(e,t){do{var n=ce;try{if(qo(),ks.current=Zs,Xs){for(var s=ne.memoizedState;s!==null;){var l=s.queue;l!==null&&(l.pending=null),s=s.next}Xs=!1}if(sn=0,me=ue=ne=null,gr=!1,Ir=0,li.current=null,n===null||n.return===null){de=1,Fr=t,ce=null;break}e:{var a=e,o=n.return,i=n,c=t;if(t=xe,i.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=i,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=gc(o);if(b!==null){b.flags&=-257,yc(b,o,i,a,t),b.mode&1&&xc(a,u,t),t=b,c=u;var g=t.updateQueue;if(g===null){var v=new Set;v.add(c),t.updateQueue=v}else g.add(c);break e}else{if(!(t&1)){xc(a,u,t),ui();break e}c=Error(P(426))}}else if(Z&&i.mode&1){var x=gc(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),yc(x,o,i,a,t),Ho(Mn(c,i));break e}}a=c=Mn(c,i),de!==4&&(de=2),vr===null?vr=[a]:vr.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var p=Xd(a,c,t);uc(a,p);break e;case 1:i=c;var f=a.type,d=a.stateNode;if(!(a.flags&128)&&(typeof f.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(_t===null||!_t.has(d)))){a.flags|=65536,t&=-t,a.lanes|=t;var j=Zd(a,i,t);uc(a,j);break e}}a=a.return}while(a!==null)}vf(n)}catch(N){t=N,ce===n&&n!==null&&(ce=n=n.return);continue}break}while(!0)}function gf(){var e=el.current;return el.current=Zs,e===null?Zs:e}function ui(){(de===0||de===3||de===2)&&(de=4),pe===null||!(ln&268435455)&&!(vl&268435455)||kt(pe,xe)}function rl(e,t){var n=H;H|=2;var s=gf();(pe!==e||xe!==t)&&(ct=null,Zt(e,t));do try{Ph();break}catch(l){xf(e,l)}while(!0);if(qo(),H=n,el.current=s,ce!==null)throw Error(P(261));return pe=null,xe=0,de}function Ph(){for(;ce!==null;)yf(ce)}function Dh(){for(;ce!==null&&!np();)yf(ce)}function yf(e){var t=bf(e.alternate,e,_e);e.memoizedProps=e.pendingProps,t===null?vf(e):ce=t,li.current=null}function vf(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Sh(n,t),n!==null){n.flags&=32767,ce=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{de=6,ce=null;return}}else if(n=wh(n,t,_e),n!==null){ce=n;return}if(t=t.sibling,t!==null){ce=t;return}ce=t=e}while(t!==null);de===0&&(de=5)}function Gt(e,t,n){var s=G,l=We.transition;try{We.transition=null,G=1,Lh(e,t,n,s)}finally{We.transition=l,G=s}return null}function Lh(e,t,n,s){do Ln();while(Tt!==null);if(H&6)throw Error(P(327));n=e.finishedWork;var l=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(fp(e,a),e===pe&&(ce=pe=null,xe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||gs||(gs=!0,Nf(Ms,function(){return Ln(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=We.transition,We.transition=null;var o=G;G=1;var i=H;H|=4,li.current=null,kh(e,n),mf(n,e),Xp(Ba),zs=!!za,Ba=za=null,e.current=n,Eh(n),rp(),H=i,G=o,We.transition=a}else e.current=n;if(gs&&(gs=!1,Tt=e,nl=l),a=e.pendingLanes,a===0&&(_t=null),ap(n.stateNode),Le(e,oe()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)l=t[n],s(l.value,{componentStack:l.stack,digest:l.digest});if(tl)throw tl=!1,e=oo,oo=null,e;return nl&1&&e.tag!==0&&Ln(),a=e.pendingLanes,a&1?e===io?jr++:(jr=0,io=e):jr=0,Vt(),null}function Ln(){if(Tt!==null){var e=Xu(nl),t=We.transition,n=G;try{if(We.transition=null,G=16>e?16:e,Tt===null)var s=!1;else{if(e=Tt,Tt=null,nl=0,H&6)throw Error(P(331));var l=H;for(H|=4,_=e.current;_!==null;){var a=_,o=a.child;if(_.flags&16){var i=a.deletions;if(i!==null){for(var c=0;c<i.length;c++){var u=i[c];for(_=u;_!==null;){var h=_;switch(h.tag){case 0:case 11:case 15:yr(8,h,a)}var m=h.child;if(m!==null)m.return=h,_=m;else for(;_!==null;){h=_;var y=h.sibling,b=h.return;if(uf(h),h===u){_=null;break}if(y!==null){y.return=b,_=y;break}_=b}}}var g=a.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}_=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,_=o;else e:for(;_!==null;){if(a=_,a.flags&2048)switch(a.tag){case 0:case 11:case 15:yr(9,a,a.return)}var p=a.sibling;if(p!==null){p.return=a.return,_=p;break e}_=a.return}}var f=e.current;for(_=f;_!==null;){o=_;var d=o.child;if(o.subtreeFlags&2064&&d!==null)d.return=o,_=d;else e:for(o=f;_!==null;){if(i=_,i.flags&2048)try{switch(i.tag){case 0:case 11:case 15:yl(9,i)}}catch(N){le(i,i.return,N)}if(i===o){_=null;break e}var j=i.sibling;if(j!==null){j.return=i.return,_=j;break e}_=i.return}}if(H=l,Vt(),ot&&typeof ot.onPostCommitFiberRoot=="function")try{ot.onPostCommitFiberRoot(ul,e)}catch{}s=!0}return s}finally{G=n,We.transition=t}}return!1}function Dc(e,t,n){t=Mn(n,t),t=Xd(e,t,1),e=It(e,t,1),t=Ce(),e!==null&&(Wr(e,1,t),Le(e,t))}function le(e,t,n){if(e.tag===3)Dc(e,e,n);else for(;t!==null;){if(t.tag===3){Dc(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(_t===null||!_t.has(s))){e=Mn(n,e),e=Zd(t,e,1),t=It(t,e,1),e=Ce(),t!==null&&(Wr(t,1,e),Le(t,e));break}}t=t.return}}function Ah(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=Ce(),e.pingedLanes|=e.suspendedLanes&n,pe===e&&(xe&n)===n&&(de===4||de===3&&(xe&130023424)===xe&&500>oe()-oi?Zt(e,0):ai|=n),Le(e,t)}function jf(e,t){t===0&&(e.mode&1?(t=os,os<<=1,!(os&130023424)&&(os=4194304)):t=1);var n=Ce();e=gt(e,t),e!==null&&(Wr(e,t,n),Le(e,n))}function Ih(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),jf(e,n)}function _h(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,l=e.memoizedState;l!==null&&(n=l.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(P(314))}s!==null&&s.delete(t),jf(e,n)}var bf;bf=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Pe.current)Re=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Re=!1,Nh(e,t,n);Re=!!(e.flags&131072)}else Re=!1,Z&&t.flags&1048576&&Sd(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Ts(e,t),e=t.pendingProps;var l=In(t,Ne.current);Dn(t,n),l=ei(null,t,s,e,l,n);var a=ti();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,De(s)?(a=!0,Ws(t)):a=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Ko(t),l.updater=gl,t.stateNode=l,l._reactInternals=t,Ja(t,s,e,n),t=Za(null,t,s,!0,a,n)):(t.tag=0,Z&&a&&$o(t),Se(null,t,l,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Ts(e,t),e=t.pendingProps,l=s._init,s=l(s._payload),t.type=s,l=t.tag=Fh(s),e=Ke(s,e),l){case 0:t=Xa(null,t,s,e,n);break e;case 1:t=bc(null,t,s,e,n);break e;case 11:t=vc(null,t,s,e,n);break e;case 14:t=jc(null,t,s,Ke(s.type,e),n);break e}throw Error(P(306,s,""))}return t;case 0:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),Xa(e,t,s,l,n);case 1:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),bc(e,t,s,l,n);case 3:e:{if(rf(t),e===null)throw Error(P(387));s=t.pendingProps,a=t.memoizedState,l=a.element,Pd(e,t),Js(t,s,null,n);var o=t.memoizedState;if(s=o.element,a.isDehydrated)if(a={element:s,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){l=Mn(Error(P(423)),t),t=Nc(e,t,s,n,l);break e}else if(s!==l){l=Mn(Error(P(424)),t),t=Nc(e,t,s,n,l);break e}else for(Oe=At(t.stateNode.containerInfo.firstChild),Fe=t,Z=!0,Ye=null,n=Td(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_n(),s===l){t=yt(e,t,n);break e}Se(e,t,s,n)}t=t.child}return t;case 5:return Dd(t),e===null&&Ga(t),s=t.type,l=t.pendingProps,a=e!==null?e.memoizedProps:null,o=l.children,$a(s,l)?o=null:a!==null&&$a(s,a)&&(t.flags|=32),nf(e,t),Se(e,t,o,n),t.child;case 6:return e===null&&Ga(t),null;case 13:return sf(e,t,n);case 4:return Jo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=On(t,null,s,n):Se(e,t,s,n),t.child;case 11:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),vc(e,t,s,l,n);case 7:return Se(e,t,t.pendingProps,n),t.child;case 8:return Se(e,t,t.pendingProps.children,n),t.child;case 12:return Se(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,l=t.pendingProps,a=t.memoizedProps,o=l.value,Q(Qs,s._currentValue),s._currentValue=o,a!==null)if(et(a.value,o)){if(a.children===l.children&&!Pe.current){t=yt(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var i=a.dependencies;if(i!==null){o=a.child;for(var c=i.firstContext;c!==null;){if(c.context===s){if(a.tag===1){c=pt(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Qa(a.return,n,t),i.lanes|=n;break}c=c.next}}else if(a.tag===10)o=a.type===t.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(P(341));o.lanes|=n,i=o.alternate,i!==null&&(i.lanes|=n),Qa(o,n,t),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===t){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Se(e,t,l.children,n),t=t.child}return t;case 9:return l=t.type,s=t.pendingProps.children,Dn(t,n),l=qe(l),s=s(l),t.flags|=1,Se(e,t,s,n),t.child;case 14:return s=t.type,l=Ke(s,t.pendingProps),l=Ke(s.type,l),jc(e,t,s,l,n);case 15:return ef(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,l=t.pendingProps,l=t.elementType===s?l:Ke(s,l),Ts(e,t),t.tag=1,De(s)?(e=!0,Ws(t)):e=!1,Dn(t,n),Yd(t,s,l),Ja(t,s,l,n),Za(null,t,s,!0,e,n);case 19:return lf(e,t,n);case 22:return tf(e,t,n)}throw Error(P(156,t.tag))};function Nf(e,t){return Qu(e,t)}function Oh(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function He(e,t,n,s){return new Oh(e,t,n,s)}function di(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Fh(e){if(typeof e=="function")return di(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Po)return 11;if(e===Do)return 14}return 2}function Ft(e,t){var n=e.alternate;return n===null?(n=He(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ds(e,t,n,s,l,a){var o=2;if(s=e,typeof e=="function")di(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case hn:return en(n.children,l,a,t);case Ro:o=8,l|=8;break;case ja:return e=He(12,n,t,l|2),e.elementType=ja,e.lanes=a,e;case ba:return e=He(13,n,t,l),e.elementType=ba,e.lanes=a,e;case Na:return e=He(19,n,t,l),e.elementType=Na,e.lanes=a,e;case Du:return jl(n,l,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ru:o=10;break e;case Pu:o=9;break e;case Po:o=11;break e;case Do:o=14;break e;case wt:o=16,s=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=He(o,n,t,l),t.elementType=e,t.type=s,t.lanes=a,t}function en(e,t,n,s){return e=He(7,e,s,t),e.lanes=n,e}function jl(e,t,n,s){return e=He(22,e,s,t),e.elementType=Du,e.lanes=n,e.stateNode={isHidden:!1},e}function ia(e,t,n){return e=He(6,e,null,t),e.lanes=n,e}function ca(e,t,n){return t=He(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mh(e,t,n,s,l){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vl(0),this.expirationTimes=Vl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vl(0),this.identifierPrefix=s,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function fi(e,t,n,s,l,a,o,i,c){return e=new Mh(e,t,n,i,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=He(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ko(a),e}function Uh(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pn,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function wf(e){if(!e)return zt;e=e._reactInternals;e:{if(dn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(De(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(De(n))return Nd(e,n,t)}return t}function Sf(e,t,n,s,l,a,o,i,c){return e=fi(n,s,!0,e,l,a,o,i,c),e.context=wf(null),n=e.current,s=Ce(),l=Ot(n),a=pt(s,l),a.callback=t??null,It(n,a,l),e.current.lanes=l,Wr(e,l,s),Le(e,s),e}function bl(e,t,n,s){var l=t.current,a=Ce(),o=Ot(l);return n=wf(n),t.context===null?t.context=n:t.pendingContext=n,t=pt(a,o),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=It(l,t,o),e!==null&&(Ze(e,l,o,a),Cs(e,l,o)),o}function sl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mi(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}function zh(){return null}var Cf=typeof reportError=="function"?reportError:function(e){console.error(e)};function pi(e){this._internalRoot=e}Nl.prototype.render=pi.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));bl(e,t,null,null)};Nl.prototype.unmount=pi.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;an(function(){bl(null,e,null,null)}),t[xt]=null}};function Nl(e){this._internalRoot=e}Nl.prototype.unstable_scheduleHydration=function(e){if(e){var t=td();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ct.length&&t!==0&&t<Ct[n].priority;n++);Ct.splice(n,0,e),n===0&&rd(e)}};function hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function wl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ac(){}function Bh(e,t,n,s,l){if(l){if(typeof s=="function"){var a=s;s=function(){var u=sl(o);a.call(u)}}var o=Sf(t,s,e,0,null,!1,!1,"",Ac);return e._reactRootContainer=o,e[xt]=o.current,Rr(e.nodeType===8?e.parentNode:e),an(),o}for(;l=e.lastChild;)e.removeChild(l);if(typeof s=="function"){var i=s;s=function(){var u=sl(c);i.call(u)}}var c=fi(e,0,!1,null,null,!1,!1,"",Ac);return e._reactRootContainer=c,e[xt]=c.current,Rr(e.nodeType===8?e.parentNode:e),an(function(){bl(t,c,n,s)}),c}function Sl(e,t,n,s,l){var a=n._reactRootContainer;if(a){var o=a;if(typeof l=="function"){var i=l;l=function(){var c=sl(o);i.call(c)}}bl(t,o,e,l)}else o=Bh(n,t,e,l,s);return sl(o)}Zu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ur(t.pendingLanes);n!==0&&(Io(t,n|1),Le(t,oe()),!(H&6)&&(Un=oe()+500,Vt()))}break;case 13:an(function(){var s=gt(e,1);if(s!==null){var l=Ce();Ze(s,e,1,l)}}),mi(e,1)}};_o=function(e){if(e.tag===13){var t=gt(e,134217728);if(t!==null){var n=Ce();Ze(t,e,134217728,n)}mi(e,134217728)}};ed=function(e){if(e.tag===13){var t=Ot(e),n=gt(e,t);if(n!==null){var s=Ce();Ze(n,e,t,s)}mi(e,t)}};td=function(){return G};nd=function(e,t){var n=G;try{return G=e,t()}finally{G=n}};La=function(e,t,n){switch(t){case"input":if(Ca(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var l=pl(s);if(!l)throw Error(P(90));Au(s),Ca(s,l)}}}break;case"textarea":_u(e,n);break;case"select":t=n.value,t!=null&&En(e,!!n.multiple,t,!1)}};$u=ii;Vu=an;var $h={usingClientEntryPoint:!1,Events:[Gr,vn,pl,zu,Bu,ii]},ar={findFiberByHostInstance:Kt,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vh={bundleType:ar.bundleType,version:ar.version,rendererPackageName:ar.rendererPackageName,rendererConfig:ar.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qu(e),e===null?null:e.stateNode},findFiberByHostInstance:ar.findFiberByHostInstance||zh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{ul=ys.inject(Vh),ot=ys}catch{}}Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$h;Ue.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hi(t))throw Error(P(200));return Uh(e,t,null,n)};Ue.createRoot=function(e,t){if(!hi(e))throw Error(P(299));var n=!1,s="",l=Cf;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=fi(e,1,!1,null,null,n,!1,s,l),e[xt]=t.current,Rr(e.nodeType===8?e.parentNode:e),new pi(t)};Ue.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=qu(t),e=e===null?null:e.stateNode,e};Ue.flushSync=function(e){return an(e)};Ue.hydrate=function(e,t,n){if(!wl(t))throw Error(P(200));return Sl(null,e,t,!0,n)};Ue.hydrateRoot=function(e,t,n){if(!hi(e))throw Error(P(405));var s=n!=null&&n.hydratedSources||null,l=!1,a="",o=Cf;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=Sf(t,null,e,1,n??null,l,!1,a,o),e[xt]=t.current,Rr(e),s)for(e=0;e<s.length;e++)n=s[e],l=n._getVersion,l=l(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,l]:t.mutableSourceEagerHydrationData.push(n,l);return new Nl(t)};Ue.render=function(e,t,n){if(!wl(t))throw Error(P(200));return Sl(null,e,t,!1,n)};Ue.unmountComponentAtNode=function(e){if(!wl(e))throw Error(P(40));return e._reactRootContainer?(an(function(){Sl(null,null,e,!1,function(){e._reactRootContainer=null,e[xt]=null})}),!0):!1};Ue.unstable_batchedUpdates=ii;Ue.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!wl(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return Sl(e,t,n,!1,s)};Ue.version="18.3.1-next-f1338f8080-20240426";function kf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kf)}catch(e){console.error(e)}}kf(),Cu.exports=Ue;var Hh=Cu.exports,Ic=Hh;ya.createRoot=Ic.createRoot,ya.hydrateRoot=Ic.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mr(){return Mr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Mr.apply(this,arguments)}var Rt;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Rt||(Rt={}));const _c="popstate";function Wh(e){e===void 0&&(e={});function t(s,l){let{pathname:a,search:o,hash:i}=s.location;return fo("",{pathname:a,search:o,hash:i},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:ll(l)}return Gh(t,n,null,e)}function ie(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function xi(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function qh(){return Math.random().toString(36).substr(2,8)}function Oc(e,t){return{usr:e.state,key:e.key,idx:t}}function fo(e,t,n,s){return n===void 0&&(n=null),Mr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Gn(t):t,{state:n,key:t&&t.key||s||qh()})}function ll(e){let{pathname:t="/",search:n="",hash:s=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Gn(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let s=e.indexOf("?");s>=0&&(t.search=e.substr(s),e=e.substr(0,s)),e&&(t.pathname=e)}return t}function Gh(e,t,n,s){s===void 0&&(s={});let{window:l=document.defaultView,v5Compat:a=!1}=s,o=l.history,i=Rt.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(Mr({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function m(){i=Rt.Pop;let x=h(),p=x==null?null:x-u;u=x,c&&c({action:i,location:v.location,delta:p})}function y(x,p){i=Rt.Push;let f=fo(v.location,x,p);u=h()+1;let d=Oc(f,u),j=v.createHref(f);try{o.pushState(d,"",j)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;l.location.assign(j)}a&&c&&c({action:i,location:v.location,delta:1})}function b(x,p){i=Rt.Replace;let f=fo(v.location,x,p);u=h();let d=Oc(f,u),j=v.createHref(f);o.replaceState(d,"",j),a&&c&&c({action:i,location:v.location,delta:0})}function g(x){let p=l.location.origin!=="null"?l.location.origin:l.location.href,f=typeof x=="string"?x:ll(x);return f=f.replace(/ $/,"%20"),ie(p,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,p)}let v={get action(){return i},get location(){return e(l,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return l.addEventListener(_c,m),c=x,()=>{l.removeEventListener(_c,m),c=null}},createHref(x){return t(l,x)},createURL:g,encodeLocation(x){let p=g(x);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:y,replace:b,go(x){return o.go(x)}};return v}var Fc;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Fc||(Fc={}));function Qh(e,t,n){return n===void 0&&(n="/"),Kh(e,t,n)}function Kh(e,t,n,s){let l=typeof t=="string"?Gn(t):t,a=gi(l.pathname||"/",n);if(a==null)return null;let o=Ef(e);Jh(o);let i=null;for(let c=0;i==null&&c<o.length;++c){let u=ix(a);i=lx(o[c],u)}return i}function Ef(e,t,n,s){t===void 0&&(t=[]),n===void 0&&(n=[]),s===void 0&&(s="");let l=(a,o,i)=>{let c={relativePath:i===void 0?a.path||"":i,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(ie(c.relativePath.startsWith(s),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(s.length));let u=Mt([s,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(ie(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ef(a.children,t,h,u)),!(a.path==null&&!a.index)&&t.push({path:u,score:rx(u,a.index),routesMeta:h})};return e.forEach((a,o)=>{var i;if(a.path===""||!((i=a.path)!=null&&i.includes("?")))l(a,o);else for(let c of Tf(a.path))l(a,o,c)}),t}function Tf(e){let t=e.split("/");if(t.length===0)return[];let[n,...s]=t,l=n.endsWith("?"),a=n.replace(/\?$/,"");if(s.length===0)return l?[a,""]:[a];let o=Tf(s.join("/")),i=[];return i.push(...o.map(c=>c===""?a:[a,c].join("/"))),l&&i.push(...o),i.map(c=>e.startsWith("/")&&c===""?"/":c)}function Jh(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:sx(t.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}const Yh=/^:[\w-]+$/,Xh=3,Zh=2,ex=1,tx=10,nx=-2,Mc=e=>e==="*";function rx(e,t){let n=e.split("/"),s=n.length;return n.some(Mc)&&(s+=nx),t&&(s+=Zh),n.filter(l=>!Mc(l)).reduce((l,a)=>l+(Yh.test(a)?Xh:a===""?ex:tx),s)}function sx(e,t){return e.length===t.length&&e.slice(0,-1).every((s,l)=>s===t[l])?e[e.length-1]-t[t.length-1]:0}function lx(e,t,n){let{routesMeta:s}=e,l={},a="/",o=[];for(let i=0;i<s.length;++i){let c=s[i],u=i===s.length-1,h=a==="/"?t:t.slice(a.length)||"/",m=ax({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),y=c.route;if(!m)return null;Object.assign(l,m.params),o.push({params:l,pathname:Mt([a,m.pathname]),pathnameBase:mx(Mt([a,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(a=Mt([a,m.pathnameBase]))}return o}function ax(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,s]=ox(e.path,e.caseSensitive,e.end),l=t.match(n);if(!l)return null;let a=l[0],o=a.replace(/(.)\/+$/,"$1"),i=l.slice(1);return{params:s.reduce((u,h,m)=>{let{paramName:y,isOptional:b}=h;if(y==="*"){let v=i[m]||"";o=a.slice(0,a.length-v.length).replace(/(.)\/+$/,"$1")}const g=i[m];return b&&!g?u[y]=void 0:u[y]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:e}}function ox(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),xi(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let s=[],l="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,i,c)=>(s.push({paramName:i,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(s.push({paramName:"*"}),l+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":e!==""&&e!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),s]}function ix(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return xi(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function gi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,s=e.charAt(n);return s&&s!=="/"?null:e.slice(n)||"/"}const cx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ux=e=>cx.test(e);function dx(e,t){t===void 0&&(t="/");let{pathname:n,search:s="",hash:l=""}=typeof e=="string"?Gn(e):e,a;if(n)if(ux(n))a=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),xi(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?a=Uc(n.substring(1),"/"):a=Uc(n,t)}else a=t;return{pathname:a,search:px(s),hash:hx(l)}}function Uc(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function ua(e,t,n,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function yi(e,t){let n=fx(e);return t?n.map((s,l)=>l===n.length-1?s.pathname:s.pathnameBase):n.map(s=>s.pathnameBase)}function vi(e,t,n,s){s===void 0&&(s=!1);let l;typeof e=="string"?l=Gn(e):(l=Mr({},e),ie(!l.pathname||!l.pathname.includes("?"),ua("?","pathname","search",l)),ie(!l.pathname||!l.pathname.includes("#"),ua("#","pathname","hash",l)),ie(!l.search||!l.search.includes("#"),ua("#","search","hash",l)));let a=e===""||l.pathname==="",o=a?"/":l.pathname,i;if(o==null)i=n;else{let m=t.length-1;if(!s&&o.startsWith("..")){let y=o.split("/");for(;y[0]==="..";)y.shift(),m-=1;l.pathname=y.join("/")}i=m>=0?t[m]:"/"}let c=dx(l,i),u=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const Mt=e=>e.join("/").replace(/\/\/+/g,"/"),mx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),px=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,hx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function xx(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Rf=["post","put","patch","delete"];new Set(Rf);const gx=["get",...Rf];new Set(gx);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ur(){return Ur=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Ur.apply(this,arguments)}const ji=w.createContext(null),yx=w.createContext(null),Ht=w.createContext(null),Cl=w.createContext(null),jt=w.createContext({outlet:null,matches:[],isDataRoute:!1}),Pf=w.createContext(null);function vx(e,t){let{relative:n}=t===void 0?{}:t;Qn()||ie(!1);let{basename:s,navigator:l}=w.useContext(Ht),{hash:a,pathname:o,search:i}=Lf(e,{relative:n}),c=o;return s!=="/"&&(c=o==="/"?s:Mt([s,o])),l.createHref({pathname:c,search:i,hash:a})}function Qn(){return w.useContext(Cl)!=null}function Kn(){return Qn()||ie(!1),w.useContext(Cl).location}function Df(e){w.useContext(Ht).static||w.useLayoutEffect(e)}function we(){let{isDataRoute:e}=w.useContext(jt);return e?Lx():jx()}function jx(){Qn()||ie(!1);let e=w.useContext(ji),{basename:t,future:n,navigator:s}=w.useContext(Ht),{matches:l}=w.useContext(jt),{pathname:a}=Kn(),o=JSON.stringify(yi(l,n.v7_relativeSplatPath)),i=w.useRef(!1);return Df(()=>{i.current=!0}),w.useCallback(function(u,h){if(h===void 0&&(h={}),!i.current)return;if(typeof u=="number"){s.go(u);return}let m=vi(u,JSON.parse(o),a,h.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Mt([t,m.pathname])),(h.replace?s.replace:s.push)(m,h.state,h)},[t,s,o,a,e])}function kl(){let{matches:e}=w.useContext(jt),t=e[e.length-1];return t?t.params:{}}function Lf(e,t){let{relative:n}=t===void 0?{}:t,{future:s}=w.useContext(Ht),{matches:l}=w.useContext(jt),{pathname:a}=Kn(),o=JSON.stringify(yi(l,s.v7_relativeSplatPath));return w.useMemo(()=>vi(e,JSON.parse(o),a,n==="path"),[e,o,a,n])}function bx(e,t){return Nx(e,t)}function Nx(e,t,n,s){Qn()||ie(!1);let{navigator:l}=w.useContext(Ht),{matches:a}=w.useContext(jt),o=a[a.length-1],i=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Kn(),h;if(t){var m;let x=typeof t=="string"?Gn(t):t;c==="/"||(m=x.pathname)!=null&&m.startsWith(c)||ie(!1),h=x}else h=u;let y=h.pathname||"/",b=y;if(c!=="/"){let x=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(x.length).join("/")}let g=Qh(e,{pathname:b}),v=Ex(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},i,x.params),pathname:Mt([c,l.encodeLocation?l.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:Mt([c,l.encodeLocation?l.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),a,n,s);return t&&v?w.createElement(Cl.Provider,{value:{location:Ur({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Rt.Pop}},v):v}function wx(){let e=Dx(),t=xx(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),n?w.createElement("pre",{style:l},n):null,null)}const Sx=w.createElement(wx,null);class Cx extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?w.createElement(jt.Provider,{value:this.props.routeContext},w.createElement(Pf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function kx(e){let{routeContext:t,match:n,children:s}=e,l=w.useContext(ji);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),w.createElement(jt.Provider,{value:t},s)}function Ex(e,t,n,s){var l;if(t===void 0&&(t=[]),n===void 0&&(n=null),s===void 0&&(s=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=s)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,i=(l=n)==null?void 0:l.errors;if(i!=null){let h=o.findIndex(m=>m.route.id&&(i==null?void 0:i[m.route.id])!==void 0);h>=0||ie(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&s&&s.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=h),m.route.id){let{loaderData:y,errors:b}=n,g=m.route.loader&&y[m.route.id]===void 0&&(!b||b[m.route.id]===void 0);if(m.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,m,y)=>{let b,g=!1,v=null,x=null;n&&(b=i&&m.route.id?i[m.route.id]:void 0,v=m.route.errorElement||Sx,c&&(u<0&&y===0?(Ax("route-fallback"),g=!0,x=null):u===y&&(g=!0,x=m.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,y+1)),f=()=>{let d;return b?d=v:g?d=x:m.route.Component?d=w.createElement(m.route.Component,null):m.route.element?d=m.route.element:d=h,w.createElement(kx,{match:m,routeContext:{outlet:h,matches:p,isDataRoute:n!=null},children:d})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?w.createElement(Cx,{location:n.location,revalidation:n.revalidation,component:v,error:b,children:f(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):f()},null)}var Af=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Af||{}),If=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(If||{});function Tx(e){let t=w.useContext(ji);return t||ie(!1),t}function Rx(e){let t=w.useContext(yx);return t||ie(!1),t}function Px(e){let t=w.useContext(jt);return t||ie(!1),t}function _f(e){let t=Px(),n=t.matches[t.matches.length-1];return n.route.id||ie(!1),n.route.id}function Dx(){var e;let t=w.useContext(Pf),n=Rx(),s=_f();return t!==void 0?t:(e=n.errors)==null?void 0:e[s]}function Lx(){let{router:e}=Tx(Af.UseNavigateStable),t=_f(If.UseNavigateStable),n=w.useRef(!1);return Df(()=>{n.current=!0}),w.useCallback(function(l,a){a===void 0&&(a={}),n.current&&(typeof l=="number"?e.navigate(l):e.navigate(l,Ur({fromRouteId:t},a)))},[e,t])}const zc={};function Ax(e,t,n){zc[e]||(zc[e]=!0)}function Ix(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mo(e){let{to:t,replace:n,state:s,relative:l}=e;Qn()||ie(!1);let{future:a,static:o}=w.useContext(Ht),{matches:i}=w.useContext(jt),{pathname:c}=Kn(),u=we(),h=vi(t,yi(i,a.v7_relativeSplatPath),c,l==="path"),m=JSON.stringify(h);return w.useEffect(()=>u(JSON.parse(m),{replace:n,state:s,relative:l}),[u,m,l,n,s]),null}function se(e){ie(!1)}function _x(e){let{basename:t="/",children:n=null,location:s,navigationType:l=Rt.Pop,navigator:a,static:o=!1,future:i}=e;Qn()&&ie(!1);let c=t.replace(/^\/*/,"/"),u=w.useMemo(()=>({basename:c,navigator:a,static:o,future:Ur({v7_relativeSplatPath:!1},i)}),[c,i,a,o]);typeof s=="string"&&(s=Gn(s));let{pathname:h="/",search:m="",hash:y="",state:b=null,key:g="default"}=s,v=w.useMemo(()=>{let x=gi(h,c);return x==null?null:{location:{pathname:x,search:m,hash:y,state:b,key:g},navigationType:l}},[c,h,m,y,b,g,l]);return v==null?null:w.createElement(Ht.Provider,{value:u},w.createElement(Cl.Provider,{children:n,value:v}))}function Ox(e){let{children:t,location:n}=e;return bx(po(t),n)}new Promise(()=>{});function po(e,t){t===void 0&&(t=[]);let n=[];return w.Children.forEach(e,(s,l)=>{if(!w.isValidElement(s))return;let a=[...t,l];if(s.type===w.Fragment){n.push.apply(n,po(s.props.children,a));return}s.type!==se&&ie(!1),!s.props.index||!s.props.children||ie(!1);let o={id:s.props.id||a.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(o.children=po(s.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ho(){return ho=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},ho.apply(this,arguments)}function Fx(e,t){if(e==null)return{};var n={},s=Object.keys(e),l,a;for(a=0;a<s.length;a++)l=s[a],!(t.indexOf(l)>=0)&&(n[l]=e[l]);return n}function Mx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ux(e,t){return e.button===0&&(!t||t==="_self")&&!Mx(e)}const zx=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Bx="6";try{window.__reactRouterVersion=Bx}catch{}const $x="startTransition",Bc=Am[$x];function Vx(e){let{basename:t,children:n,future:s,window:l}=e,a=w.useRef();a.current==null&&(a.current=Wh({window:l,v5Compat:!0}));let o=a.current,[i,c]=w.useState({action:o.action,location:o.location}),{v7_startTransition:u}=s||{},h=w.useCallback(m=>{u&&Bc?Bc(()=>c(m)):c(m)},[c,u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.useEffect(()=>Ix(s),[s]),w.createElement(_x,{basename:t,children:n,location:i.location,navigationType:i.action,navigator:o,future:s})}const Hx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,da=w.forwardRef(function(t,n){let{onClick:s,relative:l,reloadDocument:a,replace:o,state:i,target:c,to:u,preventScrollReset:h,viewTransition:m}=t,y=Fx(t,zx),{basename:b}=w.useContext(Ht),g,v=!1;if(typeof u=="string"&&Wx.test(u)&&(g=u,Hx))try{let d=new URL(window.location.href),j=u.startsWith("//")?new URL(d.protocol+u):new URL(u),N=gi(j.pathname,b);j.origin===d.origin&&N!=null?u=N+j.search+j.hash:v=!0}catch{}let x=vx(u,{relative:l}),p=qx(u,{replace:o,state:i,target:c,preventScrollReset:h,relative:l,viewTransition:m});function f(d){s&&s(d),d.defaultPrevented||p(d)}return w.createElement("a",ho({},y,{href:g||x,onClick:v||a?s:f,ref:n,target:c}))});var $c;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})($c||($c={}));var Vc;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Vc||(Vc={}));function qx(e,t){let{target:n,replace:s,state:l,preventScrollReset:a,relative:o,viewTransition:i}=t===void 0?{}:t,c=we(),u=Kn(),h=Lf(e,{relative:o});return w.useCallback(m=>{if(Ux(m,n)){m.preventDefault();let y=s!==void 0?s:ll(u)===ll(h);c(e,{replace:y,state:l,preventScrollReset:a,relative:o,viewTransition:i})}},[u,c,h,s,l,n,e,a,o,i])}const Gx={},Hc=e=>{let t;const n=new Set,s=(h,m)=>{const y=typeof h=="function"?h(t):h;if(!Object.is(y,t)){const b=t;t=m??(typeof y!="object"||y===null)?y:Object.assign({},t,y),n.forEach(g=>g(t,b))}},l=()=>t,c={setState:s,getState:l,getInitialState:()=>u,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(Gx?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(s,l,c);return c},Qx=e=>e?Hc(e):Hc;var Of={exports:{}},Ff={},Mf={exports:{}},Uf={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zn=w;function Kx(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Jx=typeof Object.is=="function"?Object.is:Kx,Yx=zn.useState,Xx=zn.useEffect,Zx=zn.useLayoutEffect,e0=zn.useDebugValue;function t0(e,t){var n=t(),s=Yx({inst:{value:n,getSnapshot:t}}),l=s[0].inst,a=s[1];return Zx(function(){l.value=n,l.getSnapshot=t,fa(l)&&a({inst:l})},[e,n,t]),Xx(function(){return fa(l)&&a({inst:l}),e(function(){fa(l)&&a({inst:l})})},[e]),e0(n),n}function fa(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Jx(e,n)}catch{return!0}}function n0(e,t){return t()}var r0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n0:t0;Uf.useSyncExternalStore=zn.useSyncExternalStore!==void 0?zn.useSyncExternalStore:r0;Mf.exports=Uf;var s0=Mf.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var El=w,l0=s0;function a0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var o0=typeof Object.is=="function"?Object.is:a0,i0=l0.useSyncExternalStore,c0=El.useRef,u0=El.useEffect,d0=El.useMemo,f0=El.useDebugValue;Ff.useSyncExternalStoreWithSelector=function(e,t,n,s,l){var a=c0(null);if(a.current===null){var o={hasValue:!1,value:null};a.current=o}else o=a.current;a=d0(function(){function c(b){if(!u){if(u=!0,h=b,b=s(b),l!==void 0&&o.hasValue){var g=o.value;if(l(g,b))return m=g}return m=b}if(g=m,o0(h,b))return g;var v=s(b);return l!==void 0&&l(g,v)?(h=b,g):(h=b,m=v)}var u=!1,h,m,y=n===void 0?null:n;return[function(){return c(t())},y===null?void 0:function(){return c(y())}]},[t,n,s,l]);var i=i0(e,a[0],a[1]);return u0(function(){o.hasValue=!0,o.value=i},[i]),f0(i),i};Of.exports=Ff;var m0=Of.exports;const p0=mu(m0),zf={},{useDebugValue:h0}=Co,{useSyncExternalStoreWithSelector:x0}=p0;let Wc=!1;const g0=e=>e;function y0(e,t=g0,n){(zf?"production":void 0)!=="production"&&n&&!Wc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Wc=!0);const s=x0(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return h0(s),s}const qc=e=>{(zf?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Qx(e):e,n=(s,l)=>y0(t,s,l);return Object.assign(n,t),n},v0=e=>e?qc(e):qc,j0={};function b0(e,t){let n;try{n=e()}catch{return}return{getItem:l=>{var a;const o=c=>c===null?null:JSON.parse(c,void 0),i=(a=n.getItem(l))!=null?a:null;return i instanceof Promise?i.then(o):o(i)},setItem:(l,a)=>n.setItem(l,JSON.stringify(a,void 0)),removeItem:l=>n.removeItem(l)}}const zr=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(s){return zr(s)(n)},catch(s){return this}}}catch(n){return{then(s){return this},catch(s){return zr(s)(n)}}}},N0=(e,t)=>(n,s,l)=>{let a={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:x=>x,version:0,merge:(x,p)=>({...p,...x}),...t},o=!1;const i=new Set,c=new Set;let u;try{u=a.getStorage()}catch{}if(!u)return e((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...x)},s,l);const h=zr(a.serialize),m=()=>{const x=a.partialize({...s()});let p;const f=h({state:x,version:a.version}).then(d=>u.setItem(a.name,d)).catch(d=>{p=d});if(p)throw p;return f},y=l.setState;l.setState=(x,p)=>{y(x,p),m()};const b=e((...x)=>{n(...x),m()},s,l);let g;const v=()=>{var x;if(!u)return;o=!1,i.forEach(f=>f(s()));const p=((x=a.onRehydrateStorage)==null?void 0:x.call(a,s()))||void 0;return zr(u.getItem.bind(u))(a.name).then(f=>{if(f)return a.deserialize(f)}).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==a.version){if(a.migrate)return a.migrate(f.state,f.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return f.state}).then(f=>{var d;return g=a.merge(f,(d=s())!=null?d:b),n(g,!0),m()}).then(()=>{p==null||p(g,void 0),o=!0,c.forEach(f=>f(g))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:x=>{a={...a,...x},x.getStorage&&(u=x.getStorage())},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>v(),hasHydrated:()=>o,onHydrate:x=>(i.add(x),()=>{i.delete(x)}),onFinishHydration:x=>(c.add(x),()=>{c.delete(x)})},v(),g||b},w0=(e,t)=>(n,s,l)=>{let a={storage:b0(()=>localStorage),partialize:v=>v,version:0,merge:(v,x)=>({...x,...v}),...t},o=!1;const i=new Set,c=new Set;let u=a.storage;if(!u)return e((...v)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),n(...v)},s,l);const h=()=>{const v=a.partialize({...s()});return u.setItem(a.name,{state:v,version:a.version})},m=l.setState;l.setState=(v,x)=>{m(v,x),h()};const y=e((...v)=>{n(...v),h()},s,l);l.getInitialState=()=>y;let b;const g=()=>{var v,x;if(!u)return;o=!1,i.forEach(f=>{var d;return f((d=s())!=null?d:y)});const p=((x=a.onRehydrateStorage)==null?void 0:x.call(a,(v=s())!=null?v:y))||void 0;return zr(u.getItem.bind(u))(a.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==a.version){if(a.migrate)return[!0,a.migrate(f.state,f.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var d;const[j,N]=f;if(b=a.merge(N,(d=s())!=null?d:y),n(b,!0),j)return h()}).then(()=>{p==null||p(b,void 0),b=s(),o=!0,c.forEach(f=>f(b))}).catch(f=>{p==null||p(void 0,f)})};return l.persist={setOptions:v=>{a={...a,...v},v.storage&&(u=v.storage)},clearStorage:()=>{u==null||u.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>g(),hasHydrated:()=>o,onHydrate:v=>(i.add(v),()=>{i.delete(v)}),onFinishHydration:v=>(c.add(v),()=>{c.delete(v)})},a.skipHydration||g(),b||y},S0=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?((j0?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),N0(e,t)):w0(e,t),C0=S0,Br=v0(C0(e=>({user:null,organization:null,accessToken:null,refreshToken:null,setAuth:t=>{localStorage.setItem("accessToken",t.accessToken),localStorage.setItem("refreshToken",t.refreshToken),e(t)},logout:()=>{localStorage.clear(),e({user:null,organization:null,accessToken:null,refreshToken:null})}}),{name:"auth-storage"}));function Bf(e,t){return function(){return e.apply(t,arguments)}}const{toString:k0}=Object.prototype,{getPrototypeOf:bi}=Object,{iterator:Tl,toStringTag:$f}=Symbol,Rl=(e=>t=>{const n=k0.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),nt=e=>(e=e.toLowerCase(),t=>Rl(t)===e),Pl=e=>t=>typeof t===e,{isArray:Jn}=Array,Bn=Pl("undefined");function Kr(e){return e!==null&&!Bn(e)&&e.constructor!==null&&!Bn(e.constructor)&&Ae(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Vf=nt("ArrayBuffer");function E0(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Vf(e.buffer),t}const T0=Pl("string"),Ae=Pl("function"),Hf=Pl("number"),Jr=e=>e!==null&&typeof e=="object",R0=e=>e===!0||e===!1,Ls=e=>{if(Rl(e)!=="object")return!1;const t=bi(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!($f in e)&&!(Tl in e)},P0=e=>{if(!Jr(e)||Kr(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},D0=nt("Date"),L0=nt("File"),A0=nt("Blob"),I0=nt("FileList"),_0=e=>Jr(e)&&Ae(e.pipe),O0=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Ae(e.append)&&((t=Rl(e))==="formdata"||t==="object"&&Ae(e.toString)&&e.toString()==="[object FormData]"))},F0=nt("URLSearchParams"),[M0,U0,z0,B0]=["ReadableStream","Request","Response","Headers"].map(nt),$0=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Yr(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let s,l;if(typeof e!="object"&&(e=[e]),Jn(e))for(s=0,l=e.length;s<l;s++)t.call(null,e[s],s,e);else{if(Kr(e))return;const a=n?Object.getOwnPropertyNames(e):Object.keys(e),o=a.length;let i;for(s=0;s<o;s++)i=a[s],t.call(null,e[i],i,e)}}function Wf(e,t){if(Kr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let s=n.length,l;for(;s-- >0;)if(l=n[s],t===l.toLowerCase())return l;return null}const Xt=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,qf=e=>!Bn(e)&&e!==Xt;function xo(){const{caseless:e,skipUndefined:t}=qf(this)&&this||{},n={},s=(l,a)=>{const o=e&&Wf(n,a)||a;Ls(n[o])&&Ls(l)?n[o]=xo(n[o],l):Ls(l)?n[o]=xo({},l):Jn(l)?n[o]=l.slice():(!t||!Bn(l))&&(n[o]=l)};for(let l=0,a=arguments.length;l<a;l++)arguments[l]&&Yr(arguments[l],s);return n}const V0=(e,t,n,{allOwnKeys:s}={})=>(Yr(t,(l,a)=>{n&&Ae(l)?e[a]=Bf(l,n):e[a]=l},{allOwnKeys:s}),e),H0=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),W0=(e,t,n,s)=>{e.prototype=Object.create(t.prototype,s),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},q0=(e,t,n,s)=>{let l,a,o;const i={};if(t=t||{},e==null)return t;do{for(l=Object.getOwnPropertyNames(e),a=l.length;a-- >0;)o=l[a],(!s||s(o,e,t))&&!i[o]&&(t[o]=e[o],i[o]=!0);e=n!==!1&&bi(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},G0=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const s=e.indexOf(t,n);return s!==-1&&s===n},Q0=e=>{if(!e)return null;if(Jn(e))return e;let t=e.length;if(!Hf(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},K0=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&bi(Uint8Array)),J0=(e,t)=>{const s=(e&&e[Tl]).call(e);let l;for(;(l=s.next())&&!l.done;){const a=l.value;t.call(e,a[0],a[1])}},Y0=(e,t)=>{let n;const s=[];for(;(n=e.exec(t))!==null;)s.push(n);return s},X0=nt("HTMLFormElement"),Z0=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,s,l){return s.toUpperCase()+l}),Gc=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),eg=nt("RegExp"),Gf=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),s={};Yr(n,(l,a)=>{let o;(o=t(l,a,e))!==!1&&(s[a]=o||l)}),Object.defineProperties(e,s)},tg=e=>{Gf(e,(t,n)=>{if(Ae(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const s=e[n];if(Ae(s)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},ng=(e,t)=>{const n={},s=l=>{l.forEach(a=>{n[a]=!0})};return Jn(e)?s(e):s(String(e).split(t)),n},rg=()=>{},sg=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function lg(e){return!!(e&&Ae(e.append)&&e[$f]==="FormData"&&e[Tl])}const ag=e=>{const t=new Array(10),n=(s,l)=>{if(Jr(s)){if(t.indexOf(s)>=0)return;if(Kr(s))return s;if(!("toJSON"in s)){t[l]=s;const a=Jn(s)?[]:{};return Yr(s,(o,i)=>{const c=n(o,l+1);!Bn(c)&&(a[i]=c)}),t[l]=void 0,a}}return s};return n(e,0)},og=nt("AsyncFunction"),ig=e=>e&&(Jr(e)||Ae(e))&&Ae(e.then)&&Ae(e.catch),Qf=((e,t)=>e?setImmediate:t?((n,s)=>(Xt.addEventListener("message",({source:l,data:a})=>{l===Xt&&a===n&&s.length&&s.shift()()},!1),l=>{s.push(l),Xt.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Ae(Xt.postMessage)),cg=typeof queueMicrotask<"u"?queueMicrotask.bind(Xt):typeof process<"u"&&process.nextTick||Qf,ug=e=>e!=null&&Ae(e[Tl]),C={isArray:Jn,isArrayBuffer:Vf,isBuffer:Kr,isFormData:O0,isArrayBufferView:E0,isString:T0,isNumber:Hf,isBoolean:R0,isObject:Jr,isPlainObject:Ls,isEmptyObject:P0,isReadableStream:M0,isRequest:U0,isResponse:z0,isHeaders:B0,isUndefined:Bn,isDate:D0,isFile:L0,isBlob:A0,isRegExp:eg,isFunction:Ae,isStream:_0,isURLSearchParams:F0,isTypedArray:K0,isFileList:I0,forEach:Yr,merge:xo,extend:V0,trim:$0,stripBOM:H0,inherits:W0,toFlatObject:q0,kindOf:Rl,kindOfTest:nt,endsWith:G0,toArray:Q0,forEachEntry:J0,matchAll:Y0,isHTMLForm:X0,hasOwnProperty:Gc,hasOwnProp:Gc,reduceDescriptors:Gf,freezeMethods:tg,toObjectSet:ng,toCamelCase:Z0,noop:rg,toFiniteNumber:sg,findKey:Wf,global:Xt,isContextDefined:qf,isSpecCompliantForm:lg,toJSONObject:ag,isAsyncFn:og,isThenable:ig,setImmediate:Qf,asap:cg,isIterable:ug};function $(e,t,n,s,l){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),s&&(this.request=s),l&&(this.response=l,this.status=l.status?l.status:null)}C.inherits($,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:C.toJSONObject(this.config),code:this.code,status:this.status}}});const Kf=$.prototype,Jf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Jf[e]={value:e}});Object.defineProperties($,Jf);Object.defineProperty(Kf,"isAxiosError",{value:!0});$.from=(e,t,n,s,l,a)=>{const o=Object.create(Kf);C.toFlatObject(e,o,function(h){return h!==Error.prototype},u=>u!=="isAxiosError");const i=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return $.call(o,i,c,n,s,l),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",a&&Object.assign(o,a),o};const dg=null;function go(e){return C.isPlainObject(e)||C.isArray(e)}function Yf(e){return C.endsWith(e,"[]")?e.slice(0,-2):e}function Qc(e,t,n){return e?e.concat(t).map(function(l,a){return l=Yf(l),!n&&a?"["+l+"]":l}).join(n?".":""):t}function fg(e){return C.isArray(e)&&!e.some(go)}const mg=C.toFlatObject(C,{},null,function(t){return/^is[A-Z]/.test(t)});function Dl(e,t,n){if(!C.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=C.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,x){return!C.isUndefined(x[v])});const s=n.metaTokens,l=n.visitor||h,a=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&C.isSpecCompliantForm(t);if(!C.isFunction(l))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(C.isDate(g))return g.toISOString();if(C.isBoolean(g))return g.toString();if(!c&&C.isBlob(g))throw new $("Blob is not supported. Use a Buffer instead.");return C.isArrayBuffer(g)||C.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function h(g,v,x){let p=g;if(g&&!x&&typeof g=="object"){if(C.endsWith(v,"{}"))v=s?v:v.slice(0,-2),g=JSON.stringify(g);else if(C.isArray(g)&&fg(g)||(C.isFileList(g)||C.endsWith(v,"[]"))&&(p=C.toArray(g)))return v=Yf(v),p.forEach(function(d,j){!(C.isUndefined(d)||d===null)&&t.append(o===!0?Qc([v],j,a):o===null?v:v+"[]",u(d))}),!1}return go(g)?!0:(t.append(Qc(x,v,a),u(g)),!1)}const m=[],y=Object.assign(mg,{defaultVisitor:h,convertValue:u,isVisitable:go});function b(g,v){if(!C.isUndefined(g)){if(m.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));m.push(g),C.forEach(g,function(p,f){(!(C.isUndefined(p)||p===null)&&l.call(t,p,C.isString(f)?f.trim():f,v,y))===!0&&b(p,v?v.concat(f):[f])}),m.pop()}}if(!C.isObject(e))throw new TypeError("data must be an object");return b(e),t}function Kc(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(s){return t[s]})}function Ni(e,t){this._pairs=[],e&&Dl(e,this,t)}const Xf=Ni.prototype;Xf.append=function(t,n){this._pairs.push([t,n])};Xf.toString=function(t){const n=t?function(s){return t.call(this,s,Kc)}:Kc;return this._pairs.map(function(l){return n(l[0])+"="+n(l[1])},"").join("&")};function pg(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Zf(e,t,n){if(!t)return e;const s=n&&n.encode||pg;C.isFunction(n)&&(n={serialize:n});const l=n&&n.serialize;let a;if(l?a=l(t,n):a=C.isURLSearchParams(t)?t.toString():new Ni(t,n).toString(s),a){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class Jc{constructor(){this.handlers=[]}use(t,n,s){return this.handlers.push({fulfilled:t,rejected:n,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){C.forEach(this.handlers,function(s){s!==null&&t(s)})}}const em={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hg=typeof URLSearchParams<"u"?URLSearchParams:Ni,xg=typeof FormData<"u"?FormData:null,gg=typeof Blob<"u"?Blob:null,yg={isBrowser:!0,classes:{URLSearchParams:hg,FormData:xg,Blob:gg},protocols:["http","https","file","blob","url","data"]},wi=typeof window<"u"&&typeof document<"u",yo=typeof navigator=="object"&&navigator||void 0,vg=wi&&(!yo||["ReactNative","NativeScript","NS"].indexOf(yo.product)<0),jg=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",bg=wi&&window.location.href||"http://localhost",Ng=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:wi,hasStandardBrowserEnv:vg,hasStandardBrowserWebWorkerEnv:jg,navigator:yo,origin:bg},Symbol.toStringTag,{value:"Module"})),be={...Ng,...yg};function wg(e,t){return Dl(e,new be.classes.URLSearchParams,{visitor:function(n,s,l,a){return be.isNode&&C.isBuffer(n)?(this.append(s,n.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function Sg(e){return C.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Cg(e){const t={},n=Object.keys(e);let s;const l=n.length;let a;for(s=0;s<l;s++)a=n[s],t[a]=e[a];return t}function tm(e){function t(n,s,l,a){let o=n[a++];if(o==="__proto__")return!0;const i=Number.isFinite(+o),c=a>=n.length;return o=!o&&C.isArray(l)?l.length:o,c?(C.hasOwnProp(l,o)?l[o]=[l[o],s]:l[o]=s,!i):((!l[o]||!C.isObject(l[o]))&&(l[o]=[]),t(n,s,l[o],a)&&C.isArray(l[o])&&(l[o]=Cg(l[o])),!i)}if(C.isFormData(e)&&C.isFunction(e.entries)){const n={};return C.forEachEntry(e,(s,l)=>{t(Sg(s),l,n,0)}),n}return null}function kg(e,t,n){if(C.isString(e))try{return(t||JSON.parse)(e),C.trim(e)}catch(s){if(s.name!=="SyntaxError")throw s}return(n||JSON.stringify)(e)}const Xr={transitional:em,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const s=n.getContentType()||"",l=s.indexOf("application/json")>-1,a=C.isObject(t);if(a&&C.isHTMLForm(t)&&(t=new FormData(t)),C.isFormData(t))return l?JSON.stringify(tm(t)):t;if(C.isArrayBuffer(t)||C.isBuffer(t)||C.isStream(t)||C.isFile(t)||C.isBlob(t)||C.isReadableStream(t))return t;if(C.isArrayBufferView(t))return t.buffer;if(C.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let i;if(a){if(s.indexOf("application/x-www-form-urlencoded")>-1)return wg(t,this.formSerializer).toString();if((i=C.isFileList(t))||s.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Dl(i?{"files[]":t}:t,c&&new c,this.formSerializer)}}return a||l?(n.setContentType("application/json",!1),kg(t)):t}],transformResponse:[function(t){const n=this.transitional||Xr.transitional,s=n&&n.forcedJSONParsing,l=this.responseType==="json";if(C.isResponse(t)||C.isReadableStream(t))return t;if(t&&C.isString(t)&&(s&&!this.responseType||l)){const o=!(n&&n.silentJSONParsing)&&l;try{return JSON.parse(t,this.parseReviver)}catch(i){if(o)throw i.name==="SyntaxError"?$.from(i,$.ERR_BAD_RESPONSE,this,null,this.response):i}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:be.classes.FormData,Blob:be.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};C.forEach(["delete","get","head","post","put","patch"],e=>{Xr.headers[e]={}});const Eg=C.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Tg=e=>{const t={};let n,s,l;return e&&e.split(`
`).forEach(function(o){l=o.indexOf(":"),n=o.substring(0,l).trim().toLowerCase(),s=o.substring(l+1).trim(),!(!n||t[n]&&Eg[n])&&(n==="set-cookie"?t[n]?t[n].push(s):t[n]=[s]:t[n]=t[n]?t[n]+", "+s:s)}),t},Yc=Symbol("internals");function or(e){return e&&String(e).trim().toLowerCase()}function As(e){return e===!1||e==null?e:C.isArray(e)?e.map(As):String(e)}function Rg(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let s;for(;s=n.exec(e);)t[s[1]]=s[2];return t}const Pg=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ma(e,t,n,s,l){if(C.isFunction(s))return s.call(this,t,n);if(l&&(t=n),!!C.isString(t)){if(C.isString(s))return t.indexOf(s)!==-1;if(C.isRegExp(s))return s.test(t)}}function Dg(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,s)=>n.toUpperCase()+s)}function Lg(e,t){const n=C.toCamelCase(" "+t);["get","set","has"].forEach(s=>{Object.defineProperty(e,s+n,{value:function(l,a,o){return this[s].call(this,t,l,a,o)},configurable:!0})})}let Ie=class{constructor(t){t&&this.set(t)}set(t,n,s){const l=this;function a(i,c,u){const h=or(c);if(!h)throw new Error("header name must be a non-empty string");const m=C.findKey(l,h);(!m||l[m]===void 0||u===!0||u===void 0&&l[m]!==!1)&&(l[m||c]=As(i))}const o=(i,c)=>C.forEach(i,(u,h)=>a(u,h,c));if(C.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(C.isString(t)&&(t=t.trim())&&!Pg(t))o(Tg(t),n);else if(C.isObject(t)&&C.isIterable(t)){let i={},c,u;for(const h of t){if(!C.isArray(h))throw TypeError("Object iterator must return a key-value pair");i[u=h[0]]=(c=i[u])?C.isArray(c)?[...c,h[1]]:[c,h[1]]:h[1]}o(i,n)}else t!=null&&a(n,t,s);return this}get(t,n){if(t=or(t),t){const s=C.findKey(this,t);if(s){const l=this[s];if(!n)return l;if(n===!0)return Rg(l);if(C.isFunction(n))return n.call(this,l,s);if(C.isRegExp(n))return n.exec(l);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=or(t),t){const s=C.findKey(this,t);return!!(s&&this[s]!==void 0&&(!n||ma(this,this[s],s,n)))}return!1}delete(t,n){const s=this;let l=!1;function a(o){if(o=or(o),o){const i=C.findKey(s,o);i&&(!n||ma(s,s[i],i,n))&&(delete s[i],l=!0)}}return C.isArray(t)?t.forEach(a):a(t),l}clear(t){const n=Object.keys(this);let s=n.length,l=!1;for(;s--;){const a=n[s];(!t||ma(this,this[a],a,t,!0))&&(delete this[a],l=!0)}return l}normalize(t){const n=this,s={};return C.forEach(this,(l,a)=>{const o=C.findKey(s,a);if(o){n[o]=As(l),delete n[a];return}const i=t?Dg(a):String(a).trim();i!==a&&delete n[a],n[i]=As(l),s[i]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return C.forEach(this,(s,l)=>{s!=null&&s!==!1&&(n[l]=t&&C.isArray(s)?s.join(", "):s)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const s=new this(t);return n.forEach(l=>s.set(l)),s}static accessor(t){const s=(this[Yc]=this[Yc]={accessors:{}}).accessors,l=this.prototype;function a(o){const i=or(o);s[i]||(Lg(l,o),s[i]=!0)}return C.isArray(t)?t.forEach(a):a(t),this}};Ie.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);C.reduceDescriptors(Ie.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(s){this[n]=s}}});C.freezeMethods(Ie);function pa(e,t){const n=this||Xr,s=t||n,l=Ie.from(s.headers);let a=s.data;return C.forEach(e,function(i){a=i.call(n,a,l.normalize(),t?t.status:void 0)}),l.normalize(),a}function nm(e){return!!(e&&e.__CANCEL__)}function Yn(e,t,n){$.call(this,e??"canceled",$.ERR_CANCELED,t,n),this.name="CanceledError"}C.inherits(Yn,$,{__CANCEL__:!0});function rm(e,t,n){const s=n.config.validateStatus;!n.status||!s||s(n.status)?e(n):t(new $("Request failed with status code "+n.status,[$.ERR_BAD_REQUEST,$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ag(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function Ig(e,t){e=e||10;const n=new Array(e),s=new Array(e);let l=0,a=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),h=s[a];o||(o=u),n[l]=c,s[l]=u;let m=a,y=0;for(;m!==l;)y+=n[m++],m=m%e;if(l=(l+1)%e,l===a&&(a=(a+1)%e),u-o<t)return;const b=h&&u-h;return b?Math.round(y*1e3/b):void 0}}function _g(e,t){let n=0,s=1e3/t,l,a;const o=(u,h=Date.now())=>{n=h,l=null,a&&(clearTimeout(a),a=null),e(...u)};return[(...u)=>{const h=Date.now(),m=h-n;m>=s?o(u,h):(l=u,a||(a=setTimeout(()=>{a=null,o(l)},s-m)))},()=>l&&o(l)]}const al=(e,t,n=3)=>{let s=0;const l=Ig(50,250);return _g(a=>{const o=a.loaded,i=a.lengthComputable?a.total:void 0,c=o-s,u=l(c),h=o<=i;s=o;const m={loaded:o,total:i,progress:i?o/i:void 0,bytes:c,rate:u||void 0,estimated:u&&i&&h?(i-o)/u:void 0,event:a,lengthComputable:i!=null,[t?"download":"upload"]:!0};e(m)},n)},Xc=(e,t)=>{const n=e!=null;return[s=>t[0]({lengthComputable:n,total:e,loaded:s}),t[1]]},Zc=e=>(...t)=>C.asap(()=>e(...t)),Og=be.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,be.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(be.origin),be.navigator&&/(msie|trident)/i.test(be.navigator.userAgent)):()=>!0,Fg=be.hasStandardBrowserEnv?{write(e,t,n,s,l,a,o){if(typeof document>"u")return;const i=[`${e}=${encodeURIComponent(t)}`];C.isNumber(n)&&i.push(`expires=${new Date(n).toUTCString()}`),C.isString(s)&&i.push(`path=${s}`),C.isString(l)&&i.push(`domain=${l}`),a===!0&&i.push("secure"),C.isString(o)&&i.push(`SameSite=${o}`),document.cookie=i.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Mg(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Ug(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function sm(e,t,n){let s=!Mg(t);return e&&(s||n==!1)?Ug(e,t):t}const eu=e=>e instanceof Ie?{...e}:e;function on(e,t){t=t||{};const n={};function s(u,h,m,y){return C.isPlainObject(u)&&C.isPlainObject(h)?C.merge.call({caseless:y},u,h):C.isPlainObject(h)?C.merge({},h):C.isArray(h)?h.slice():h}function l(u,h,m,y){if(C.isUndefined(h)){if(!C.isUndefined(u))return s(void 0,u,m,y)}else return s(u,h,m,y)}function a(u,h){if(!C.isUndefined(h))return s(void 0,h)}function o(u,h){if(C.isUndefined(h)){if(!C.isUndefined(u))return s(void 0,u)}else return s(void 0,h)}function i(u,h,m){if(m in t)return s(u,h);if(m in e)return s(void 0,u)}const c={url:a,method:a,data:a,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(u,h,m)=>l(eu(u),eu(h),m,!0)};return C.forEach(Object.keys({...e,...t}),function(h){const m=c[h]||l,y=m(e[h],t[h],h);C.isUndefined(y)&&m!==i||(n[h]=y)}),n}const lm=e=>{const t=on({},e);let{data:n,withXSRFToken:s,xsrfHeaderName:l,xsrfCookieName:a,headers:o,auth:i}=t;if(t.headers=o=Ie.from(o),t.url=Zf(sm(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),i&&o.set("Authorization","Basic "+btoa((i.username||"")+":"+(i.password?unescape(encodeURIComponent(i.password)):""))),C.isFormData(n)){if(be.hasStandardBrowserEnv||be.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(C.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([h,m])=>{u.includes(h.toLowerCase())&&o.set(h,m)})}}if(be.hasStandardBrowserEnv&&(s&&C.isFunction(s)&&(s=s(t)),s||s!==!1&&Og(t.url))){const c=l&&a&&Fg.read(a);c&&o.set(l,c)}return t},zg=typeof XMLHttpRequest<"u",Bg=zg&&function(e){return new Promise(function(n,s){const l=lm(e);let a=l.data;const o=Ie.from(l.headers).normalize();let{responseType:i,onUploadProgress:c,onDownloadProgress:u}=l,h,m,y,b,g;function v(){b&&b(),g&&g(),l.cancelToken&&l.cancelToken.unsubscribe(h),l.signal&&l.signal.removeEventListener("abort",h)}let x=new XMLHttpRequest;x.open(l.method.toUpperCase(),l.url,!0),x.timeout=l.timeout;function p(){if(!x)return;const d=Ie.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),N={data:!i||i==="text"||i==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:d,config:e,request:x};rm(function(E){n(E),v()},function(E){s(E),v()},N),x=null}"onloadend"in x?x.onloadend=p:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(p)},x.onabort=function(){x&&(s(new $("Request aborted",$.ECONNABORTED,e,x)),x=null)},x.onerror=function(j){const N=j&&j.message?j.message:"Network Error",k=new $(N,$.ERR_NETWORK,e,x);k.event=j||null,s(k),x=null},x.ontimeout=function(){let j=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded";const N=l.transitional||em;l.timeoutErrorMessage&&(j=l.timeoutErrorMessage),s(new $(j,N.clarifyTimeoutError?$.ETIMEDOUT:$.ECONNABORTED,e,x)),x=null},a===void 0&&o.setContentType(null),"setRequestHeader"in x&&C.forEach(o.toJSON(),function(j,N){x.setRequestHeader(N,j)}),C.isUndefined(l.withCredentials)||(x.withCredentials=!!l.withCredentials),i&&i!=="json"&&(x.responseType=l.responseType),u&&([y,g]=al(u,!0),x.addEventListener("progress",y)),c&&x.upload&&([m,b]=al(c),x.upload.addEventListener("progress",m),x.upload.addEventListener("loadend",b)),(l.cancelToken||l.signal)&&(h=d=>{x&&(s(!d||d.type?new Yn(null,e,x):d),x.abort(),x=null)},l.cancelToken&&l.cancelToken.subscribe(h),l.signal&&(l.signal.aborted?h():l.signal.addEventListener("abort",h)));const f=Ag(l.url);if(f&&be.protocols.indexOf(f)===-1){s(new $("Unsupported protocol "+f+":",$.ERR_BAD_REQUEST,e));return}x.send(a||null)})},$g=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let s=new AbortController,l;const a=function(u){if(!l){l=!0,i();const h=u instanceof Error?u:this.reason;s.abort(h instanceof $?h:new Yn(h instanceof Error?h.message:h))}};let o=t&&setTimeout(()=>{o=null,a(new $(`timeout ${t} of ms exceeded`,$.ETIMEDOUT))},t);const i=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(a):u.removeEventListener("abort",a)}),e=null)};e.forEach(u=>u.addEventListener("abort",a));const{signal:c}=s;return c.unsubscribe=()=>C.asap(i),c}},Vg=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let s=0,l;for(;s<n;)l=s+t,yield e.slice(s,l),s=l},Hg=async function*(e,t){for await(const n of Wg(e))yield*Vg(n,t)},Wg=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:s}=await t.read();if(n)break;yield s}}finally{await t.cancel()}},tu=(e,t,n,s)=>{const l=Hg(e,t);let a=0,o,i=c=>{o||(o=!0,s&&s(c))};return new ReadableStream({async pull(c){try{const{done:u,value:h}=await l.next();if(u){i(),c.close();return}let m=h.byteLength;if(n){let y=a+=m;n(y)}c.enqueue(new Uint8Array(h))}catch(u){throw i(u),u}},cancel(c){return i(c),l.return()}},{highWaterMark:2})},nu=64*1024,{isFunction:vs}=C,qg=(({Request:e,Response:t})=>({Request:e,Response:t}))(C.global),{ReadableStream:ru,TextEncoder:su}=C.global,lu=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Gg=e=>{e=C.merge.call({skipUndefined:!0},qg,e);const{fetch:t,Request:n,Response:s}=e,l=t?vs(t):typeof fetch=="function",a=vs(n),o=vs(s);if(!l)return!1;const i=l&&vs(ru),c=l&&(typeof su=="function"?(g=>v=>g.encode(v))(new su):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=a&&i&&lu(()=>{let g=!1;const v=new n(be.origin,{body:new ru,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!v}),h=o&&i&&lu(()=>C.isReadableStream(new s("").body)),m={stream:h&&(g=>g.body)};l&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!m[g]&&(m[g]=(v,x)=>{let p=v&&v[g];if(p)return p.call(v);throw new $(`Response type '${g}' is not supported`,$.ERR_NOT_SUPPORT,x)})});const y=async g=>{if(g==null)return 0;if(C.isBlob(g))return g.size;if(C.isSpecCompliantForm(g))return(await new n(be.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(C.isArrayBufferView(g)||C.isArrayBuffer(g))return g.byteLength;if(C.isURLSearchParams(g)&&(g=g+""),C.isString(g))return(await c(g)).byteLength},b=async(g,v)=>{const x=C.toFiniteNumber(g.getContentLength());return x??y(v)};return async g=>{let{url:v,method:x,data:p,signal:f,cancelToken:d,timeout:j,onDownloadProgress:N,onUploadProgress:k,responseType:E,headers:R,withCredentials:D="same-origin",fetchOptions:S}=lm(g),I=t||fetch;E=E?(E+"").toLowerCase():"text";let A=$g([f,d&&d.toAbortSignal()],j),z=null;const T=A&&A.unsubscribe&&(()=>{A.unsubscribe()});let O;try{if(k&&u&&x!=="get"&&x!=="head"&&(O=await b(R,p))!==0){let W=new n(v,{method:"POST",body:p,duplex:"half"}),K;if(C.isFormData(p)&&(K=W.headers.get("content-type"))&&R.setContentType(K),W.body){const[bt,Be]=Xc(O,al(Zc(k)));p=tu(W.body,nu,bt,Be)}}C.isString(D)||(D=D?"include":"omit");const q=a&&"credentials"in n.prototype,X={...S,signal:A,method:x.toUpperCase(),headers:R.normalize().toJSON(),body:p,duplex:"half",credentials:q?D:void 0};z=a&&new n(v,X);let L=await(a?I(z,S):I(v,X));const F=h&&(E==="stream"||E==="response");if(h&&(N||F&&T)){const W={};["status","statusText","headers"].forEach(fn=>{W[fn]=L[fn]});const K=C.toFiniteNumber(L.headers.get("content-length")),[bt,Be]=N&&Xc(K,al(Zc(N),!0))||[];L=new s(tu(L.body,nu,bt,()=>{Be&&Be(),T&&T()}),W)}E=E||"text";let U=await m[C.findKey(m,E)||"text"](L,g);return!F&&T&&T(),await new Promise((W,K)=>{rm(W,K,{data:U,headers:Ie.from(L.headers),status:L.status,statusText:L.statusText,config:g,request:z})})}catch(q){throw T&&T(),q&&q.name==="TypeError"&&/Load failed|fetch/i.test(q.message)?Object.assign(new $("Network Error",$.ERR_NETWORK,g,z),{cause:q.cause||q}):$.from(q,q&&q.code,g,z)}}},Qg=new Map,am=e=>{let t=e&&e.env||{};const{fetch:n,Request:s,Response:l}=t,a=[s,l,n];let o=a.length,i=o,c,u,h=Qg;for(;i--;)c=a[i],u=h.get(c),u===void 0&&h.set(c,u=i?new Map:Gg(t)),h=u;return u};am();const Si={http:dg,xhr:Bg,fetch:{get:am}};C.forEach(Si,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const au=e=>`- ${e}`,Kg=e=>C.isFunction(e)||e===null||e===!1;function Jg(e,t){e=C.isArray(e)?e:[e];const{length:n}=e;let s,l;const a={};for(let o=0;o<n;o++){s=e[o];let i;if(l=s,!Kg(s)&&(l=Si[(i=String(s)).toLowerCase()],l===void 0))throw new $(`Unknown adapter '${i}'`);if(l&&(C.isFunction(l)||(l=l.get(t))))break;a[i||"#"+o]=l}if(!l){const o=Object.entries(a).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let i=n?o.length>1?`since :
`+o.map(au).join(`
`):" "+au(o[0]):"as no adapter specified";throw new $("There is no suitable adapter to dispatch the request "+i,"ERR_NOT_SUPPORT")}return l}const om={getAdapter:Jg,adapters:Si};function ha(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yn(null,e)}function ou(e){return ha(e),e.headers=Ie.from(e.headers),e.data=pa.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),om.getAdapter(e.adapter||Xr.adapter,e)(e).then(function(s){return ha(e),s.data=pa.call(e,e.transformResponse,s),s.headers=Ie.from(s.headers),s},function(s){return nm(s)||(ha(e),s&&s.response&&(s.response.data=pa.call(e,e.transformResponse,s.response),s.response.headers=Ie.from(s.response.headers))),Promise.reject(s)})}const im="1.13.2",Ll={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ll[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const iu={};Ll.transitional=function(t,n,s){function l(a,o){return"[Axios v"+im+"] Transitional option '"+a+"'"+o+(s?". "+s:"")}return(a,o,i)=>{if(t===!1)throw new $(l(o," has been removed"+(n?" in "+n:"")),$.ERR_DEPRECATED);return n&&!iu[o]&&(iu[o]=!0,console.warn(l(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(a,o,i):!0}};Ll.spelling=function(t){return(n,s)=>(console.warn(`${s} is likely a misspelling of ${t}`),!0)};function Yg(e,t,n){if(typeof e!="object")throw new $("options must be an object",$.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let l=s.length;for(;l-- >0;){const a=s[l],o=t[a];if(o){const i=e[a],c=i===void 0||o(i,a,e);if(c!==!0)throw new $("option "+a+" must be "+c,$.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new $("Unknown option "+a,$.ERR_BAD_OPTION)}}const Is={assertOptions:Yg,validators:Ll},st=Is.validators;let tn=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Jc,response:new Jc}}async request(t,n){try{return await this._request(t,n)}catch(s){if(s instanceof Error){let l={};Error.captureStackTrace?Error.captureStackTrace(l):l=new Error;const a=l.stack?l.stack.replace(/^.+\n/,""):"";try{s.stack?a&&!String(s.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(s.stack+=`
`+a):s.stack=a}catch{}}throw s}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=on(this.defaults,n);const{transitional:s,paramsSerializer:l,headers:a}=n;s!==void 0&&Is.assertOptions(s,{silentJSONParsing:st.transitional(st.boolean),forcedJSONParsing:st.transitional(st.boolean),clarifyTimeoutError:st.transitional(st.boolean)},!1),l!=null&&(C.isFunction(l)?n.paramsSerializer={serialize:l}:Is.assertOptions(l,{encode:st.function,serialize:st.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Is.assertOptions(n,{baseUrl:st.spelling("baseURL"),withXsrfToken:st.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=a&&C.merge(a.common,a[n.method]);a&&C.forEach(["delete","get","head","post","put","patch","common"],g=>{delete a[g]}),n.headers=Ie.concat(o,a);const i=[];let c=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(n)===!1||(c=c&&v.synchronous,i.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let h,m=0,y;if(!c){const g=[ou.bind(this),void 0];for(g.unshift(...i),g.push(...u),y=g.length,h=Promise.resolve(n);m<y;)h=h.then(g[m++],g[m++]);return h}y=i.length;let b=n;for(;m<y;){const g=i[m++],v=i[m++];try{b=g(b)}catch(x){v.call(this,x);break}}try{h=ou.call(this,b)}catch(g){return Promise.reject(g)}for(m=0,y=u.length;m<y;)h=h.then(u[m++],u[m++]);return h}getUri(t){t=on(this.defaults,t);const n=sm(t.baseURL,t.url,t.allowAbsoluteUrls);return Zf(n,t.params,t.paramsSerializer)}};C.forEach(["delete","get","head","options"],function(t){tn.prototype[t]=function(n,s){return this.request(on(s||{},{method:t,url:n,data:(s||{}).data}))}});C.forEach(["post","put","patch"],function(t){function n(s){return function(a,o,i){return this.request(on(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:a,data:o}))}}tn.prototype[t]=n(),tn.prototype[t+"Form"]=n(!0)});let Xg=class cm{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(a){n=a});const s=this;this.promise.then(l=>{if(!s._listeners)return;let a=s._listeners.length;for(;a-- >0;)s._listeners[a](l);s._listeners=null}),this.promise.then=l=>{let a;const o=new Promise(i=>{s.subscribe(i),a=i}).then(l);return o.cancel=function(){s.unsubscribe(a)},o},t(function(a,o,i){s.reason||(s.reason=new Yn(a,o,i),n(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=s=>{t.abort(s)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new cm(function(l){t=l}),cancel:t}}};function Zg(e){return function(n){return e.apply(null,n)}}function ey(e){return C.isObject(e)&&e.isAxiosError===!0}const vo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(vo).forEach(([e,t])=>{vo[t]=e});function um(e){const t=new tn(e),n=Bf(tn.prototype.request,t);return C.extend(n,tn.prototype,t,{allOwnKeys:!0}),C.extend(n,t,null,{allOwnKeys:!0}),n.create=function(l){return um(on(e,l))},n}const ae=um(Xr);ae.Axios=tn;ae.CanceledError=Yn;ae.CancelToken=Xg;ae.isCancel=nm;ae.VERSION=im;ae.toFormData=Dl;ae.AxiosError=$;ae.Cancel=ae.CanceledError;ae.all=function(t){return Promise.all(t)};ae.spread=Zg;ae.isAxiosError=ey;ae.mergeConfig=on;ae.AxiosHeaders=Ie;ae.formToJSON=e=>tm(C.isHTMLForm(e)?new FormData(e):e);ae.getAdapter=om.getAdapter;ae.HttpStatusCode=vo;ae.default=ae;const{Axios:My,AxiosError:Uy,CanceledError:zy,isCancel:By,CancelToken:$y,VERSION:Vy,all:Hy,Cancel:Wy,isAxiosError:qy,spread:Gy,toFormData:Qy,AxiosHeaders:Ky,HttpStatusCode:Jy,formToJSON:Yy,getAdapter:Xy,mergeConfig:Zy}=ae,dm="http://localhost:5000",M=ae.create({baseURL:dm,headers:{"Content-Type":"application/json"}});M.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization=`Bearer ${t}`),e});M.interceptors.response.use(e=>e,async e=>{var n;const t=e.config;if(((n=e.response)==null?void 0:n.status)===401&&!t._retry){t._retry=!0;try{const s=localStorage.getItem("refreshToken"),l=await ae.post(`${dm}/api/auth/refresh`,{refreshToken:s}),{accessToken:a}=l.data;return localStorage.setItem("accessToken",a),t.headers.Authorization=`Bearer ${a}`,M(t)}catch(s){return localStorage.clear(),window.location.href="/login",Promise.reject(s)}}return Promise.reject(e)});function ty(){const[e,t]=w.useState(!0),[n,s]=w.useState(!1),[l,a]=w.useState(""),o=we(),i=Br(m=>m.setAuth),[c,u]=w.useState({email:"",password:"",name:"",organizationName:""}),h=async m=>{var y,b;m.preventDefault(),a(""),s(!0);try{const g=e?"/api/auth/login":"/api/auth/register",v=await M.post(g,c);i(v.data),o("/dashboard")}catch(g){a(((b=(y=g.response)==null?void 0:y.data)==null?void 0:b.error)||"Something went wrong")}finally{s(!1)}};return r.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100",children:r.jsx("div",{className:"max-w-md w-full mx-4",children:r.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"EasyTaxERP"}),r.jsx("p",{className:"mt-2 text-gray-600",children:e?"Sign in to your account":"Create your account"})]}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[l&&r.jsx("div",{className:"bg-red-50 border border-red-200 text-red-600 px-4 py-3 rounded-lg text-sm",children:l}),!e&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Your Name"}),r.jsx("input",{type:"text",required:!0,placeholder:"John Doe",value:c.name,onChange:m=>u({...c,name:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),r.jsx("input",{type:"text",required:!0,placeholder:"Acme Inc.",value:c.organizationName,onChange:m=>u({...c,organizationName:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),r.jsx("input",{type:"email",required:!0,placeholder:"you@example.com",value:c.email,onChange:m=>u({...c,email:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),r.jsx("input",{type:"password",required:!0,placeholder:"",value:c.password,onChange:m=>u({...c,password:m.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("button",{type:"submit",disabled:n,className:"w-full bg-blue-600 text-white py-2.5 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 font-medium transition-colors",children:n?"Please wait...":e?"Sign In":"Sign Up"}),r.jsx("div",{className:"text-center pt-4",children:r.jsx("button",{type:"button",onClick:()=>t(!e),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:e?"Don't have an account? Sign up":"Already have an account? Sign in"})})]})]})})})}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ny={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),B=(e,t)=>{const n=w.forwardRef(({color:s="currentColor",size:l=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:i="",children:c,...u},h)=>w.createElement("svg",{ref:h,...ny,width:l,height:l,stroke:s,strokeWidth:o?Number(a)*24/Number(l):a,className:["lucide",`lucide-${ry(e)}`,i].join(" "),...u},[...t.map(([m,y])=>w.createElement(m,y)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=B("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=B("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=B("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=B("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=B("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Il=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ci=B("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=B("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=B("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=B("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cy=B("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=B("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=B("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=B("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=B("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vr=B("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=B("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=B("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=B("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=B("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=B("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xy=B("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gy=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=B("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yy=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const il=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vy=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=B("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function ee({children:e}){var p,f;const t=Kn(),n=we(),s=Br(d=>d.user),l=Br(d=>d.logout),[a,o]=w.useState(!1),[i,c]=w.useState(!1),[u,h]=w.useState(!1),m=()=>{l(),n("/login")},y=[{name:"Dashboard",href:"/dashboard",icon:oy},{name:"Clients",href:"/clients",icon:Vn},{name:"Products",href:"/products",icon:Qt},{name:"Invoices",href:"/invoices",icon:$r},{name:"Recurring Invoices",href:"/recurring-invoices",icon:kn},{name:"Analytics",href:"/analytics",icon:xm}],b=[{name:"Outstanding Reports",href:"/reports/outstanding",icon:yy},{name:"Ageing Report",href:"/reports/ageing",icon:Il}],g=[{name:"TDS Settings",href:"/settings/tds",icon:Vr},{name:"WhatsApp Settings",href:"/settings/whatsapp",icon:hm}],v=d=>d==="/reports"?t.pathname.startsWith("/reports"):t.pathname===d,x=({item:d,mobile:j=!1})=>r.jsxs(da,{to:d.href,onClick:()=>j&&o(!1),className:`flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ${v(d.href)?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsx(d.icon,{className:"w-5 h-5"}),r.jsx("span",{children:d.name})]});return r.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:()=>o(!1)}),r.jsx("aside",{className:`fixed top-0 left-0 z-50 h-full w-64 bg-white border-r border-gray-200 transform transition-transform duration-300 ease-in-out lg:translate-x-0 ${a?"translate-x-0":"-translate-x-full"}`,children:r.jsxs("div",{className:"flex flex-col h-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:r.jsx($r,{className:"w-5 h-5 text-white"})}),r.jsx("span",{className:"text-xl font-bold text-gray-900",children:"EasyTax ERP"})]}),r.jsx("button",{onClick:()=>o(!1),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(Fl,{className:"w-6 h-6"})})]}),r.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto",children:[y.map(d=>r.jsx(x,{item:d,mobile:!0},d.name)),r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>c(!i),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-colors ${t.pathname.startsWith("/reports")?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(jo,{className:"w-5 h-5"}),r.jsx("span",{children:"Reports"})]}),r.jsx(cn,{className:`w-4 h-4 transition-transform ${i?"rotate-180":""}`})]}),i&&r.jsx("div",{className:"mt-2 ml-4 space-y-1",children:b.map(d=>r.jsxs(da,{to:d.href,onClick:()=>o(!1),className:`flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-colors ${v(d.href)?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(d.icon,{className:"w-4 h-4"}),r.jsx("span",{children:d.name})]},d.name))})]}),r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>h(!u),className:`w-full flex items-center justify-between gap-3 px-4 py-3 rounded-lg transition-colors ${t.pathname.startsWith("/settings")?"bg-blue-50 text-blue-600 font-medium":"text-gray-700 hover:bg-gray-100"}`,children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(gy,{className:"w-5 h-5"}),r.jsx("span",{children:"Settings"})]}),r.jsx(cn,{className:`w-4 h-4 transition-transform ${u?"rotate-180":""}`})]}),u&&r.jsx("div",{className:"mt-2 ml-4 space-y-1",children:g.map(d=>r.jsxs(da,{to:d.href,onClick:()=>o(!1),className:`flex items-center gap-3 px-4 py-2 rounded-lg text-sm transition-colors ${v(d.href)?"bg-blue-50 text-blue-600 font-medium":"text-gray-600 hover:bg-gray-100"}`,children:[r.jsx(d.icon,{className:"w-4 h-4"}),r.jsx("span",{children:d.name})]},d.name))})]})]}),r.jsxs("div",{className:"p-4 border-t border-gray-200",children:[r.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 rounded-lg bg-gray-50",children:[r.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-sm",children:(p=s==null?void 0:s.name)==null?void 0:p.charAt(0).toUpperCase()})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:s==null?void 0:s.name}),r.jsx("p",{className:"text-xs text-gray-500 truncate",children:s==null?void 0:s.email})]})]}),r.jsxs("button",{onClick:m,className:"w-full flex items-center gap-3 px-4 py-3 mt-2 rounded-lg text-red-600 hover:bg-red-50 transition-colors",children:[r.jsx(iy,{className:"w-5 h-5"}),r.jsx("span",{children:"Logout"})]})]})]})}),r.jsxs("div",{className:"lg:ml-64",children:[r.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-30",children:r.jsxs("div",{className:"flex items-center justify-between px-4 py-4",children:[r.jsx("button",{onClick:()=>o(!0),className:"lg:hidden text-gray-500 hover:text-gray-700",children:r.jsx(uy,{className:"w-6 h-6"})}),r.jsx("div",{className:"flex-1 lg:hidden"}),r.jsx("div",{className:"hidden lg:flex items-center gap-4",children:r.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-lg",children:[r.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:r.jsx("span",{className:"text-white font-semibold text-sm",children:(f=s==null?void 0:s.name)==null?void 0:f.charAt(0).toUpperCase()})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-900",children:s==null?void 0:s.name}),r.jsx("p",{className:"text-xs text-gray-500",children:(s==null?void 0:s.organizationName)||"Admin"})]})]})})]})}),r.jsx("main",{className:"p-6",children:e})]})]})}function jy(){var o;const[e,t]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{l()},[]);const l=async()=>{try{const i=await M.get("/api/dashboard/stats");t(i.data)}catch(i){console.error("Error fetching stats:",i)}finally{s(!1)}},a=[{title:"Total Invoices",value:(e==null?void 0:e.totalInvoices)||0,icon:$r,color:"bg-blue-500"},{title:"Total Clients",value:(e==null?void 0:e.totalClients)||0,icon:Vn,color:"bg-green-500"},{title:"Outstanding",value:`${((o=e==null?void 0:e.outstandingAmount)==null?void 0:o.toLocaleString("en-IN"))||0}`,icon:ol,color:"bg-yellow-500"},{title:"Overdue",value:(e==null?void 0:e.overdueInvoices)||0,icon:Il,color:"bg-red-500"}];return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),n?r.jsx("div",{className:"text-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"})}):r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map(i=>r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200 hover:shadow-md transition-shadow",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600 font-medium",children:i.title}),r.jsx("p",{className:"text-2xl font-bold mt-2 text-gray-900",children:i.value})]}),r.jsx("div",{className:`p-3 rounded-lg ${i.color}`,children:r.jsx(i.icon,{className:"w-6 h-6 text-white"})})]})},i.title))}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-6 border border-gray-200",children:[r.jsx("h2",{className:"text-lg font-semibold mb-4 text-gray-900",children:"Recent Activity"}),r.jsx("div",{className:"text-center text-gray-500 py-8",children:"No recent invoices. Create your first invoice!"})]})]})]})})}function by(){const e=we(),[t,n]=w.useState([]),[s,l]=w.useState(!0),[a,o]=w.useState("");w.useEffect(()=>{i()},[]);const i=async()=>{try{const y=await M.get("/api/clients");n(y.data)}catch(y){console.error("Error fetching clients:",y),alert("Failed to fetch clients")}finally{l(!1)}},c=()=>{e("/clients/add")},u=y=>{e(`/clients/edit/${y._id}`)},h=async y=>{if(confirm("Are you sure you want to delete this client?"))try{await M.delete(`/api/clients/${y}`),n(t.filter(b=>b._id!==y)),alert("Client deleted successfully")}catch(b){console.error("Error deleting client:",b),alert("Failed to delete client")}},m=t.filter(y=>{var b,g,v,x;return((b=y.companyName)==null?void 0:b.toLowerCase().includes(a.toLowerCase()))||((g=y.contactPerson)==null?void 0:g.toLowerCase().includes(a.toLowerCase()))||((v=y.email)==null?void 0:v.toLowerCase().includes(a.toLowerCase()))||((x=y.gstin)==null?void 0:x.toLowerCase().includes(a.toLowerCase()))});return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Clients"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage your client database"})]}),r.jsxs("button",{onClick:c,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Add Client"]})]}),r.jsxs("div",{className:"relative",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search clients by name, email, or GSTIN...",value:a,onChange:y=>o(y.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Clients"}),r.jsx(Vn,{className:"w-5 h-5 text-blue-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active"}),r.jsx(cu,{className:"w-5 h-5 text-green-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(y=>y.isActive).length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"With Logos"}),r.jsx(cu,{className:"w-5 h-5 text-purple-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.filter(y=>y.logo).length})]})]}),s?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):m.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Vn,{className:"w-8 h-8 text-gray-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a?"No clients found":"No clients yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:a?"Try adjusting your search terms":"Get started by adding your first client"}),!a&&r.jsxs("button",{onClick:c,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Add Your First Client"]})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(y=>r.jsx(Ny,{client:y,onEdit:u,onDelete:h},y._id))})]})})}function Ny({client:e,onEdit:t,onDelete:n}){var l,a,o;const s=e.logo?`http://localhost:5000/${e.logo}`:null;return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[s?r.jsx("img",{src:s,alt:e.companyName,className:"w-12 h-12 object-contain rounded border border-gray-200 bg-white p-1 flex-shrink-0",onError:i=>{i.target.style.display="none"}}):r.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-white font-bold text-lg",children:(a=(l=e.companyName)==null?void 0:l[0])==null?void 0:a.toUpperCase()})}),r.jsxs("div",{className:"min-w-0 flex-1",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900 truncate",children:e.companyName}),e.clientCode&&r.jsx("p",{className:"text-sm text-gray-500",children:e.clientCode})]})]}),r.jsxs("div",{className:"flex gap-2 flex-shrink-0",children:[r.jsx("button",{onClick:()=>t(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit client",children:r.jsx(Ol,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>n(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete client",children:r.jsx(es,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"space-y-2",children:[e.contactPerson&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center flex-shrink-0",children:r.jsx("span",{className:"text-gray-600 font-medium",children:(o=e.contactPerson[0])==null?void 0:o.toUpperCase()})}),r.jsx("span",{className:"truncate",children:e.contactPerson})]}),e.email&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(pm,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{className:"truncate",children:e.email})]}),e.phone&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(my,{className:"w-4 h-4 flex-shrink-0"}),r.jsx("span",{children:e.phone})]}),e.billingCity&&r.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[r.jsx(cy,{className:"w-4 h-4 flex-shrink-0"}),r.jsxs("span",{className:"truncate",children:[e.billingCity,e.billingState&&`, ${e.billingState}`]})]})]}),r.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between",children:[e.gstin?r.jsxs("div",{className:"text-xs",children:[r.jsx("span",{className:"text-gray-500",children:"GSTIN: "}),r.jsx("span",{className:"text-gray-700 font-mono",children:e.gstin})]}):r.jsx("div",{}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${e.isTaxable?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:e.isTaxable?"Taxable":"Non-Taxable"})]})]})}function uu(){const e=we(),{id:t}=kl(),n=!!t,[s,l]=w.useState(!1),[a,o]=w.useState(!1),[i,c]=w.useState(null),[u,h]=w.useState({companyName:"",contactPerson:"",email:"",phone:"",gstin:"",pan:"",isTaxable:!0,logo:"",billingAddress:"",billingCity:"",billingState:"",billingPincode:"",shippingAddress:"",shippingCity:"",shippingState:"",shippingPincode:"",sameAsBilling:!0,paymentTerms:30,defaultTaxRate:18});w.useEffect(()=>{n&&m()},[t]);const m=async()=>{try{const x=await M.get(`/api/clients/${t}`);h(x.data),x.data.logo&&c(`http://localhost:5000/${x.data.logo}`)}catch(x){console.error("Error fetching client:",x),alert("Failed to fetch client details"),e("/clients")}},y=async x=>{var p,f;x.preventDefault(),l(!0);try{n?(await M.put(`/api/clients/${t}`,u),alert("Client updated successfully")):(await M.post("/api/clients",u),alert("Client created successfully")),e("/clients")}catch(d){console.error("Error saving client:",d),alert(((f=(p=d.response)==null?void 0:p.data)==null?void 0:f.error)||"Failed to save client")}finally{l(!1)}},b=x=>{const{name:p,value:f,type:d,checked:j}=x.target;h(N=>({...N,[p]:d==="checkbox"?j:f}))},g=async x=>{const p=x.target.files[0];if(!p)return;if(p.size>5*1024*1024){alert("File size must be less than 5MB");return}if(!p.type.startsWith("image/")){alert("Please upload an image file");return}const f=new FileReader;if(f.onloadend=()=>{c(f.result)},f.readAsDataURL(p),n){o(!0);const d=new FormData;d.append("logo",p);try{const j=await M.post(`/api/clients/${t}/logo`,d,{headers:{"Content-Type":"multipart/form-data"}});h(N=>({...N,logo:j.data.logo})),alert("Logo uploaded successfully")}catch(j){console.error("Error uploading logo:",j),alert("Failed to upload logo"),c(null)}finally{o(!1)}}},v=async()=>{if(confirm("Remove client logo?"))if(n&&u.logo)try{await M.delete(`/api/clients/${t}/logo`),h(x=>({...x,logo:""})),c(null),alert("Logo removed successfully")}catch(x){console.error("Error removing logo:",x),alert("Failed to remove logo")}else c(null),h(x=>({...x,logo:""}))};return r.jsx(ee,{children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>e("/clients"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx($n,{className:"w-5 h-5"}),"Back to Clients"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Client":"Add New Client"}),r.jsx("p",{className:"text-gray-600 mt-1",children:n?"Update client information":"Add a new client to your system"})]}),r.jsxs("form",{onSubmit:y,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Information"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Company Logo"}),r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx("div",{className:"flex-shrink-0",children:i?r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:i,alt:"Logo preview",className:"w-32 h-32 object-contain border-2 border-gray-200 rounded-lg bg-white p-2"}),r.jsx("button",{type:"button",onClick:v,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:r.jsx(Fl,{className:"w-4 h-4"})})]}):r.jsx("div",{className:"w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center bg-gray-50",children:r.jsx(ay,{className:"w-8 h-8 text-gray-400"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("label",{className:"cursor-pointer",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:g,className:"hidden",disabled:a}),r.jsxs("div",{className:"flex items-center gap-2 bg-blue-50 text-blue-700 px-4 py-2 rounded-lg hover:bg-blue-100 transition-colors inline-flex",children:[r.jsx(vy,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:a?"Uploading...":"Upload Logo"})]})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"PNG, JPG, GIF up to 5MB. Recommended: 300x300px"}),!n&&i&&r.jsx("p",{className:"text-xs text-orange-600 mt-1",children:" Logo will be uploaded after saving the client"})]})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Company Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",name:"companyName",required:!0,value:u.companyName,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ABC Enterprises Pvt Ltd"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),r.jsx("input",{type:"text",name:"contactPerson",value:u.contactPerson,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"John Doe"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),r.jsx("input",{type:"email",name:"email",value:u.email,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"john@abc.com"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),r.jsx("input",{type:"tel",name:"phone",value:u.phone,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+91 98765 43210"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GSTIN"}),r.jsx("input",{type:"text",name:"gstin",value:u.gstin,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"27AABCU9603R1Z5",maxLength:15})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PAN"}),r.jsx("input",{type:"text",name:"pan",value:u.pan,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"AABCU9603R",maxLength:10})]}),r.jsx("div",{className:"md:col-span-2",children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"isTaxable",id:"isTaxable",checked:u.isTaxable,onChange:b,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"isTaxable",className:"text-sm font-medium text-gray-700",children:"Client is taxable"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Billing Address"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{name:"billingAddress",value:u.billingAddress,onChange:b,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Street address"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",name:"billingCity",value:u.billingCity,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Mumbai"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",name:"billingState",value:u.billingState,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Maharashtra"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),r.jsx("input",{type:"text",name:"billingPincode",value:u.billingPincode,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"400001",maxLength:6})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Shipping Address"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",name:"sameAsBilling",id:"sameAsBilling",checked:u.sameAsBilling,onChange:b,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),r.jsx("label",{htmlFor:"sameAsBilling",className:"text-sm font-medium text-gray-700",children:"Same as billing address"})]})]}),!u.sameAsBilling&&r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),r.jsx("textarea",{name:"shippingAddress",value:u.shippingAddress,onChange:b,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),r.jsx("input",{type:"text",name:"shippingCity",value:u.shippingCity,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),r.jsx("input",{type:"text",name:"shippingState",value:u.shippingState,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pincode"}),r.jsx("input",{type:"text",name:"shippingPincode",value:u.shippingPincode,onChange:b,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",maxLength:6})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Settings"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms (Days)"}),r.jsx("input",{type:"number",name:"paymentTerms",value:u.paymentTerms,onChange:b,min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Default Tax Rate (%)"}),r.jsx("input",{type:"number",name:"defaultTaxRate",value:u.defaultTaxRate,onChange:b,min:"0",max:"28",step:"0.01",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("button",{type:"button",onClick:()=>e("/clients"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:s,children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 font-medium transition-colors",children:[r.jsx(Zr,{className:"w-4 h-4"}),s?"Saving...":n?"Update Client":"Add Client"]})]})]})]})})}function wy(){const e=we(),[t,n]=w.useState([]),[s,l]=w.useState(!0),[a,o]=w.useState(""),[i,c]=w.useState("ALL"),[u,h]=w.useState(!1);w.useEffect(()=>{m()},[]);const m=async()=>{try{const f=await M.get("/api/products",{params:{isActive:u?void 0:"true"}});n(f.data||[])}catch(f){console.error("Error fetching products:",f)}finally{l(!1)}},y=()=>{e("/products/add")},b=f=>{e(`/products/edit/${f._id}`)},g=async(f,d)=>{if(confirm(`Are you sure you want to deactivate "${d}"?`))try{await M.delete(`/api/products/${f}`),n(t.map(j=>j._id===f?{...j,isActive:!1}:j)),alert("Product deactivated successfully")}catch(j){console.error("Error deleting product:",j),alert("Failed to deactivate product")}},v=async(f,d)=>{if(confirm(`Restore "${d}"?`))try{await M.patch(`/api/products/${f}/restore`),n(t.map(j=>j._id===f?{...j,isActive:!0}:j)),alert("Product restored successfully")}catch(j){console.error("Error restoring product:",j),alert("Failed to restore product")}},x=t.filter(f=>{var k,E,R;const d=((k=f.name)==null?void 0:k.toLowerCase().includes(a.toLowerCase()))||((E=f.hsnSacCode)==null?void 0:E.toLowerCase().includes(a.toLowerCase()))||((R=f.category)==null?void 0:R.toLowerCase().includes(a.toLowerCase())),j=i==="ALL"||f.type===i,N=u?!0:f.isActive;return d&&j&&N}),p={total:t.filter(f=>f.isActive).length,products:t.filter(f=>f.type==="PRODUCT"&&f.isActive).length,services:t.filter(f=>f.type==="SERVICE"&&f.isActive).length,inactive:t.filter(f=>!f.isActive).length};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Products & Services"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage your product and service catalog"})]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[r.jsx(tt,{className:"w-5 h-5"}),"Add Product/Service"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Active"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p.total})]}),r.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:r.jsx(Qt,{className:"w-6 h-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Products"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p.products})]}),r.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:r.jsx(Qt,{className:"w-6 h-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Services"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p.services})]}),r.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:r.jsx(Qt,{className:"w-6 h-6 text-purple-600"})})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Inactive"}),r.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:p.inactive})]}),r.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center",children:r.jsx(Qt,{className:"w-6 h-6 text-red-600"})})]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative md:col-span-2",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by name, HSN/SAC, or category...",value:a,onChange:f=>o(f.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative flex-1",children:[r.jsx(_l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:i,onChange:f=>c(f.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"ALL",children:"All Types"}),r.jsx("option",{value:"PRODUCT",children:"Products"}),r.jsx("option",{value:"SERVICE",children:"Services"})]}),r.jsx(cn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),r.jsxs("label",{className:"flex items-center gap-2 px-4 py-2.5 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50",children:[r.jsx("input",{type:"checkbox",checked:u,onChange:f=>h(f.target.checked),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Show Inactive"})]})]})]})}),s?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):x.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Qt,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a||i!=="ALL"?"No products found":"No products yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:a||i!=="ALL"?"Try adjusting your filters":"Create your first product or service to get started"}),!a&&i==="ALL"&&r.jsxs("button",{onClick:y,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Add Your First Product"]})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Name"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Type"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"HSN/SAC"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Unit"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Rate"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"GST%"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Category"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Status"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(f=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-medium text-gray-900",children:f.name}),f.description&&r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.description})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.type==="PRODUCT"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:f.type})}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.hsnSacCode||"-"}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.unit}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm font-medium text-gray-900",children:["",f.rate.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-center text-sm text-gray-600",children:[f.gstRate,"%"]}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:f.category||"-"}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${f.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:f.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("div",{className:"flex items-center justify-center gap-2",children:f.isActive?r.jsxs(r.Fragment,{children:[r.jsx("button",{onClick:()=>b(f),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(Ol,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>g(f._id,f.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Deactivate",children:r.jsx(es,{className:"w-4 h-4"})})]}):r.jsx("button",{onClick:()=>v(f._id,f.name),className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Restore",children:r.jsx(kn,{className:"w-4 h-4"})})})})]},f._id))})]})})})]})})}function du(){const e=we(),{id:t}=kl(),n=!!t,[s,l]=w.useState(!1),[a,o]=w.useState({name:"",type:"PRODUCT",hsnSacCode:"",description:"",unit:"PCS",rate:0,gstRate:18,category:"",isActive:!0});w.useEffect(()=>{n&&i()},[t]);const i=async()=>{try{const u=await M.get(`/api/products/${t}`);o(u.data)}catch(u){console.error("Error fetching product:",u),alert("Failed to fetch product details"),e("/products")}},c=async u=>{var h,m;u.preventDefault(),l(!0);try{n?(await M.put(`/api/products/${t}`,a),alert("Product updated successfully")):(await M.post("/api/products",a),alert("Product created successfully")),e("/products")}catch(y){console.error("Error saving product:",y),alert(((m=(h=y.response)==null?void 0:h.data)==null?void 0:m.error)||"Failed to save product")}finally{l(!1)}};return r.jsx(ee,{children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>e("/products"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx($n,{className:"w-5 h-5"}),"Back to Products"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Product/Service":"Add New Product/Service"}),r.jsx("p",{className:"text-gray-600 mt-1",children:n?"Update product/service details":"Add a new product or service to your catalog"})]}),r.jsxs("form",{onSubmit:c,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Name ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",required:!0,value:a.name,onChange:u=>o({...a,name:u.target.value}),placeholder:"e.g., Website Design Service",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Type ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{required:!0,value:a.type,onChange:u=>o({...a,type:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"PRODUCT",children:"Product"}),r.jsx("option",{value:"SERVICE",children:"Service"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Category"}),r.jsx("input",{type:"text",value:a.category,onChange:u=>o({...a,category:u.target.value}),placeholder:"e.g., IT Services, Hardware",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),r.jsx("textarea",{rows:3,value:a.description,onChange:u=>o({...a,description:u.target.value}),placeholder:"Detailed description of the product/service...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Pricing & Tax Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"HSN/SAC Code"}),r.jsx("input",{type:"text",value:a.hsnSacCode,onChange:u=>o({...a,hsnSacCode:u.target.value}),placeholder:"e.g., 998314",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"HSN for products, SAC for services"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit of Measurement ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{required:!0,value:a.unit,onChange:u=>o({...a,unit:u.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"PCS",children:"Pieces"}),r.jsx("option",{value:"KG",children:"Kilogram"}),r.jsx("option",{value:"LITER",children:"Liter"}),r.jsx("option",{value:"METER",children:"Meter"}),r.jsx("option",{value:"BOX",children:"Box"}),r.jsx("option",{value:"HOUR",children:"Hour"}),r.jsx("option",{value:"DAY",children:"Day"}),r.jsx("option",{value:"MONTH",children:"Month"}),r.jsx("option",{value:"SET",children:"Set"}),r.jsx("option",{value:"UNIT",children:"Unit"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Default Rate () ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:a.rate,onChange:u=>o({...a,rate:parseFloat(u.target.value)||0}),placeholder:"0.00",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Base price per unit (excluding GST)"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["GST Rate (%) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{required:!0,value:a.gstRate,onChange:u=>o({...a,gstRate:parseFloat(u.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"0",children:"0% - Nil Rated"}),r.jsx("option",{value:"5",children:"5%"}),r.jsx("option",{value:"12",children:"12%"}),r.jsx("option",{value:"18",children:"18%"}),r.jsx("option",{value:"28",children:"28%"})]})]})]}),r.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:r.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600",children:"Base Rate:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",a.rate.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsxs("span",{className:"text-gray-600",children:["GST (",a.gstRate,"%):"]}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",(a.rate*a.gstRate/100).toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between col-span-2 pt-2 border-t border-blue-200",children:[r.jsxs("span",{className:"font-semibold text-gray-900",children:["Total per ",a.unit,":"]}),r.jsxs("span",{className:"font-bold text-blue-600",children:["",(a.rate+a.rate*a.gstRate/100).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Status"}),r.jsxs("label",{className:"flex items-center gap-3 cursor-pointer",children:[r.jsx("input",{type:"checkbox",checked:a.isActive,onChange:u=>o({...a,isActive:u.target.checked}),className:"w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium text-gray-900",children:"Active"}),r.jsx("p",{className:"text-sm text-gray-600",children:a.isActive?"This product/service is available for use in invoices":"This product/service will not appear in invoice forms"})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("button",{type:"button",onClick:()=>e("/products"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:s,children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 font-medium transition-colors",children:[r.jsx(Zr,{className:"w-4 h-4"}),s?"Saving...":n?"Update Product":"Create Product"]})]})]})]})})}function Sy(){const e=we(),[t,n]=w.useState([]),[s,l]=w.useState(!0),[a,o]=w.useState(""),[i,c]=w.useState("ALL");w.useEffect(()=>{u()},[]);const u=async()=>{try{const v=await M.get("/api/invoices");n(v.data||[])}catch(v){console.error("Error fetching invoices:",v)}finally{l(!1)}},h=()=>{e("/invoices/add")},m=v=>{e(`/invoices/view/${v._id}`)},y=async v=>{if(confirm("Are you sure you want to delete this invoice?"))try{await M.delete(`/api/invoices/${v}`),n(t.filter(x=>x._id!==v)),alert("Invoice deleted successfully")}catch(x){console.error("Error deleting invoice:",x),alert("Failed to delete invoice")}},b=t.filter(v=>{var f,d,j;const x=((f=v.invoiceNumber)==null?void 0:f.toLowerCase().includes(a.toLowerCase()))||((j=(d=v.client)==null?void 0:d.companyName)==null?void 0:j.toLowerCase().includes(a.toLowerCase())),p=i==="ALL"||v.status===i;return x&&p}),g={DRAFT:"bg-gray-100 text-gray-700",PENDING:"bg-yellow-100 text-yellow-700",PARTIALLY_PAID:"bg-blue-100 text-blue-700",PAID:"bg-green-100 text-green-700",OVERDUE:"bg-red-100 text-red-700",CANCELLED:"bg-gray-100 text-gray-500"};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Manage and track all your invoices"})]}),r.jsxs("button",{onClick:h,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors shadow-sm",children:[r.jsx(tt,{className:"w-5 h-5"}),"Create Invoice"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative md:col-span-2",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search by invoice number or client name...",value:a,onChange:v=>o(v.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:i,onChange:v=>c(v.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"ALL",children:"All Status"}),r.jsx("option",{value:"DRAFT",children:"Draft"}),r.jsx("option",{value:"PENDING",children:"Pending"}),r.jsx("option",{value:"PARTIALLY_PAID",children:"Partially Paid"}),r.jsx("option",{value:"PAID",children:"Paid"}),r.jsx("option",{value:"OVERDUE",children:"Overdue"})]}),r.jsx(cn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]})}),s?r.jsx("div",{className:"flex justify-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):b.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx($r,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:a||i!=="ALL"?"No invoices found":"No invoices yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:a||i!=="ALL"?"Try adjusting your filters":"Create your first invoice to get started"}),!a&&i==="ALL"&&r.jsxs("button",{onClick:h,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Create Your First Invoice"]})]})}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:b.map(v=>r.jsx(Cy,{invoice:v,statusColors:g,onView:m,onDelete:y},v._id))})]})})}function Cy({invoice:e,statusColors:t,onView:n,onDelete:s}){var h,m,y,b;const[l,a]=w.useState(!1),[o,i]=w.useState(!1),c=async()=>{a(!0);try{const g=await M.get(`/api/invoices/${e._id}/pdf`,{responseType:"blob"}),v=new Blob([g.data],{type:"text/html"}),x=window.URL.createObjectURL(v),p=window.open(x,"_blank");p&&(p.onload=function(){setTimeout(()=>{p.print()},250)}),setTimeout(()=>window.URL.revokeObjectURL(x),100)}catch(g){console.error("Error downloading PDF:",g),alert("Failed to download PDF. Please try again.")}finally{a(!1)}},u=async()=>{var v;const g=prompt("Enter recipient email address:",((v=e.client)==null?void 0:v.email)||"");if(g){if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g)){alert("Please enter a valid email address");return}i(!0);try{await M.post(`/api/invoices/${e._id}/send-email`,{to:g,subject:`Invoice ${e.invoiceNumber}`,message:"Please find attached invoice for your reference."}),alert(`Invoice sent successfully to ${g}!`)}catch(x){console.error("Error sending email:",x),alert("Failed to send email. Please try again.")}finally{i(!1)}}};return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 hover:shadow-md transition-shadow",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e.invoiceNumber||"DRAFT"}),r.jsx("span",{className:`px-2.5 py-1 text-xs font-medium rounded-full ${t[e.status]||t.DRAFT}`,children:(h=e.status)==null?void 0:h.replace("_"," ")})]}),r.jsx("p",{className:"text-sm text-gray-600",children:((m=e.client)==null?void 0:m.companyName)||"Unknown Client"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>n(e),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View invoice",children:r.jsx(Ci,{className:"w-4 h-4"})}),r.jsx("button",{onClick:c,disabled:l,className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors disabled:opacity-50",title:l?"Generating PDF...":"Download PDF",children:l?r.jsx("div",{className:"w-4 h-4 border-2 border-green-600 border-t-transparent rounded-full animate-spin"}):r.jsx(mt,{className:"w-4 h-4"})}),r.jsx("button",{onClick:u,disabled:o,className:"p-2 text-purple-600 hover:bg-purple-50 rounded-lg transition-colors disabled:opacity-50",title:o?"Sending...":"Send email",children:o?r.jsx("div",{className:"w-4 h-4 border-2 border-purple-600 border-t-transparent rounded-full animate-spin"}):r.jsx(pm,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>s(e._id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete invoice",children:r.jsx(es,{className:"w-4 h-4"})})]})]}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-gray-100",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Invoice Date"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(e.invoiceDate).toLocaleDateString("en-IN")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Due Date"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(e.dueDate).toLocaleDateString("en-IN")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Total Amount"}),r.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",((y=e.totalAmount)==null?void 0:y.toLocaleString("en-IN"))||0]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Balance"}),r.jsxs("p",{className:"text-sm font-bold text-red-600",children:["",((b=e.balanceAmount)==null?void 0:b.toLocaleString("en-IN"))||0]})]})]})]})}function fu(){const e=we(),{id:t}=kl(),n=!!t,[s,l]=w.useState(!1),[a,o]=w.useState([]),[i,c]=w.useState([]),[u,h]=w.useState([]),[m,y]=w.useState({clientId:"",invoiceType:"TAX_INVOICE",invoiceDate:new Date().toISOString().split("T")[0],dueDate:"",items:[{productId:"",description:"",hsnSacCode:"",quantity:1,unit:"PCS",rate:0,gstRate:18,itemType:"PRODUCT",discountType:"PERCENTAGE",discountValue:0,discountAmount:0,taxableAmount:0,amount:0}],discountType:"PERCENTAGE",discountValue:0,tdsSection:"",tdsRate:0,tdsAmount:0,notes:""});w.useEffect(()=>{b(),g(),v(),n&&x()},[t]);const b=async()=>{try{const S=await M.get("/api/clients");o(S.data)}catch(S){console.error("Error fetching clients:",S)}},g=async()=>{try{const S=await M.get("/api/products",{params:{isActive:"true"}});c(S.data||[])}catch(S){console.error("Error fetching products:",S)}},v=async()=>{try{const S=await M.get("/api/tdsconfig");h(S.data||[])}catch(S){console.error("Error fetching TDS configs:",S)}},x=async()=>{var S,I,A,z;try{const T=await M.get(`/api/invoices/${t}`);y({clientId:((S=T.data.client)==null?void 0:S._id)||"",invoiceType:T.data.invoiceType,invoiceDate:(I=T.data.invoiceDate)==null?void 0:I.split("T")[0],dueDate:(A=T.data.dueDate)==null?void 0:A.split("T")[0],items:((z=T.data.items)==null?void 0:z.map(O=>({...O,productId:"",discountType:O.discountType||"PERCENTAGE",discountValue:O.discountValue||0,discountAmount:O.discountAmount||0,taxableAmount:O.taxableAmount||O.amount})))||[],discountType:T.data.discountType||"PERCENTAGE",discountValue:T.data.discountValue||0,tdsSection:T.data.tdsSection||"",tdsRate:T.data.tdsRate||0,tdsAmount:T.data.tdsAmount||0,notes:T.data.notes||""})}catch(T){console.error("Error fetching invoice:",T),alert("Failed to fetch invoice details"),e("/invoices")}},p=()=>{y({...m,items:[...m.items,{productId:"",description:"",hsnSacCode:"",quantity:1,unit:"PCS",rate:0,gstRate:18,itemType:"PRODUCT",discountType:"PERCENTAGE",discountValue:0,discountAmount:0,taxableAmount:0,amount:0}]})},f=S=>{y({...m,items:m.items.filter((I,A)=>A!==S)})},d=(S,I)=>{const A=[...m.items];if(I==="custom")A[S]={productId:"custom",description:"",hsnSacCode:"",quantity:1,unit:"PCS",rate:0,gstRate:18,itemType:"PRODUCT",discountType:"PERCENTAGE",discountValue:0,discountAmount:0,taxableAmount:0,amount:0};else if(I){const z=i.find(T=>T._id===I);if(z){const T=A[S].quantity||1,O=z.rate,q=T*O;A[S]={productId:z._id,description:z.name,hsnSacCode:z.hsnSacCode||"",quantity:T,unit:z.unit,rate:O,gstRate:z.gstRate,itemType:z.type,discountType:"PERCENTAGE",discountValue:0,discountAmount:0,taxableAmount:q,amount:q}}}else A[S].productId="";y({...m,items:A})},j=S=>{const I=S.quantity*S.rate;let A=0;S.discountType==="PERCENTAGE"?A=I*S.discountValue/100:A=S.discountValue;const z=I-A;return{discountAmount:A,taxableAmount:z,amount:z}},N=(S,I,A)=>{const z=[...m.items];if(z[S][I]=A,["quantity","rate","discountType","discountValue"].includes(I)){const T=j(z[S]);z[S].discountAmount=T.discountAmount,z[S].taxableAmount=T.taxableAmount,z[S].amount=T.amount}y({...m,items:z})},k=S=>{if(S){const I=u.find(A=>A.section===S);I&&y({...m,tdsSection:I.section,tdsRate:I.rate})}else y({...m,tdsSection:"",tdsRate:0})},E=()=>{const S=m.items.reduce((F,U)=>F+U.quantity*U.rate,0),I=m.items.reduce((F,U)=>F+(U.discountAmount||0),0),A=m.items.reduce((F,U)=>F+U.amount,0);let z=0;m.discountType==="PERCENTAGE"?z=A*m.discountValue/100:z=m.discountValue;const T=A-z,O=m.items.reduce((F,U)=>{const W=U.amount-U.amount*m.discountValue/100;return F+W*U.gstRate/100},0),q=T+O,X=q*m.tdsRate/100,L=q-X;return{itemsTotal:S,itemDiscounts:I,subtotal:A,invoiceDiscountAmount:z,taxableAmount:T,totalTax:O,totalWithTax:q,tdsAmount:X,total:L}},R=async S=>{var I,A,z;S.preventDefault(),l(!0);try{const T=E(),O={clientId:m.clientId,invoiceType:m.invoiceType,invoiceDate:m.invoiceDate,dueDate:m.dueDate,items:m.items.map(({productId:q,...X})=>X),discountType:m.discountType,discountValue:m.discountValue,tdsSection:m.tdsSection||null,tdsRate:m.tdsRate||0,tdsAmount:T.tdsAmount||0,notes:m.notes};console.log("Submitting invoice data:",O),n?(await M.put(`/api/invoices/${t}`,O),alert("Invoice updated successfully")):(await M.post("/api/invoices",O),alert("Invoice created successfully")),e("/invoices")}catch(T){console.error("Error saving invoice:",T),console.error("Error details:",(I=T.response)==null?void 0:I.data),alert(((z=(A=T.response)==null?void 0:A.data)==null?void 0:z.error)||"Failed to save invoice")}finally{l(!1)}},D=E();return r.jsx(ee,{children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsxs("button",{onClick:()=>e("/invoices"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4",children:[r.jsx($n,{className:"w-5 h-5"}),"Back to Invoices"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:n?"Edit Invoice":"Create New Invoice"}),r.jsx("p",{className:"text-gray-600 mt-1",children:n?"Update invoice details":"Create a new invoice for your client"})]}),r.jsxs("form",{onSubmit:R,className:"space-y-6",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Basic Details"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Client ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{required:!0,value:m.clientId,onChange:S=>y({...m,clientId:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"Select Client"}),a.map(S=>r.jsx("option",{value:S._id,children:S.companyName},S._id))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Type"}),r.jsxs("select",{value:m.invoiceType,onChange:S=>y({...m,invoiceType:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"PROFORMA",children:"Proforma Invoice"}),r.jsx("option",{value:"TAX_INVOICE",children:"Tax Invoice"}),r.jsx("option",{value:"CREDIT_NOTE",children:"Credit Note"}),r.jsx("option",{value:"DEBIT_NOTE",children:"Debit Note"})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Invoice Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",required:!0,value:m.invoiceDate,onChange:S=>y({...m,invoiceDate:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Due Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",required:!0,value:m.dueDate,onChange:S=>y({...m,dueDate:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Line Items"}),r.jsxs("button",{type:"button",onClick:p,className:"flex items-center gap-2 text-blue-600 hover:text-blue-700 text-sm font-medium",children:[r.jsx(tt,{className:"w-4 h-4"}),"Add Item"]})]}),r.jsx("div",{className:"space-y-4",children:m.items.map((S,I)=>r.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg space-y-3 bg-gray-50",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Item ",I+1]}),m.items.length>1&&r.jsx("button",{type:"button",onClick:()=>f(I),className:"text-red-600 hover:text-red-700",children:r.jsx(dy,{className:"w-4 h-4"})})]}),r.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[r.jsxs("label",{className:"block text-xs font-medium text-blue-900 mb-2",children:[r.jsx(Qt,{className:"w-4 h-4 inline mr-1"}),"Select from Product Catalog (or choose Custom Item)"]}),r.jsxs("select",{value:S.productId,onChange:A=>d(I,A.target.value),className:"w-full px-3 py-2 border border-blue-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white",children:[r.jsx("option",{value:"",children:"-- Select Product/Service --"}),r.jsx("option",{value:"custom",children:" Custom Item (Manual Entry)"}),r.jsx("optgroup",{label:"Products",children:i.filter(A=>A.type==="PRODUCT").map(A=>r.jsxs("option",{value:A._id,children:[A.name," - ",A.rate," (",A.gstRate,"% GST)"]},A._id))}),r.jsx("optgroup",{label:"Services",children:i.filter(A=>A.type==="SERVICE").map(A=>r.jsxs("option",{value:A._id,children:[A.name," - ",A.rate," (",A.gstRate,"% GST)"]},A._id))})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Description *"}),r.jsx("input",{type:"text",required:!0,placeholder:"Item description",value:S.description,onChange:A=>N(I,"description",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Type *"}),r.jsxs("select",{required:!0,value:S.itemType,onChange:A=>N(I,"itemType",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"PRODUCT",children:"Product"}),r.jsx("option",{value:"SERVICE",children:"Service"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"HSN/SAC"}),r.jsx("input",{type:"text",placeholder:"998314",value:S.hsnSacCode,onChange:A=>N(I,"hsnSacCode",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Quantity *"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:S.quantity,onChange:A=>N(I,"quantity",parseFloat(A.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Unit *"}),r.jsxs("select",{required:!0,value:S.unit,onChange:A=>N(I,"unit",A.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"PCS",children:"Pcs"}),r.jsx("option",{value:"KG",children:"Kg"}),r.jsx("option",{value:"LITER",children:"Liter"}),r.jsx("option",{value:"METER",children:"Meter"}),r.jsx("option",{value:"BOX",children:"Box"}),r.jsx("option",{value:"HOUR",children:"Hour"}),r.jsx("option",{value:"DAY",children:"Day"}),r.jsx("option",{value:"MONTH",children:"Month"}),r.jsx("option",{value:"SET",children:"Set"}),r.jsx("option",{value:"UNIT",children:"Unit"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Rate *"}),r.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:S.rate,onChange:A=>N(I,"rate",parseFloat(A.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-3 pt-2 border-t border-gray-200",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsxs("label",{className:"block text-xs font-medium text-orange-600 mb-1",children:[r.jsx(Vr,{className:"w-3 h-3 inline mr-1"}),"Item Discount Type"]}),r.jsxs("select",{value:S.discountType,onChange:A=>N(I,"discountType",A.target.value),className:"w-full px-3 py-2 border border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-orange-50",children:[r.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"}),r.jsx("option",{value:"FIXED",children:"Fixed Amount ()"})]})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-orange-600 mb-1",children:"Discount Value"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:S.discountValue,onChange:A=>N(I,"discountValue",parseFloat(A.target.value)||0),placeholder:"0",className:"w-full px-3 py-2 border border-orange-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-transparent bg-orange-50"})]}),r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"GST % *"}),r.jsxs("select",{required:!0,value:S.gstRate,onChange:A=>N(I,"gstRate",parseFloat(A.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"0",children:"0%"}),r.jsx("option",{value:"5",children:"5%"}),r.jsx("option",{value:"12",children:"12%"}),r.jsx("option",{value:"18",children:"18%"}),r.jsx("option",{value:"28",children:"28%"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg p-3 space-y-1 text-xs",children:[r.jsxs("div",{className:"flex justify-between text-gray-600",children:[r.jsx("span",{children:"Base Amount (Qty  Rate):"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",(S.quantity*S.rate).toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),S.discountAmount>0&&r.jsxs("div",{className:"flex justify-between text-orange-600",children:[r.jsxs("span",{children:["Item Discount ",S.discountType==="PERCENTAGE"?`(${S.discountValue}%)`:"",":"]}),r.jsxs("span",{className:"font-medium",children:["-",S.discountAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between text-gray-900 pt-1 border-t border-gray-200",children:[r.jsx("span",{className:"font-semibold",children:"Taxable Amount:"}),r.jsxs("span",{className:"font-bold",children:["",S.amount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})]},I))})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Deductions & Notes"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Discount Type"}),r.jsxs("select",{value:m.discountType,onChange:S=>y({...m,discountType:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"PERCENTAGE",children:"Percentage (%)"}),r.jsx("option",{value:"FIXED",children:"Fixed Amount ()"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Invoice Discount Value"}),r.jsx("input",{type:"number",min:"0",step:"0.01",value:m.discountValue,onChange:S=>y({...m,discountValue:parseFloat(S.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[r.jsx(Vr,{className:"w-4 h-4 inline mr-1"}),"TDS Section (Optional)"]}),r.jsxs("select",{value:m.tdsSection,onChange:S=>k(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"",children:"No TDS"}),u.filter(S=>S.isActive).map(S=>r.jsxs("option",{value:S.section,children:[S.section," - ",S.description," (",S.rate,"%)"]},S._id))]}),m.tdsSection&&r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["TDS @ ",m.tdsRate,"% will be deducted"]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),r.jsx("textarea",{rows:3,value:m.notes,onChange:S=>y({...m,notes:S.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Payment terms, bank details, or any additional notes..."})]})]}),r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg shadow-sm border border-blue-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Summary"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Items Total:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",D.itemsTotal.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),D.itemDiscounts>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-orange-600",children:"Item Discounts:"}),r.jsxs("span",{className:"font-medium text-orange-600",children:["-",D.itemDiscounts.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Subtotal (after item discounts):"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",D.subtotal.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),D.invoiceDiscountAmount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["Invoice Discount ",m.discountType==="PERCENTAGE"?`(${m.discountValue}%)`:"",":"]}),r.jsxs("span",{className:"font-medium text-red-600",children:["-",D.invoiceDiscountAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-blue-200",children:[r.jsx("span",{className:"text-gray-600",children:"Taxable Amount:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",D.taxableAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"GST:"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",D.totalTax.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-blue-200",children:[r.jsx("span",{className:"text-gray-600",children:"Total (with GST):"}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",D.totalWithTax.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),D.tdsAmount>0&&r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsxs("span",{className:"text-gray-600",children:["TDS ",m.tdsSection?`(${m.tdsSection} @ ${m.tdsRate}%)`:"",":"]}),r.jsxs("span",{className:"font-medium text-orange-600",children:["-",D.tdsAmount.toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),r.jsxs("div",{className:"pt-2 border-t-2 border-blue-300 flex justify-between",children:[r.jsx("span",{className:"font-semibold text-gray-900",children:"Net Payable:"}),r.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["",D.total.toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]})]})]}),r.jsxs("div",{className:"flex gap-3 justify-end bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("button",{type:"button",onClick:()=>e("/invoices"),className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 font-medium transition-colors",disabled:s,children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:bg-gray-400 font-medium transition-colors",children:[r.jsx(Zr,{className:"w-4 h-4"}),s?"Saving...":n?"Update Invoice":"Create Invoice"]})]})]})]})})}function ky(){var g,v,x,p,f,d,j,N,k,E,R,D,S,I,A,z,T;const{id:e}=kl(),t=we();Br(O=>O.user);const[n,s]=w.useState(null),[l,a]=w.useState(!0),[o,i]=w.useState(""),[c,u]=w.useState(!1);w.useEffect(()=>{h()},[e]);const h=async()=>{var O,q;try{console.log("Fetching invoice:",e);const X=await M.get(`/api/invoices/${e}`);console.log("Invoice data:",X.data),s(X.data)}catch(X){console.error("Error fetching invoice:",X),console.error("Error details:",X.response),i(((q=(O=X.response)==null?void 0:O.data)==null?void 0:q.error)||"Failed to load invoice"),setTimeout(()=>{window.confirm("Failed to load invoice. Return to invoices list?")&&t("/invoices")},1e3)}finally{a(!1)}},m=async()=>{try{const O=await M.get(`/api/invoices/${e}/pdf`,{responseType:"blob"}),q=new Blob([O.data],{type:"text/html"}),X=window.URL.createObjectURL(q),L=window.open(X,"_blank");L&&(L.onload=function(){setTimeout(()=>{L.print()},250)}),setTimeout(()=>window.URL.revokeObjectURL(X),100)}catch(O){console.error("Error downloading PDF:",O),alert("Failed to generate PDF")}},y=()=>{window.print()};if(l)return r.jsx(ee,{children:r.jsxs("div",{className:"flex flex-col justify-center items-center h-96 space-y-4",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"}),r.jsx("p",{className:"text-gray-600",children:"Loading invoice..."})]})});if(o||!n)return r.jsx(ee,{children:r.jsx("div",{className:"text-center py-12",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Al,{className:"w-8 h-8 text-red-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Failed to Load Invoice"}),r.jsx("p",{className:"text-gray-600 mb-6",children:o||"Invoice not found"}),r.jsxs("button",{onClick:()=>t("/invoices"),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx($n,{className:"w-4 h-4"}),"Back to Invoices"]})]})})});const b={DRAFT:"bg-gray-100 text-gray-700",PENDING:"bg-yellow-100 text-yellow-700",PARTIALLY_PAID:"bg-blue-100 text-blue-700",PAID:"bg-green-100 text-green-700",OVERDUE:"bg-red-100 text-red-700",CANCELLED:"bg-gray-100 text-gray-500"};return r.jsxs(ee,{children:[r.jsxs("div",{className:"max-w-5xl mx-auto space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("button",{onClick:()=>t("/invoices"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900",children:[r.jsx($n,{className:"w-5 h-5"}),"Back to Invoices"]}),r.jsxs("div",{className:"flex items-center gap-3",children:[n.status!=="PAID"&&n.status!=="CANCELLED"&&r.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(ly,{className:"w-4 h-4"}),"Record Payment"]}),r.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(mt,{className:"w-4 h-4"}),"Download PDF"]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors",children:[r.jsx(hy,{className:"w-4 h-4"}),"Print"]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-lg border border-gray-200 p-8 print:shadow-none print:border-0",children:[r.jsxs("div",{className:"flex justify-between items-start mb-8 pb-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n.invoiceType==="PROFORMA"?"PROFORMA INVOICE":"TAX INVOICE"}),r.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice Number: ",r.jsx("span",{className:"font-semibold",children:n.invoiceNumber})]})]}),r.jsx("div",{children:r.jsx("span",{className:`px-4 py-2 text-sm font-medium rounded-full ${b[n.status]}`,children:(g=n.status)==null?void 0:g.replace("_"," ")})})]}),r.jsx("div",{className:"grid grid-cols-1 gap-8 mb-8",children:r.jsxs("div",{children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Bill To"}),r.jsxs("div",{className:"space-y-1",children:[r.jsx("p",{className:"font-bold text-gray-900",children:(v=n.client)==null?void 0:v.companyName}),((x=n.client)==null?void 0:x.billingAddress)&&r.jsx("p",{className:"text-sm text-gray-600",children:n.client.billingAddress}),((p=n.client)==null?void 0:p.billingCity)&&((f=n.client)==null?void 0:f.billingState)&&r.jsxs("p",{className:"text-sm text-gray-600",children:[n.client.billingCity,", ",n.client.billingState]}),((d=n.client)==null?void 0:d.gstin)&&r.jsxs("p",{className:"text-sm text-gray-600",children:["GSTIN: ",n.client.gstin]}),((j=n.client)==null?void 0:j.email)&&r.jsxs("p",{className:"text-sm text-gray-600",children:["Email: ",n.client.email]})]})]})}),r.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8 pb-6 border-b border-gray-200",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Invoice Date"}),r.jsx("p",{className:"font-semibold text-gray-900",children:new Date(n.invoiceDate).toLocaleDateString("en-IN")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Due Date"}),r.jsx("p",{className:"font-semibold text-gray-900",children:new Date(n.dueDate).toLocaleDateString("en-IN")})]}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Payment Terms"}),r.jsxs("p",{className:"font-semibold text-gray-900",children:[Math.ceil((new Date(n.dueDate)-new Date(n.invoiceDate))/(1e3*60*60*24))," ","Days"]})]})]}),r.jsx("div",{className:"mb-8 overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{children:r.jsxs("tr",{className:"border-b-2 border-gray-300",children:[r.jsx("th",{className:"text-left py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"#"}),r.jsx("th",{className:"text-left py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"Description"}),r.jsx("th",{className:"text-center py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"HSN/SAC"}),r.jsx("th",{className:"text-center py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"Qty"}),r.jsx("th",{className:"text-right py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"Rate"}),r.jsx("th",{className:"text-center py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"GST%"}),r.jsx("th",{className:"text-right py-3 px-2 text-xs font-semibold text-gray-700 uppercase",children:"Amount"})]})}),r.jsx("tbody",{children:(N=n.items)==null?void 0:N.map((O,q)=>{var X,L;return r.jsxs("tr",{className:"border-b border-gray-200",children:[r.jsx("td",{className:"py-3 px-2 text-sm text-gray-900",children:q+1}),r.jsx("td",{className:"py-3 px-2",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:O.description})}),r.jsx("td",{className:"py-3 px-2 text-center text-sm text-gray-600",children:O.hsnSac||"-"}),r.jsx("td",{className:"py-3 px-2 text-center text-sm text-gray-900",children:O.quantity}),r.jsxs("td",{className:"py-3 px-2 text-right text-sm text-gray-900",children:["",(X=O.rate)==null?void 0:X.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-2 text-center text-sm text-gray-600",children:[O.gstRate,"%"]}),r.jsxs("td",{className:"py-3 px-2 text-right text-sm font-medium text-gray-900",children:["",(L=O.amount)==null?void 0:L.toLocaleString("en-IN")]})]},q)})})]})}),r.jsx("div",{className:"flex justify-end",children:r.jsxs("div",{className:"w-80 space-y-2",children:[r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Subtotal"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",(k=n.subtotal)==null?void 0:k.toLocaleString("en-IN")]})]}),n.discountAmount>0&&r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[r.jsxs("span",{className:"text-sm text-gray-600",children:["Discount",n.discountType==="PERCENTAGE"?` (${n.discountValue}%)`:""]}),r.jsxs("span",{className:"text-sm font-medium text-red-600",children:["- ",(E=n.discountAmount)==null?void 0:E.toLocaleString("en-IN")]})]}),n.cgst>0&&r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"CGST"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",(R=n.cgst)==null?void 0:R.toLocaleString("en-IN")]})]}),n.sgst>0&&r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"SGST"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",(D=n.sgst)==null?void 0:D.toLocaleString("en-IN")]})]}),n.igst>0&&r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"IGST"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",(S=n.igst)==null?void 0:S.toLocaleString("en-IN")]})]}),n.roundOff!==0&&r.jsxs("div",{className:"flex justify-between py-2 border-b border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Round Off"}),r.jsxs("span",{className:"text-sm font-medium text-gray-900",children:["",(I=n.roundOff)==null?void 0:I.toFixed(2)]})]}),r.jsxs("div",{className:"flex justify-between py-3 border-t-2 border-gray-300",children:[r.jsx("span",{className:"text-base font-bold text-gray-900",children:"Total Amount"}),r.jsxs("span",{className:"text-base font-bold text-gray-900",children:["",(A=n.totalAmount)==null?void 0:A.toLocaleString("en-IN")]})]}),n.paidAmount>0&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex justify-between py-2 border-t border-gray-200",children:[r.jsx("span",{className:"text-sm text-gray-600",children:"Paid Amount"}),r.jsxs("span",{className:"text-sm font-medium text-green-600",children:["",(z=n.paidAmount)==null?void 0:z.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between py-2",children:[r.jsx("span",{className:"text-sm font-bold text-gray-900",children:"Balance Due"}),r.jsxs("span",{className:"text-sm font-bold text-red-600",children:["",(T=n.balanceAmount)==null?void 0:T.toLocaleString("en-IN")]})]})]})]})}),n.notes&&r.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[r.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase mb-2",children:"Notes"}),r.jsx("p",{className:"text-sm text-gray-600 whitespace-pre-wrap",children:n.notes})]})]})]}),c&&r.jsx(Ey,{invoice:n,onClose:()=>u(!1),onSuccess:()=>{u(!1),h()}})]})}function Ey({invoice:e,onClose:t,onSuccess:n}){var h,m,y;const[s,l]=w.useState({amount:e.balanceAmount||0,paymentDate:new Date().toISOString().split("T")[0],paymentMode:"CASH",referenceNumber:"",notes:""}),[a,o]=w.useState(!1),[i,c]=w.useState(""),u=async b=>{var g,v;if(b.preventDefault(),c(""),s.amount<=0){c("Please enter a valid amount");return}if(s.amount>e.balanceAmount){c("Payment amount cannot exceed balance amount");return}o(!0);try{await M.post(`/api/invoices/${e._id}/payments`,s),alert("Payment recorded successfully!"),n()}catch(x){console.error("Payment error:",x),c(((v=(g=x.response)==null?void 0:g.data)==null?void 0:v.error)||"Failed to record payment")}finally{o(!1)}};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),r.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:r.jsx(Fl,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:u,className:"p-6 space-y-4",children:[r.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 space-y-2",children:[r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Invoice Number:"}),r.jsx("span",{className:"font-semibold text-gray-900",children:e.invoiceNumber})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Total Amount:"}),r.jsxs("span",{className:"font-semibold text-gray-900",children:["",(h=e.totalAmount)==null?void 0:h.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-600",children:"Paid Amount:"}),r.jsxs("span",{className:"font-semibold text-green-600",children:["",(m=e.paidAmount)==null?void 0:m.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-blue-200",children:[r.jsx("span",{className:"text-gray-600",children:"Balance Due:"}),r.jsxs("span",{className:"font-bold text-red-600",children:["",(y=e.balanceAmount)==null?void 0:y.toLocaleString("en-IN")]})]})]}),i&&r.jsxs("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg flex items-start gap-2",children:[r.jsx(Al,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),r.jsx("span",{className:"text-sm",children:i})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Amount ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",step:"0.01",value:s.amount,onChange:b=>l({...s,amount:parseFloat(b.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Date ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"date",value:s.paymentDate,onChange:b=>l({...s,paymentDate:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Payment Mode ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsxs("select",{value:s.paymentMode,onChange:b=>l({...s,paymentMode:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[r.jsx("option",{value:"CASH",children:"Cash"}),r.jsx("option",{value:"BANK_TRANSFER",children:"Bank Transfer"}),r.jsx("option",{value:"CHEQUE",children:"Cheque"}),r.jsx("option",{value:"UPI",children:"UPI"}),r.jsx("option",{value:"CARD",children:"Card"}),r.jsx("option",{value:"OTHER",children:"Other"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Number"}),r.jsx("input",{type:"text",value:s.referenceNumber,onChange:b=>l({...s,referenceNumber:b.target.value}),placeholder:"Transaction ID, Cheque No, etc.",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),r.jsx("textarea",{value:s.notes,onChange:b=>l({...s,notes:b.target.value}),rows:3,placeholder:"Any additional notes...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none"})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:a?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(sy,{className:"w-4 h-4"}),"Record Payment"]})})]})]})]})})}function Ty(){const e=we(),[t,n]=w.useState([]),[s,l]=w.useState([]),[a,o]=w.useState(!0),[i,c]=w.useState(""),[u,h]=w.useState("ALL"),[m,y]=w.useState("dueDate");w.useEffect(()=>{b()},[]);const b=async()=>{try{const[d,j]=await Promise.all([M.get("/api/invoices"),M.get("/api/clients")]),N=d.data.filter(k=>k.status==="PENDING"||k.status==="PARTIALLY_PAID"||k.status==="OVERDUE");n(N),l(j.data||[])}catch(d){console.error("Error fetching data:",d)}finally{o(!1)}},g={totalOutstanding:t.reduce((d,j)=>d+(j.balanceAmount||0),0),totalInvoices:t.length,overdueAmount:t.filter(d=>new Date(d.dueDate)<new Date).reduce((d,j)=>d+(j.balanceAmount||0),0),overdueCount:t.filter(d=>new Date(d.dueDate)<new Date).length},v=t.filter(d=>{var k,E,R,D;const j=((k=d.invoiceNumber)==null?void 0:k.toLowerCase().includes(i.toLowerCase()))||((R=(E=d.client)==null?void 0:E.companyName)==null?void 0:R.toLowerCase().includes(i.toLowerCase())),N=u==="ALL"||((D=d.client)==null?void 0:D._id)===u;return j&&N}).sort((d,j)=>{var N,k;return m==="dueDate"?new Date(d.dueDate)-new Date(j.dueDate):m==="amount"?j.balanceAmount-d.balanceAmount:m==="client"?(((N=d.client)==null?void 0:N.companyName)||"").localeCompare(((k=j.client)==null?void 0:k.companyName)||""):0}),x=s.map(d=>{const j=v.filter(k=>{var E;return((E=k.client)==null?void 0:E._id)===d._id}),N=j.reduce((k,E)=>k+(E.balanceAmount||0),0);return{client:d,count:j.length,outstanding:N}}).filter(d=>d.count>0).sort((d,j)=>j.outstanding-d.outstanding),p=()=>{const d=v.map(D=>{var S;return{"Invoice Number":D.invoiceNumber,"Client Name":((S=D.client)==null?void 0:S.companyName)||"","Invoice Date":new Date(D.invoiceDate).toLocaleDateString("en-IN"),"Due Date":new Date(D.dueDate).toLocaleDateString("en-IN"),"Total Amount":D.totalAmount,"Paid Amount":D.paidAmount,"Balance Amount":D.balanceAmount,Status:D.status,"Days Overdue":Math.max(0,Math.floor((new Date-new Date(D.dueDate))/864e5))}}),j=Object.keys(d[0]||{}),N=[j.join(","),...d.map(D=>j.map(S=>D[S]).join(","))].join(`
`),k=new Blob([N],{type:"text/csv"}),E=window.URL.createObjectURL(k),R=document.createElement("a");R.href=E,R.download=`outstanding-report-${new Date().toISOString().split("T")[0]}.csv`,R.click(),window.URL.revokeObjectURL(E)},f=d=>{const j=Math.floor((new Date-new Date(d))/864e5);return j>0?j:0};return a?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Outstanding Reports"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Track pending and overdue invoice payments"})]}),r.jsxs("button",{onClick:p,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(mt,{className:"w-5 h-5"}),"Export to Excel"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Outstanding"}),r.jsx(ol,{className:"w-5 h-5 text-blue-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",g.totalOutstanding.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.totalInvoices," pending invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Overdue Amount"}),r.jsx(Al,{className:"w-5 h-5 text-red-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",g.overdueAmount.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.overdueCount," overdue invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Days Overdue"}),r.jsx(Il,{className:"w-5 h-5 text-yellow-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[g.overdueCount>0?Math.round(t.filter(d=>new Date(d.dueDate)<new Date).reduce((d,j)=>d+f(j.dueDate),0)/g.overdueCount):0," ","days"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"For overdue invoices"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Collection Rate"}),r.jsx(il,{className:"w-5 h-5 text-green-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[t.length>0?Math.round(t.reduce((d,j)=>d+(j.paidAmount||0),0)/t.reduce((d,j)=>d+(j.totalAmount||0),0)*100):0,"%"]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Payment collection rate"})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search invoices or clients...",value:i,onChange:d=>c(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:u,onChange:d=>h(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"ALL",children:"All Clients"}),s.map(d=>r.jsx("option",{value:d._id,children:d.companyName},d._id))]}),r.jsx(cn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]}),r.jsxs("div",{className:"relative",children:[r.jsxs("select",{value:m,onChange:d=>y(d.target.value),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"dueDate",children:"Sort by Due Date"}),r.jsx("option",{value:"amount",children:"Sort by Amount"}),r.jsx("option",{value:"client",children:"Sort by Client"})]}),r.jsx(cn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]})}),x.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Client-wise Outstanding Summary"}),r.jsx("div",{className:"space-y-3",children:x.slice(0,5).map(({client:d,count:j,outstanding:N})=>r.jsxs("div",{className:"flex items-center justify-between py-3 border-b border-gray-100 last:border-0",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"font-medium text-gray-900",children:d.companyName}),r.jsxs("p",{className:"text-xs text-gray-500",children:[j," pending invoices"]})]}),r.jsxs("p",{className:"text-lg font-bold text-red-600",children:["",N.toLocaleString("en-IN")]})]},d._id))})]}),v.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(ol,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No outstanding invoices"}),r.jsx("p",{className:"text-gray-500",children:i||u!=="ALL"?"Try adjusting your filters":"All invoices are paid!"})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Invoice"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Client"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Due Date"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Total"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Paid"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Outstanding"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Days Overdue"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:v.map(d=>{var k,E,R,D;const j=f(d.dueDate),N=j>0;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"py-3 px-4",children:[r.jsx("p",{className:"font-medium text-gray-900",children:d.invoiceNumber}),r.jsx("p",{className:"text-xs text-gray-500",children:new Date(d.invoiceDate).toLocaleDateString("en-IN")})]}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm text-gray-900",children:((k=d.client)==null?void 0:k.companyName)||"Unknown"})}),r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:`text-sm font-medium ${N?"text-red-600":"text-gray-900"}`,children:new Date(d.dueDate).toLocaleDateString("en-IN")})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",(E=d.totalAmount)==null?void 0:E.toLocaleString("en-IN")]})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("p",{className:"text-sm text-green-600",children:["",(R=d.paidAmount)==null?void 0:R.toLocaleString("en-IN")]})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("p",{className:"text-sm font-bold text-red-600",children:["",(D=d.balanceAmount)==null?void 0:D.toLocaleString("en-IN")]})}),r.jsx("td",{className:"py-3 px-4 text-center",children:N?r.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-red-100 text-red-700",children:[j," days"]}):r.jsx("span",{className:"text-xs text-gray-500",children:"-"})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("button",{onClick:()=>e(`/invoices/view/${d._id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"View invoice",children:r.jsx(Ci,{className:"w-4 h-4"})})})]},d._id)})})]})})})]})})}function Ry(){const e=we(),[t,n]=w.useState([]),[s,l]=w.useState([]),[a,o]=w.useState(!0),[i,c]=w.useState(""),[u,h]=w.useState("ALL"),[m,y]=w.useState("summary");w.useEffect(()=>{b()},[]);const b=async()=>{try{const[N,k]=await Promise.all([M.get("/api/invoices"),M.get("/api/clients")]),E=N.data.filter(R=>R.status==="PENDING"||R.status==="PARTIALLY_PAID"||R.status==="OVERDUE");n(E),l(k.data||[])}catch(N){console.error("Error fetching data:",N)}finally{o(!1)}},g=N=>Math.floor((new Date-new Date(N))/864e5),v=N=>N<0?"NOT_DUE":N<=30?"0-30":N<=60?"31-60":N<=90?"61-90":"90+",x={notDue:{count:0,amount:0},"0-30":{count:0,amount:0},"31-60":{count:0,amount:0},"61-90":{count:0,amount:0},"90+":{count:0,amount:0}};t.forEach(N=>{const k=g(N.dueDate),E=v(k);E==="NOT_DUE"?(x.notDue.count++,x.notDue.amount+=N.balanceAmount||0):(x[E].count++,x[E].amount+=N.balanceAmount||0)});const f=s.map(N=>{const k=t.filter(D=>{var S;return((S=D.client)==null?void 0:S._id)===N._id}),E={notDue:0,"0-30":0,"31-60":0,"61-90":0,"90+":0};k.forEach(D=>{const S=g(D.dueDate),I=v(S);E[I==="NOT_DUE"?"notDue":I]+=D.balanceAmount||0});const R=Object.values(E).reduce((D,S)=>D+S,0);return{client:N,ageing:E,totalOutstanding:R,invoiceCount:k.length}}).filter(N=>N.totalOutstanding>0).sort((N,k)=>k.totalOutstanding-N.totalOutstanding).filter(N=>{var R;const k=(R=N.client.companyName)==null?void 0:R.toLowerCase().includes(i.toLowerCase()),E=u==="ALL"||N.client._id===u;return k&&E}),d=()=>{const N=f.map(I=>({"Client Name":I.client.companyName,"Total Outstanding":I.totalOutstanding,"Invoice Count":I.invoiceCount,"Not Due":I.ageing.notDue,"0-30 Days":I.ageing["0-30"],"31-60 Days":I.ageing["31-60"],"61-90 Days":I.ageing["61-90"],"90+ Days":I.ageing["90+"]})),k=Object.keys(N[0]||{}),E=[k.join(","),...N.map(I=>k.map(A=>I[A]).join(","))].join(`
`),R=new Blob([E],{type:"text/csv"}),D=window.URL.createObjectURL(R),S=document.createElement("a");S.href=D,S.download=`ageing-report-${new Date().toISOString().split("T")[0]}.csv`,S.click(),window.URL.revokeObjectURL(D)},j=Object.values(x).reduce((N,k)=>N+k.amount,0);return a?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Ageing Report"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Analyze outstanding invoices by payment delay periods"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{onClick:d,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(mt,{className:"w-5 h-5"}),"Export to Excel"]})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Not Due"}),r.jsx(fm,{className:"w-5 h-5 text-blue-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["",x.notDue.amount.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x.notDue.count," invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"0-30 Days"}),r.jsx(il,{className:"w-5 h-5 text-green-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",x["0-30"].amount.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x["0-30"].count," invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"31-60 Days"}),r.jsx(xa,{className:"w-5 h-5 text-yellow-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:["",x["31-60"].amount.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x["31-60"].count," invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"61-90 Days"}),r.jsx(xa,{className:"w-5 h-5 text-orange-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:["",x["61-90"].amount.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x["61-90"].count," invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"90+ Days"}),r.jsx(xa,{className:"w-5 h-5 text-red-600"})]}),r.jsxs("p",{className:"text-2xl font-bold text-red-600",children:["",x["90+"].amount.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[x["90+"].count," invoices"]})]})]}),r.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 rounded-lg shadow-lg p-6 text-white",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-blue-100 text-sm mb-1",children:"Total Outstanding Amount"}),r.jsxs("p",{className:"text-4xl font-bold",children:["",j.toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-blue-100 text-sm mt-2",children:["Across ",t.length," outstanding invoices"]})]}),r.jsx(Vn,{className:"w-16 h-16 text-blue-200 opacity-50"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"relative md:col-span-2",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search clients...",value:i,onChange:N=>c(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{className:"relative",children:[r.jsx(_l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsxs("select",{value:u,onChange:N=>h(N.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none bg-white",children:[r.jsx("option",{value:"ALL",children:"All Clients"}),s.map(N=>r.jsx("option",{value:N._id,children:N.companyName},N._id))]}),r.jsx(cn,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400 pointer-events-none"})]})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>y("summary"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="summary"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Summary View"}),r.jsx("button",{onClick:()=>y("detailed"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${m==="detailed"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"Detailed View"})]})}),f.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(il,{className:"w-8 h-8 text-green-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No outstanding invoices"}),r.jsx("p",{className:"text-gray-500",children:i||u!=="ALL"?"Try adjusting your filters":"All invoices are paid on time!"})]})}):m==="summary"?r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Client"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Total Outstanding"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Invoices"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-blue-700 uppercase",children:"Not Due"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-green-700 uppercase",children:"0-30 Days"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-yellow-700 uppercase",children:"31-60 Days"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-orange-700 uppercase",children:"61-90 Days"}),r.jsx("th",{className:"text-right py-3 px-4 text-xs font-semibold text-red-700 uppercase",children:"90+ Days"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(N=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"font-medium text-gray-900",children:N.client.companyName})}),r.jsx("td",{className:"py-3 px-4 text-right",children:r.jsxs("p",{className:"text-sm font-bold text-gray-900",children:["",N.totalOutstanding.toLocaleString("en-IN")]})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:N.invoiceCount})}),r.jsx("td",{className:"py-3 px-4 text-right text-sm text-blue-600",children:N.ageing.notDue>0?`${N.ageing.notDue.toLocaleString("en-IN")}`:"-"}),r.jsx("td",{className:"py-3 px-4 text-right text-sm text-green-600",children:N.ageing["0-30"]>0?`${N.ageing["0-30"].toLocaleString("en-IN")}`:"-"}),r.jsx("td",{className:"py-3 px-4 text-right text-sm text-yellow-600",children:N.ageing["31-60"]>0?`${N.ageing["31-60"].toLocaleString("en-IN")}`:"-"}),r.jsx("td",{className:"py-3 px-4 text-right text-sm text-orange-600",children:N.ageing["61-90"]>0?`${N.ageing["61-90"].toLocaleString("en-IN")}`:"-"}),r.jsx("td",{className:"py-3 px-4 text-right text-sm text-red-600 font-medium",children:N.ageing["90+"]>0?`${N.ageing["90+"].toLocaleString("en-IN")}`:"-"})]},N.client._id))}),r.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 font-bold text-gray-900",children:"Total"}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:["",j.toLocaleString("en-IN")]}),r.jsx("td",{className:"py-3 px-4 text-center font-bold text-gray-900",children:t.length}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-blue-600",children:["",x.notDue.amount.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-green-600",children:["",x["0-30"].amount.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-yellow-600",children:["",x["31-60"].amount.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-orange-600",children:["",x["61-90"].amount.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-red-600",children:["",x["90+"].amount.toLocaleString("en-IN")]})]})})]})})}):r.jsx(Py,{invoices:t,filteredData:f,getDaysOverdue:g,getAgeBucket:v,navigate:e})]})})}function Py({invoices:e,filteredData:t,getDaysOverdue:n,getAgeBucket:s,navigate:l}){return r.jsx("div",{className:"space-y-6",children:t.map(a=>{const o=e.filter(i=>{var c;return((c=i.client)==null?void 0:c._id)===a.client._id});return r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[r.jsx("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:a.client.companyName}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Outstanding"}),r.jsxs("p",{className:"text-xl font-bold text-red-600",children:["",a.totalOutstanding.toLocaleString("en-IN")]})]})]})}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 px-4 text-xs font-semibold text-gray-700",children:"Invoice"}),r.jsx("th",{className:"text-left py-2 px-4 text-xs font-semibold text-gray-700",children:"Due Date"}),r.jsx("th",{className:"text-right py-2 px-4 text-xs font-semibold text-gray-700",children:"Amount"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Days Overdue"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Age Bucket"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Action"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:o.map(i=>{var y;const c=n(i.dueDate),u=s(c),h=c>0,m={NOT_DUE:"bg-blue-100 text-blue-700","0-30":"bg-green-100 text-green-700","31-60":"bg-yellow-100 text-yellow-700","61-90":"bg-orange-100 text-orange-700","90+":"bg-red-100 text-red-700"};return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-2 px-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:i.invoiceNumber})}),r.jsx("td",{className:"py-2 px-4",children:r.jsx("p",{className:`text-sm ${h?"text-red-600 font-medium":"text-gray-600"}`,children:new Date(i.dueDate).toLocaleDateString("en-IN")})}),r.jsx("td",{className:"py-2 px-4 text-right",children:r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:["",(y=i.balanceAmount)==null?void 0:y.toLocaleString("en-IN")]})}),r.jsx("td",{className:"py-2 px-4 text-center",children:r.jsx("span",{className:`text-sm ${h?"text-red-600 font-medium":"text-gray-600"}`,children:h?`${c} days`:"Not due"})}),r.jsx("td",{className:"py-2 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${m[u]}`,children:u==="NOT_DUE"?"Not Due":`${u} days`})}),r.jsx("td",{className:"py-2 px-4 text-center",children:r.jsx("button",{onClick:()=>l(`/invoices/view/${i._id}`),className:"p-1 text-blue-600 hover:bg-blue-50 rounded transition-colors",title:"View invoice",children:r.jsx(Ci,{className:"w-4 h-4"})})})]},i._id)})})]})})]},a.client._id)})})}function Dy(){const[e,t]=w.useState([]),[n,s]=w.useState(!0),[l,a]=w.useState(!1),[o,i]=w.useState(null),[c,u]=w.useState({section:"",description:"",rate:0,applicableFor:"BOTH",isActive:!0});w.useEffect(()=>{h()},[]);const h=async()=>{try{const x=await M.get("/api/tdsconfig");t(x.data||[])}catch(x){console.error("Error fetching TDS configs:",x)}finally{s(!1)}},m=()=>{i(null),u({section:"",description:"",rate:0,applicableFor:"BOTH",isActive:!0}),a(!0)},y=x=>{i(x),u({section:x.section,description:x.description,rate:x.rate,applicableFor:x.applicableFor,isActive:x.isActive}),a(!0)},b=async(x,p)=>{if(confirm(`Delete TDS configuration for ${p}?`))try{await M.delete(`/api/tdsconfig/${x}`),t(e.filter(f=>f._id!==x)),alert("TDS configuration deleted successfully")}catch(f){console.error("Error deleting config:",f),alert("Failed to delete TDS configuration")}},g=async x=>{var p,f;x.preventDefault(),s(!0);try{if(o){const d=await M.put(`/api/tdsconfig/${o._id}`,c);t(e.map(j=>j._id===o._id?d.data:j)),alert("TDS configuration updated successfully")}else{const d=await M.post("/api/tdsconfig",c);t([...e,d.data]),alert("TDS configuration created successfully")}a(!1)}catch(d){console.error("Error saving config:",d),alert(((f=(p=d.response)==null?void 0:p.data)==null?void 0:f.error)||"Failed to save TDS configuration")}finally{s(!1)}},v=async()=>{var p,f,d;if(!confirm("Load default Indian TDS sections? This will add common TDS rates."))return;const x=[{section:"194C",description:"Payment to contractors",rate:1,applicableFor:"BOTH"},{section:"194J",description:"Professional or technical services",rate:10,applicableFor:"SERVICE"},{section:"194H",description:"Commission or brokerage",rate:5,applicableFor:"SERVICE"},{section:"194I",description:"Rent",rate:10,applicableFor:"SERVICE"},{section:"194Q",description:"Payment for purchase of goods",rate:.1,applicableFor:"PRODUCT"}];try{for(const j of x)try{await M.post("/api/tdsconfig",{...j,isActive:!0})}catch(N){if(!((d=(f=(p=N.response)==null?void 0:p.data)==null?void 0:f.error)!=null&&d.includes("already exists")))throw N}h(),alert("Default TDS configurations loaded successfully")}catch(j){console.error("Error loading defaults:",j),alert("Failed to load some default configurations")}};return n&&e.length===0?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsxs(ee,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"TDS Settings"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Configure TDS (Tax Deducted at Source) rates for your organization"})]}),r.jsxs("div",{className:"flex gap-3",children:[e.length===0&&r.jsx("button",{onClick:v,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-colors",children:"Load Defaults"}),r.jsxs("button",{onClick:m,className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Add TDS Section"]})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(Vr,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"About TDS Configuration"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Set up TDS sections and rates that will be automatically applied to invoices. Common sections include 194C (Contractors), 194J (Professional Services), 194H (Commission), etc."})]})]})}),e.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(Vr,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No TDS configurations yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Add TDS sections to automatically calculate tax deductions on invoices"}),r.jsxs("div",{className:"flex gap-3 justify-center",children:[r.jsx("button",{onClick:v,className:"inline-flex items-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-colors",children:"Load Default Sections"}),r.jsxs("button",{onClick:m,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Add Custom Section"]})]})]})}):r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Section"}),r.jsx("th",{className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Description"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Rate (%)"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Applicable For"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Status"}),r.jsx("th",{className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase",children:"Actions"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(x=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("span",{className:"font-medium text-gray-900",children:x.section})}),r.jsx("td",{className:"py-3 px-4 text-sm text-gray-600",children:x.description}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("span",{className:"text-sm font-semibold text-blue-600",children:[x.rate,"%"]})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:"px-2 py-1 text-xs font-medium bg-gray-100 text-gray-700 rounded-full",children:x.applicableFor})}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${x.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:x.isActive?"Active":"Inactive"})}),r.jsx("td",{className:"py-3 px-4",children:r.jsxs("div",{className:"flex items-center justify-center gap-2",children:[r.jsx("button",{onClick:()=>y(x),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(Ol,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>b(x._id,x.section),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(es,{className:"w-4 h-4"})})]})})]},x._id))})]})})})]}),l&&r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:r.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full",children:[r.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:o?"Edit TDS Section":"Add TDS Section"}),r.jsx("button",{onClick:()=>a(!1),className:"text-gray-400 hover:text-gray-600",children:r.jsx(Fl,{className:"w-6 h-6"})})]}),r.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Section ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",required:!0,value:c.section,onChange:x=>u({...c,section:x.target.value}),placeholder:"e.g., 194J",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"text",required:!0,value:c.description,onChange:x=>u({...c,description:x.target.value}),placeholder:"e.g., Professional or technical services",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["TDS Rate (%) ",r.jsx("span",{className:"text-red-500",children:"*"})]}),r.jsx("input",{type:"number",required:!0,min:"0",max:"100",step:"0.01",value:c.rate,onChange:x=>u({...c,rate:parseFloat(x.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Applicable For"}),r.jsxs("select",{value:c.applicableFor,onChange:x=>u({...c,applicableFor:x.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"BOTH",children:"Both Products & Services"}),r.jsx("option",{value:"PRODUCT",children:"Products Only"}),r.jsx("option",{value:"SERVICE",children:"Services Only"})]})]}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:c.isActive,onChange:x=>u({...c,isActive:x.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Active"})]})}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx("button",{type:"button",onClick:()=>a(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),r.jsxs("button",{type:"submit",disabled:n,className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center justify-center gap-2",children:[r.jsx(Zr,{className:"w-4 h-4"}),n?"Saving...":o?"Update":"Create"]})]})]})]})})]})}function Ly(){const e=we(),[t,n]=w.useState([]),[s,l]=w.useState(!0),[a,o]=w.useState(!1),[i,c]=w.useState(null);w.useEffect(()=>{u()},[]);const u=async()=>{try{const p=await M.get("/api/recurring-invoices");n(p.data||[])}catch(p){console.error("Error fetching recurring invoices:",p)}finally{l(!1)}},h=async p=>{try{await M.patch(`/api/recurring-invoices/${p}/toggle-status`),u(),alert("Status updated successfully")}catch(f){console.error("Error toggling status:",f),alert("Failed to update status")}},m=async(p,f)=>{if(confirm(`Generate invoice now for "${f}"?`))try{const d=await M.post(`/api/recurring-invoices/${p}/generate`);alert("Invoice generated successfully!"),u(),e(`/invoices/view/${d.data.invoice._id}`)}catch(d){console.error("Error generating invoice:",d),alert("Failed to generate invoice")}},y=async(p,f)=>{if(confirm(`Delete recurring template "${f}"?`))try{await M.delete(`/api/recurring-invoices/${p}`),n(t.filter(d=>d._id!==p)),alert("Template deleted successfully")}catch(d){console.error("Error deleting template:",d),alert("Failed to delete template")}},b=p=>({DAILY:"Daily",WEEKLY:"Weekly",MONTHLY:"Monthly",QUARTERLY:"Quarterly",YEARLY:"Yearly"})[p]||p,g=p=>{const f=new Date(p),j=Math.ceil((f-new Date)/(1e3*60*60*24));return j<0?"Overdue":j===0?"Today":j===1?"Tomorrow":`In ${j} days`},v=t.filter(p=>p.isActive).length,x=t.reduce((p,f)=>p+f.invoicesGenerated,0);return s?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Recurring Invoices"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Automate invoice generation on schedule"})]}),r.jsxs("button",{onClick:()=>e("/recurring-invoices/add"),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Create Template"]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Templates"}),r.jsx(kn,{className:"w-5 h-5 text-blue-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t.length}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[v," active"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Active Templates"}),r.jsx(mm,{className:"w-5 h-5 text-green-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-green-600",children:v}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[t.length-v," paused"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Generated"}),r.jsx(ga,{className:"w-5 h-5 text-purple-600"})]}),r.jsx("p",{className:"text-3xl font-bold text-purple-600",children:x}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"invoices created"})]})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(kn,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"About Recurring Invoices"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Create templates to automatically generate invoices on schedule. Perfect for retainers, subscriptions, and recurring services."})]})]})}),t.length===0?r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsxs("div",{className:"max-w-md mx-auto",children:[r.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(kn,{className:"w-8 h-8 text-blue-600"})}),r.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No recurring templates yet"}),r.jsx("p",{className:"text-gray-500 mb-6",children:"Create templates to automatically generate invoices on schedule"}),r.jsxs("button",{onClick:()=>e("/recurring-invoices/add"),className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-2.5 rounded-lg hover:bg-blue-700 transition-colors",children:[r.jsx(tt,{className:"w-5 h-5"}),"Create First Template"]})]})}):r.jsx("div",{className:"grid grid-cols-1 gap-4",children:t.map(p=>{var f;return r.jsxs("div",{className:`bg-white rounded-lg shadow-sm border-2 p-6 transition-all ${p.isActive?"border-green-200 hover:border-green-300":"border-gray-200 hover:border-gray-300"}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.templateName}),r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${p.isActive?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:p.isActive?"Active":"Paused"})]}),r.jsx("p",{className:"text-sm text-gray-600",children:((f=p.client)==null?void 0:f.companyName)||"Client not found"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>m(p._id,p.templateName),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Generate invoice now",children:r.jsx(ga,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>h(p._id),className:`p-2 rounded-lg transition-colors ${p.isActive?"text-orange-600 hover:bg-orange-50":"text-green-600 hover:bg-green-50"}`,title:p.isActive?"Pause":"Resume",children:p.isActive?r.jsx(fy,{className:"w-5 h-5"}):r.jsx(py,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>e(`/recurring-invoices/edit/${p._id}`),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:r.jsx(Ol,{className:"w-5 h-5"})}),r.jsx("button",{onClick:()=>y(p._id,p.templateName),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:r.jsx(es,{className:"w-5 h-5"})})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kn,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Frequency"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:b(p.frequency)})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(fm,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Next Invoice"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:new Date(p.nextInvoiceDate).toLocaleDateString("en-IN")}),r.jsx("p",{className:"text-xs text-gray-500",children:g(p.nextInvoiceDate)})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ga,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Generated"}),r.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[p.invoicesGenerated," invoices"]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Il,{className:"w-4 h-4 text-gray-400"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-xs text-gray-500",children:"Last Generated"}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:p.lastGeneratedDate?new Date(p.lastGeneratedDate).toLocaleDateString("en-IN"):"Never"})]})]})]}),r.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[r.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Items (",p.items.length,")"]}),r.jsxs("div",{className:"space-y-1",children:[p.items.slice(0,3).map((d,j)=>r.jsxs("div",{className:"flex justify-between text-sm",children:[r.jsx("span",{className:"text-gray-700",children:d.description}),r.jsxs("span",{className:"font-medium text-gray-900",children:["",d.amount.toLocaleString("en-IN")]})]},j)),p.items.length>3&&r.jsxs("p",{className:"text-xs text-gray-500",children:["+",p.items.length-3," more items"]})]})]})]},p._id)})})]})})}function Ay(){var b,g,v,x,p,f,d,j,N,k,E,R,D,S,I,A,z;const[e,t]=w.useState(!0),[n,s]=w.useState(!1),[l,a]=w.useState(null),[o,i]=w.useState({phoneNumber:"",message:""}),[c,u]=w.useState(null);w.useEffect(()=>{h()},[]);const h=async()=>{try{const T=await M.get("/api/whatsapp/config");a(T.data)}catch(T){console.error("Error fetching config:",T)}finally{t(!1)}},m=async()=>{s(!0);try{await M.put("/api/whatsapp/config",l),alert("WhatsApp configuration saved successfully")}catch(T){console.error("Error saving config:",T),alert("Failed to save configuration")}finally{s(!1)}},y=async()=>{if(!o.phoneNumber||!o.message){alert("Please enter phone number and message");return}try{const T=await M.post("/api/whatsapp/test",o);u({success:!0,data:T.data}),alert("Test message sent successfully!")}catch(T){console.error("Error sending test:",T),u({success:!1,error:T.message}),alert("Failed to send test message")}};return e?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsx(ee,{children:r.jsxs("div",{className:"max-w-4xl mx-auto space-y-6",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"WhatsApp Settings"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Configure WhatsApp integration for automated messaging"})]}),r.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx(hm,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm text-blue-900 font-medium",children:"WhatsApp Integration"}),r.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"Send invoices, payment confirmations, and reminders directly via WhatsApp. Choose from multiple providers or use manual mode."})]})]})}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Provider Configuration"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"WhatsApp Provider"}),r.jsxs("select",{value:(l==null?void 0:l.provider)||"MANUAL",onChange:T=>a({...l,provider:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[r.jsx("option",{value:"MANUAL",children:"Manual (Copy & Paste)"}),r.jsx("option",{value:"TWILIO",children:"Twilio"}),r.jsx("option",{value:"WHATSAPP_BUSINESS",children:"WhatsApp Business API"}),r.jsx("option",{value:"MESSAGEBIRD",children:"MessageBird"}),r.jsx("option",{value:"GUPSHUP",children:"Gupshup"})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select your WhatsApp messaging provider"})]}),(l==null?void 0:l.provider)==="TWILIO"&&r.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 rounded-lg",children:[r.jsx("h3",{className:"font-medium text-gray-900",children:"Twilio Configuration"}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Account SID"}),r.jsx("input",{type:"text",value:(l==null?void 0:l.twilioAccountSid)||"",onChange:T=>a({...l,twilioAccountSid:T.target.value}),placeholder:"ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auth Token"}),r.jsx("input",{type:"password",value:(l==null?void 0:l.twilioAuthToken)||"",onChange:T=>a({...l,twilioAuthToken:T.target.value}),placeholder:"Your auth token",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"WhatsApp Number"}),r.jsx("input",{type:"text",value:(l==null?void 0:l.twilioWhatsAppNumber)||"",onChange:T=>a({...l,twilioWhatsAppNumber:T.target.value}),placeholder:"+14155238886",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]}),(l==null?void 0:l.provider)==="MANUAL"&&r.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:r.jsxs("p",{className:"text-sm text-yellow-800",children:[r.jsx("strong",{children:"Manual Mode:"})," Messages will be prepared for you to copy and send via WhatsApp manually. No API configuration needed."]})}),r.jsx("div",{children:r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.isActive)||!1,onChange:T=>a({...l,isActive:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-sm text-gray-700",children:"Enable WhatsApp Integration"})]})})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Message Templates"}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Invoice Created Message"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:((g=(b=l==null?void 0:l.templates)==null?void 0:b.invoiceCreated)==null?void 0:g.enabled)||!1,onChange:T=>{var O;return a({...l,templates:{...l.templates,invoiceCreated:{...(O=l.templates)==null?void 0:O.invoiceCreated,enabled:T.target.checked}}})},className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Enabled"})]})]}),r.jsx("textarea",{rows:3,value:((x=(v=l==null?void 0:l.templates)==null?void 0:v.invoiceCreated)==null?void 0:x.message)||"",onChange:T=>{var O;return a({...l,templates:{...l.templates,invoiceCreated:{...(O=l.templates)==null?void 0:O.invoiceCreated,message:T.target.value}}})},placeholder:"Hi {clientName}, Invoice {invoiceNumber} for {amount}...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Variables: ","{clientName}",", ","{invoiceNumber}",", ","{amount}",", ","{dueDate}",","," ","{invoiceLink}"]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payment Received Message"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:((f=(p=l==null?void 0:l.templates)==null?void 0:p.paymentReceived)==null?void 0:f.enabled)||!1,onChange:T=>{var O;return a({...l,templates:{...l.templates,paymentReceived:{...(O=l.templates)==null?void 0:O.paymentReceived,enabled:T.target.checked}}})},className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Enabled"})]})]}),r.jsx("textarea",{rows:2,value:((j=(d=l==null?void 0:l.templates)==null?void 0:d.paymentReceived)==null?void 0:j.message)||"",onChange:T=>{var O;return a({...l,templates:{...l.templates,paymentReceived:{...(O=l.templates)==null?void 0:O.paymentReceived,message:T.target.value}}})},placeholder:"Hi {clientName}, Payment of {amount} received...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Payment Reminder"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:((k=(N=l==null?void 0:l.templates)==null?void 0:N.paymentReminder)==null?void 0:k.enabled)||!1,onChange:T=>{var O;return a({...l,templates:{...l.templates,paymentReminder:{...(O=l.templates)==null?void 0:O.paymentReminder,enabled:T.target.checked}}})},className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Enabled"})]})]}),r.jsx("textarea",{rows:2,value:((R=(E=l==null?void 0:l.templates)==null?void 0:E.paymentReminder)==null?void 0:R.message)||"",onChange:T=>{var O;return a({...l,templates:{...l.templates,paymentReminder:{...(O=l.templates)==null?void 0:O.paymentReminder,message:T.target.value}}})},placeholder:"Hi {clientName}, Reminder: Invoice {invoiceNumber}...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Overdue Notice"}),r.jsxs("label",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",checked:((S=(D=l==null?void 0:l.templates)==null?void 0:D.paymentOverdue)==null?void 0:S.enabled)||!1,onChange:T=>{var O;return a({...l,templates:{...l.templates,paymentOverdue:{...(O=l.templates)==null?void 0:O.paymentOverdue,enabled:T.target.checked}}})},className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsx("span",{className:"text-xs text-gray-600",children:"Enabled"})]})]}),r.jsx("textarea",{rows:2,value:((A=(I=l==null?void 0:l.templates)==null?void 0:I.paymentOverdue)==null?void 0:A.message)||"",onChange:T=>{var O;return a({...l,templates:{...l.templates,paymentOverdue:{...(O=l.templates)==null?void 0:O.paymentOverdue,message:T.target.value}}})},placeholder:"Hi {clientName}, Invoice {invoiceNumber} is overdue...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Automation Settings"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.autoSendInvoice)||!1,onChange:T=>a({...l,autoSendInvoice:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto-send invoice on creation"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically send WhatsApp message when invoice is created"})]})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.autoSendPaymentConfirmation)||!1,onChange:T=>a({...l,autoSendPaymentConfirmation:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Auto-send payment confirmation"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically send confirmation when payment is recorded"})]})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.sendReminderBeforeDue)||!1,onChange:T=>a({...l,sendReminderBeforeDue:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send reminder before due date"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Send reminder few days before due date"})]})]}),(l==null?void 0:l.sendReminderBeforeDue)&&r.jsxs("div",{className:"ml-7",children:[r.jsx("label",{className:"block text-sm text-gray-700 mb-1",children:"Days before due date"}),r.jsx("input",{type:"number",min:"1",max:"30",value:(l==null?void 0:l.reminderDaysBefore)||3,onChange:T=>a({...l,reminderDaysBefore:parseInt(T.target.value)}),className:"w-32 px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("label",{className:"flex items-center gap-3",children:[r.jsx("input",{type:"checkbox",checked:(l==null?void 0:l.sendOverdueReminder)||!1,onChange:T=>a({...l,sendOverdueReminder:T.target.checked}),className:"w-4 h-4 text-blue-600 rounded focus:ring-2 focus:ring-blue-500"}),r.jsxs("div",{children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Send overdue reminders"}),r.jsx("p",{className:"text-xs text-gray-500",children:"Automatically send reminders for overdue invoices"})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Message"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number (with country code)"}),r.jsx("input",{type:"text",value:o.phoneNumber,onChange:T=>i({...o,phoneNumber:T.target.value}),placeholder:"+919876543210",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Message"}),r.jsx("textarea",{rows:3,value:o.message,onChange:T=>i({...o,message:T.target.value}),placeholder:"Test message to send...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("button",{onClick:y,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(xy,{className:"w-4 h-4"}),"Send Test Message"]}),c&&r.jsx("div",{className:`p-4 rounded-lg ${c.success?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:c.success?r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(mm,{className:"w-5 h-5 text-green-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-green-900",children:"Message sent!"}),r.jsx("p",{className:"text-xs text-green-700 mt-1",children:((z=c.data)==null?void 0:z.message)||"Test message sent successfully"})]})]}):r.jsxs("div",{className:"flex items-start gap-3",children:[r.jsx(Al,{className:"w-5 h-5 text-red-600 flex-shrink-0 mt-0.5"}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-red-900",children:"Failed to send"}),r.jsx("p",{className:"text-xs text-red-700 mt-1",children:c.error})]})]})})]})]}),r.jsx("div",{className:"flex justify-end gap-3",children:r.jsxs("button",{onClick:m,disabled:n,className:"flex items-center gap-2 bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 disabled:bg-gray-400 transition-colors",children:[r.jsx(Zr,{className:"w-5 h-5"}),n?"Saving...":"Save Configuration"]})})]})})}function Iy(){const e=we(),[t,n]=w.useState(!0),[s,l]=w.useState({startDate:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]}),[a,o]=w.useState(null),[i,c]=w.useState([]),[u,h]=w.useState([]);w.useEffect(()=>{m()},[s]);const m=async()=>{try{n(!0);const[g,v,x]=await Promise.all([M.get("/api/analytics/revenue",{params:s}),M.get("/api/analytics/top-clients",{params:{limit:10}}),M.get("/api/analytics/product-performance",{params:s})]);o(g.data),c(v.data||[]),h(x.data||[])}catch(g){console.error("Error fetching analytics:",g)}finally{n(!1)}},y=async g=>{try{const v=await M.get("/api/analytics/export",{params:{reportType:g,...s}});if(v.data&&v.data.length>0){const x=Object.keys(v.data[0]),p=[x.join(","),...v.data.map(N=>x.map(k=>N[k]).join(","))].join(`
`),f=new Blob([p],{type:"text/csv"}),d=window.URL.createObjectURL(f),j=document.createElement("a");j.href=d,j.download=`${g}-${new Date().toISOString().split("T")[0]}.csv`,j.click(),window.URL.revokeObjectURL(d)}}catch(v){console.error("Error exporting:",v),alert("Failed to export data")}};if(t)return r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})});const b=(a==null?void 0:a.summary)||{};return r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Advanced Analytics"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Comprehensive business intelligence and insights"})]}),r.jsx("div",{className:"flex gap-3",children:r.jsxs("button",{onClick:()=>e("/analytics/client-profitability"),className:"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors",children:[r.jsx(jo,{className:"w-4 h-4"}),"Client Profitability"]})})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:s.startDate,onChange:g=>l({...s,startDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:s.endDate,onChange:g=>l({...s,endDate:g.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:m,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filter"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Revenue"}),r.jsx(ol,{className:"w-5 h-5 text-green-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-gray-900",children:["",(b.totalRevenue||0).toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.totalInvoices||0," invoices"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Total Paid"}),r.jsx(il,{className:"w-5 h-5 text-blue-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:["",(b.totalPaid||0).toLocaleString("en-IN")]}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.totalRevenue>0?(b.totalPaid/b.totalRevenue*100).toFixed(1):0,"% collection rate"]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Outstanding"}),r.jsx($r,{className:"w-5 h-5 text-orange-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["",(b.totalOutstanding||0).toLocaleString("en-IN")]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Pending collection"})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("p",{className:"text-sm text-gray-600",children:"Avg Invoice"}),r.jsx(jo,{className:"w-5 h-5 text-purple-600"})]}),r.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:["",(b.avgInvoiceValue||0).toLocaleString("en-IN",{maximumFractionDigits:0})]}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Per invoice"})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total GST Collected"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(b.totalGST||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total TDS Deducted"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(b.totalTDS||0).toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Discounts"}),r.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["",(b.totalDiscount||0).toLocaleString("en-IN")]})]})]}),(a==null?void 0:a.statusBreakdown)&&a.statusBreakdown.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Invoice Status Breakdown"}),r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:a.statusBreakdown.map(g=>r.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-1",children:g._id}),r.jsx("p",{className:"text-2xl font-bold text-gray-900",children:g.count}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["",g.amount.toLocaleString("en-IN")]})]},g._id))})]}),(a==null?void 0:a.monthlyTrend)&&a.monthlyTrend.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Monthly Revenue Trend"}),r.jsx("div",{className:"space-y-3",children:a.monthlyTrend.map(g=>{const v=new Date(g._id.year,g._id.month-1).toLocaleString("en-IN",{month:"short",year:"numeric"}),x=Math.max(...a.monthlyTrend.map(f=>f.revenue)),p=g.revenue/x*100;return r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium text-gray-700",children:v}),r.jsxs("span",{className:"text-sm text-gray-600",children:["",g.revenue.toLocaleString("en-IN")]})]}),r.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:r.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.invoices," invoices"]})]},`${g._id.year}-${g._id.month}`)})})]}),i.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top 10 Clients"}),r.jsx(Vn,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 px-4 text-xs font-semibold text-gray-700",children:"Rank"}),r.jsx("th",{className:"text-left py-2 px-4 text-xs font-semibold text-gray-700",children:"Client"}),r.jsx("th",{className:"text-right py-2 px-4 text-xs font-semibold text-gray-700",children:"Revenue"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Invoices"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:i.map((g,v)=>{var x;return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsxs("td",{className:"py-2 px-4 text-sm font-medium text-gray-900",children:["#",v+1]}),r.jsx("td",{className:"py-2 px-4 text-sm text-gray-900",children:((x=g.client)==null?void 0:x.companyName)||"N/A"}),r.jsxs("td",{className:"py-2 px-4 text-sm text-right font-medium text-gray-900",children:["",g.totalRevenue.toLocaleString("en-IN")]}),r.jsx("td",{className:"py-2 px-4 text-sm text-center text-gray-600",children:g.totalInvoices})]},g._id)})})]})})]}),u.length>0&&r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Top Products/Services"}),r.jsx(xm,{className:"w-5 h-5 text-gray-400"})]}),r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{className:"text-left py-2 px-4 text-xs font-semibold text-gray-700",children:"Item"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Type"}),r.jsx("th",{className:"text-right py-2 px-4 text-xs font-semibold text-gray-700",children:"Revenue"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Quantity"}),r.jsx("th",{className:"text-center py-2 px-4 text-xs font-semibold text-gray-700",children:"Orders"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:u.slice(0,10).map(g=>r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-2 px-4 text-sm text-gray-900",children:g._id.description}),r.jsx("td",{className:"py-2 px-4 text-center",children:r.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${g._id.itemType==="PRODUCT"?"bg-green-100 text-green-700":"bg-purple-100 text-purple-700"}`,children:g._id.itemType})}),r.jsxs("td",{className:"py-2 px-4 text-sm text-right font-medium text-gray-900",children:["",g.totalRevenue.toLocaleString("en-IN")]}),r.jsx("td",{className:"py-2 px-4 text-sm text-center text-gray-600",children:g.totalQuantity}),r.jsx("td",{className:"py-2 px-4 text-sm text-center text-gray-600",children:g.timesOrdered})]},g._id.description))})]})})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Export Data"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[r.jsxs("button",{onClick:()=>y("invoices"),className:"flex items-center justify-center gap-2 bg-blue-50 text-blue-700 px-4 py-3 rounded-lg hover:bg-blue-100 transition-colors",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Invoices"})]}),r.jsxs("button",{onClick:()=>y("clients"),className:"flex items-center justify-center gap-2 bg-green-50 text-green-700 px-4 py-3 rounded-lg hover:bg-green-100 transition-colors",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Clients"})]}),r.jsxs("button",{onClick:()=>y("profitability"),className:"flex items-center justify-center gap-2 bg-purple-50 text-purple-700 px-4 py-3 rounded-lg hover:bg-purple-100 transition-colors",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Profitability"})]}),r.jsxs("button",{onClick:()=>y("products"),className:"flex items-center justify-center gap-2 bg-orange-50 text-orange-700 px-4 py-3 rounded-lg hover:bg-orange-100 transition-colors",children:[r.jsx(mt,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm font-medium",children:"Products"})]})]})]})]})})}function _y(){const e=we(),[t,n]=w.useState(!0),[s,l]=w.useState([]),[a,o]=w.useState(""),[i,c]=w.useState("totalRevenue"),[u,h]=w.useState("desc"),[m,y]=w.useState({startDate:new Date(new Date().getFullYear(),0,1).toISOString().split("T")[0],endDate:new Date().toISOString().split("T")[0]});w.useEffect(()=>{b()},[m]);const b=async()=>{try{n(!0);const d=await M.get("/api/analytics/client-profitability",{params:m});l(d.data||[])}catch(d){console.error("Error fetching profitability:",d)}finally{n(!1)}},g=()=>{const d=x.map(D=>{var S;return{Client:((S=D.client)==null?void 0:S.companyName)||"N/A","Total Invoices":D.totalInvoices,"Total Revenue":D.totalRevenue,"Total Paid":D.totalPaid,Outstanding:D.totalOutstanding,"Avg Invoice Value":D.avgInvoiceValue,"Total Discount":D.totalDiscount,"Total TDS":D.totalTDS,"Collection Rate (%)":D.collectionRate.toFixed(2),"Profit Margin":D.profitMargin}}),j=Object.keys(d[0]||{}),N=[j.join(","),...d.map(D=>j.map(S=>D[S]).join(","))].join(`
`),k=new Blob([N],{type:"text/csv"}),E=window.URL.createObjectURL(k),R=document.createElement("a");R.href=E,R.download=`client-profitability-${new Date().toISOString().split("T")[0]}.csv`,R.click(),window.URL.revokeObjectURL(E)},v=d=>{i===d?h(u==="asc"?"desc":"asc"):(c(d),h("desc"))},x=s.filter(d=>{var j,N;return(N=(j=d.client)==null?void 0:j.companyName)==null?void 0:N.toLowerCase().includes(a.toLowerCase())}).sort((d,j)=>{const N=d[i]||0,k=j[i]||0;return u==="asc"?N-k:k-N}),p=x.reduce((d,j)=>({totalInvoices:d.totalInvoices+j.totalInvoices,totalRevenue:d.totalRevenue+j.totalRevenue,totalPaid:d.totalPaid+j.totalPaid,totalOutstanding:d.totalOutstanding+j.totalOutstanding,totalDiscount:d.totalDiscount+j.totalDiscount,totalTDS:d.totalTDS+j.totalTDS,profitMargin:d.profitMargin+j.profitMargin}),{totalInvoices:0,totalRevenue:0,totalPaid:0,totalOutstanding:0,totalDiscount:0,totalTDS:0,profitMargin:0}),f=p.totalRevenue>0?p.totalPaid/p.totalRevenue*100:0;return t?r.jsx(ee,{children:r.jsx("div",{className:"flex justify-center items-center h-96",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})}):r.jsx(ee,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsxs("button",{onClick:()=>e("/analytics"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-2",children:[r.jsx($n,{className:"w-5 h-5"}),"Back to Analytics"]}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Client-wise Profitability"}),r.jsx("p",{className:"text-gray-600 text-sm mt-1",children:"Detailed profitability analysis by client"})]}),r.jsxs("button",{onClick:g,className:"flex items-center gap-2 bg-green-600 text-white px-6 py-2.5 rounded-lg hover:bg-green-700 transition-colors",children:[r.jsx(mt,{className:"w-5 h-5"}),"Export to Excel"]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),r.jsx("input",{type:"date",value:m.startDate,onChange:d=>y({...m,startDate:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),r.jsx("input",{type:"date",value:m.endDate,onChange:d=>y({...m,endDate:d.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),r.jsx("div",{className:"flex items-end",children:r.jsx("button",{onClick:b,className:"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Apply Filter"})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Clients"}),r.jsx("p",{className:"text-3xl font-bold text-gray-900",children:x.length})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Revenue"}),r.jsxs("p",{className:"text-3xl font-bold text-green-600",children:["",p.totalRevenue.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Total Outstanding"}),r.jsxs("p",{className:"text-3xl font-bold text-orange-600",children:["",p.totalOutstanding.toLocaleString("en-IN")]})]}),r.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[r.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Avg Collection Rate"}),r.jsxs("p",{className:"text-3xl font-bold text-blue-600",children:[f.toFixed(1),"%"]})]})]}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:r.jsxs("div",{className:"relative",children:[r.jsx(Xn,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),r.jsx("input",{type:"text",placeholder:"Search clients...",value:a,onChange:d=>o(d.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),r.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:r.jsx("div",{className:"overflow-x-auto",children:r.jsxs("table",{className:"w-full",children:[r.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:r.jsxs("tr",{children:[r.jsx("th",{onClick:()=>v("client.companyName"),className:"text-left py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Client"}),r.jsx("th",{onClick:()=>v("totalInvoices"),className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Invoices"}),r.jsx("th",{onClick:()=>v("totalRevenue"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Total Revenue"}),r.jsx("th",{onClick:()=>v("totalPaid"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Paid"}),r.jsx("th",{onClick:()=>v("totalOutstanding"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Outstanding"}),r.jsx("th",{onClick:()=>v("collectionRate"),className:"text-center py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Collection %"}),r.jsx("th",{onClick:()=>v("avgInvoiceValue"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Avg Invoice"}),r.jsx("th",{onClick:()=>v("totalDiscount"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Discounts"}),r.jsx("th",{onClick:()=>v("totalTDS"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"TDS"}),r.jsx("th",{onClick:()=>v("profitMargin"),className:"text-right py-3 px-4 text-xs font-semibold text-gray-700 uppercase cursor-pointer hover:bg-gray-100",children:"Profit Margin"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-200",children:x.map(d=>{var N;const j=d.collectionRate>=80?"text-green-600 bg-green-50":d.collectionRate>=50?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50";return r.jsxs("tr",{className:"hover:bg-gray-50",children:[r.jsx("td",{className:"py-3 px-4",children:r.jsx("p",{className:"text-sm font-medium text-gray-900",children:((N=d.client)==null?void 0:N.companyName)||"N/A"})}),r.jsx("td",{className:"py-3 px-4 text-center text-sm text-gray-600",children:d.totalInvoices}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm font-medium text-gray-900",children:["",d.totalRevenue.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-600",children:["",d.totalPaid.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm text-orange-600",children:["",d.totalOutstanding.toLocaleString("en-IN")]}),r.jsx("td",{className:"py-3 px-4 text-center",children:r.jsxs("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${j}`,children:[d.collectionRate.toFixed(1),"%"]})}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-600",children:["",d.avgInvoiceValue.toLocaleString("en-IN",{maximumFractionDigits:0})]}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-600",children:["",d.totalDiscount.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm text-gray-600",children:["",d.totalTDS.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right text-sm font-medium text-gray-900",children:["",d.profitMargin.toLocaleString("en-IN")]})]},d._id)})}),r.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:r.jsxs("tr",{children:[r.jsx("td",{className:"py-3 px-4 font-bold text-gray-900",children:"Total"}),r.jsx("td",{className:"py-3 px-4 text-center font-bold text-gray-900",children:p.totalInvoices}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:["",p.totalRevenue.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:["",p.totalPaid.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-orange-600",children:["",p.totalOutstanding.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-center font-bold text-blue-600",children:[f.toFixed(1),"%"]}),r.jsx("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:"-"}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:["",p.totalDiscount.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:["",p.totalTDS.toLocaleString("en-IN")]}),r.jsxs("td",{className:"py-3 px-4 text-right font-bold text-gray-900",children:["",p.profitMargin.toLocaleString("en-IN")]})]})})]})})}),x.length===0&&r.jsx("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center border border-gray-200",children:r.jsx("p",{className:"text-gray-500",children:"No data available for selected date range"})})]})})}function fe({children:e}){return Br(n=>n.user)?e:r.jsx(mo,{to:"/login"})}ya.createRoot(document.getElementById("root")).render(r.jsx(Co.StrictMode,{children:r.jsx(Vx,{children:r.jsxs(Ox,{children:[r.jsx(se,{path:"/login",element:r.jsx(ty,{})}),r.jsx(se,{path:"/dashboard",element:r.jsx(fe,{children:r.jsx(jy,{})})}),r.jsx(se,{path:"/clients",element:r.jsx(fe,{children:r.jsx(by,{})})}),r.jsx(se,{path:"/clients/add",element:r.jsx(fe,{children:r.jsx(uu,{})})}),r.jsx(se,{path:"/clients/edit/:id",element:r.jsx(fe,{children:r.jsx(uu,{})})}),r.jsx(se,{path:"/products",element:r.jsx(fe,{children:r.jsx(wy,{})})}),r.jsx(se,{path:"/products/add",element:r.jsx(fe,{children:r.jsx(du,{})})}),r.jsx(se,{path:"/products/edit/:id",element:r.jsx(fe,{children:r.jsx(du,{})})}),r.jsx(se,{path:"/invoices",element:r.jsx(fe,{children:r.jsx(Sy,{})})}),r.jsx(se,{path:"/invoices/add",element:r.jsx(fe,{children:r.jsx(fu,{})})}),r.jsx(se,{path:"/invoices/edit/:id",element:r.jsx(fe,{children:r.jsx(fu,{})})}),r.jsx(se,{path:"/invoices/view/:id",element:r.jsx(fe,{children:r.jsx(ky,{})})}),r.jsx(se,{path:"/settings/tds",element:r.jsx(fe,{children:r.jsx(Dy,{})})}),r.jsx(se,{path:"/settings/whatsapp",element:r.jsx(fe,{children:r.jsx(Ay,{})})}),r.jsx(se,{path:"/reports/outstanding",element:r.jsx(fe,{children:r.jsx(Ty,{})})}),r.jsx(se,{path:"/reports/ageing",element:r.jsx(fe,{children:r.jsx(Ry,{})})}),r.jsx(se,{path:"/recurring-invoices",element:r.jsx(fe,{children:r.jsx(Ly,{})})}),r.jsx(se,{path:"/analytics",element:r.jsx(fe,{children:r.jsx(Iy,{})})}),r.jsx(se,{path:"/analytics/client-profitability",element:r.jsx(fe,{children:r.jsx(_y,{})})}),r.jsx(se,{path:"/",element:r.jsx(mo,{to:"/dashboard"})}),r.jsx(se,{path:"*",element:r.jsx(mo,{to:"/dashboard"})})]})})}));
